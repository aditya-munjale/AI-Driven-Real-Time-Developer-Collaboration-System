var _6=Object.create;var{getPrototypeOf:q6,defineProperty:S9,getOwnPropertyNames:HZ,getOwnPropertyDescriptor:D6}=Object,FZ=Object.prototype.hasOwnProperty;var j6=($,Z,Y)=>{Y=$!=null?_6(q6($)):{};let G=Z||!$||!$.__esModule?S9(Y,"default",{value:$,enumerable:!0}):Y;for(let X of HZ($))if(!FZ.call(G,X))S9(G,X,{get:()=>$[X],enumerable:!0});return G},jZ=new WeakMap,H6=($)=>{var Z=jZ.get($),Y;if(Z)return Z;if(Z=S9({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")HZ($).map((G)=>!FZ.call(Z,G)&&S9(Z,G,{get:()=>$[G],enumerable:!(Y=D6($,G))||Y.enumerable}));return jZ.set($,Z),Z};var OZ=($,Z)=>{for(var Y in Z)S9($,Y,{get:Z[Y],enumerable:!0,configurable:!0,set:(G)=>Z[Y]=()=>G})};var W5={};OZ(W5,{slugify:()=>X1,sanitizer:()=>o1,parser:()=>b$,default:()=>M5,compiler:()=>J6,astToJSX:()=>JZ,RuleType:()=>M,MarkdownProvider:()=>O5,MarkdownContext:()=>KZ,Markdown:()=>K6});module.exports=H6(W5);var d1=require("solid-js"),XZ=j6(require("solid-js/h"));var C=32,l=9,V0=13,d=10,t0=96,$9=126,g1=91,E9=94,C1=62,x9=35,w5=37,D1=45,i1=61,k1=92,P9=42,Z9=95,H9=60,I9=64,F9=93,O9=33,f9=38,g9=58,B5=70,c1=102,a1=104,x1=119,n9=116,R$=112,WZ=115,MZ=160,vZ=12;var C9=46,G9=47;var N5=34,AZ=43,wZ=124,BZ=123;var NZ=40,bZ=41,L$=120,T$=88,Y9=48,X9=57,m1=65,h1=90,r1=97,s1=122,K1=128,yZ=32;var F6={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},M=F6;var g$={};OZ(g$,{startsWith:()=>c,slugify:()=>X1,skipWhitespace:()=>g0,shouldFilterTag:()=>X$,sanitizer:()=>o1,parseFrontmatterBounds:()=>x$,normalizeInput:()=>p1,normalizeCRLF:()=>b6,isVoidElement:()=>V9,isUnicodeWhitespace:()=>U9,isUnicodePunctuation:()=>G$,isAlnumCode:()=>$$,isASCIIWhitespace:()=>m9,isASCIIPunctuation:()=>w6,inlineCharTypeTable:()=>k9,includes:()=>W6,htmlAttrsToJSXProps:()=>e9,hasKeys:()=>Y$,getTag:()=>y6,getOverrideProps:()=>R6,get:()=>Q9,findLineEnd:()=>I,extractPlainText:()=>SZ,endsWith:()=>Z$,decodeEntityReferences:()=>v9,charClassTable:()=>M9,applyTagFilterToText:()=>J$,VOID_ELEMENTS:()=>E$,SHOULD_RENDER_AS_BLOCK_R:()=>P$,SANITIZE_R:()=>W9,NAMED_CODES_TO_UNICODE:()=>O6,HTML_TO_JSX_MAP:()=>TZ,HTML_CHAR_CODE_R:()=>LZ,ATTRIBUTES_TO_SANITIZE:()=>I$});var t9=require("#entities");function x$($){if(!c($,"---"))return null;let Z=3;while(Z<$.length&&($[Z]===" "||$[Z]==="\t"))Z++;if(Z<$.length&&$[Z]==="\r")Z++;if(Z>=$.length||$[Z]!==`
`)return null;Z++;let Y=!1;while(Z<$.length){let G=Z;while(Z<$.length&&$[Z]!==`
`&&$[Z]!=="\r")Z++;if(Z>=$.length)break;let X=Z;if($[Z]==="\r")Z++;if(Z<$.length&&$[Z]===`
`)Z++;if(c($,"---",G))return{endPos:Z,hasValidYaml:Y};let V=$.indexOf(":",G);if(V!==-1&&V<X)Y=!0}return null}var O6=t9.NAMED_CODES_TO_UNICODE,LZ=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,TZ={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"};function e9($){var Z={};for(var Y in $){var G=Y.toLowerCase(),X=TZ[G];Z[X||Y]=$[Y]}return Z}var P$=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/;function v9($){if($.indexOf("&")===-1)return $;return $.replace(LZ,(Z,Y)=>{var G=t9.decodeEntity(Y);if(G)return G;if(Y[0]==="#"){var X=Y[1]==="x"||Y[1]==="X"?parseInt(Y.slice(2),16):parseInt(Y.slice(1),10);if(X===0||X>=55296&&X<=57343||X>1114111)return"�";return X<=65535?String.fromCharCode(X):String.fromCharCode(55296+(X-65536>>10),56320+(X-65536&1023))}return Z})}var W9=/(javascript|vbscript|data(?!:image)):/i;function o1($){if(W9.test($))return null;if($.indexOf("%")===-1)return $;try{let Z=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(W9.test(Z))return null}catch(Z){return null}return $}var c0={},e0,x0;e0=[192,193,194,195,196,197,224,225,226,227,228,229,230,198];for(x0=0;x0<e0.length;x0++)c0[e0[x0]]="a";c0[231]=c0[199]="c";c0[240]=c0[208]="d";e0=[200,201,202,203,233,232,234,235];for(x0=0;x0<e0.length;x0++)c0[e0[x0]]="e";e0=[207,239,206,238,205,237,204,236];for(x0=0;x0<e0.length;x0++)c0[e0[x0]]="i";c0[209]=c0[241]="n";e0=[248,216,339,338,213,245,212,244,211,243,210,242];for(x0=0;x0<e0.length;x0++)c0[e0[x0]]="o";e0=[220,252,219,251,218,250,217,249];for(x0=0;x0<e0.length;x0++)c0[e0[x0]]="u";c0[376]=c0[255]=c0[221]=c0[253]="y";function $$($){return $>=Y9&&$<=X9||$>=m1&&$<=h1||$>=r1&&$<=s1}function X1($){var Z=[];for(var Y=0;Y<$.length;Y++){var G=$.charCodeAt(Y);if($$(G))if(G>=m1&&G<=h1)Z.push(String.fromCharCode(G+yZ));else Z.push($[Y]);else if(G===C||G===D1)Z.push("-");else{var X=c0[G];if(X)Z.push(X)}}return Z.join("")}function W6($,Z){return $.indexOf(Z)!==-1}function c($,Z,Y){return $.startsWith(Z,Y)}function Z$($,Z,Y){return $.startsWith(Z,(Y===void 0?$.length:Y)-Z.length)}var E$=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","animateTransform","set"]);function V9($){let Z=$.toLowerCase();if(E$.has(Z))return!0;let Y=Z.indexOf(":");if(Y!==-1)return Z=Z.slice(Y+1),E$.has(Z);return!1}var I$=["src","href","data","formAction","srcDoc","action"],f$=1,K9=2,RZ=1,M6=2,v6=3,A6=4,M9=function(){let $=new Uint8Array(128),Z;$[l]=$[d]=$[vZ]=$[V0]=$[C]=f$;for(Z=O9;Z<=G9;Z++)$[Z]=K9;for(Z=g9;Z<=I9;Z++)$[Z]=K9;for(Z=g1;Z<=t0;Z++)$[Z]=K9;for(Z=BZ;Z<=$9;Z++)$[Z]=K9;return $}(),k9=function(){let $=new Uint8Array(128);return $[k1]=M6,$[g1]=A6,$[P9]=$[Z9]=$[$9]=$[i1]=v6,$[t0]=$[H9]=$[I9]=$[F9]=$[d]=$[C]=$[O9]=RZ,$[c1]=$[a1]=$[x1]=RZ,$}();function w6($){return $<K1&&(M9[$]&K9)!==0}function m9($){return $<K1&&(M9[$]&f$)!==0}var B6=/[\p{P}\p{S}]/u,N6=/\p{Zs}/u;function U9($){if(!$)return!0;let Z=$.charCodeAt(0);return Z<K1?(M9[Z]&f$)!==0:N6.test($)}function G$($){if(typeof $==="number")return $<K1&&(M9[$]&K9)!==0;if(!$)return!1;let Z=$.charCodeAt(0);return Z<K1?(M9[Z]&K9)!==0:B6.test($)}function I($,Z){let Y=$.indexOf(`
`,Z);if(Y===-1)return $.length;if(Y>0&&$.charCodeAt(Y-1)===V0)return Y-1;return Y}var J9=[];function p1($){var Z=$.indexOf("\r"),Y=$.indexOf("\x00");if(Z===-1&&Y===-1)return $;var G=$.length;J9.length=0;var X=0,V=0;if(Z===-1)V=Y;else if(Y===-1)V=Z;else V=Z<Y?Z:Y;for(;V<G;V++){var K=$.charCodeAt(V);if(K===V0){if(X<V)J9.push($.slice(X,V));if(V+1<G&&$.charCodeAt(V+1)===d)V++;J9.push(`
`),X=V+1}else if(K===0){if(X<V)J9.push($.slice(X,V));J9.push("�"),X=V+1}}if(X<G)J9.push($.slice(X));return J9.join("")}function b6($){return p1($)}function g0($,Z,Y){let G=Y??$.length;while(Z<G&&($[Z]===" "||$[Z]==="\t"))Z++;return Z}function Y$($){if(!$)return!1;for(var Z in $)return!0;return!1}function Q9($,Z,Y){var G=$,X=Z.split("."),V=0;while(V<X.length){if(G=G?.[X[V]],G===void 0)break;V++}return G||Y}function y6($,Z){if(!Z)return $;let Y=Q9(Z,$,void 0);if(typeof Y==="string")return Y;if(typeof Y==="object"&&Y.component)return Y.component;return $}function R6($,Z){if(!Z)return{};let Y=Q9(Z,$,void 0);return typeof Y==="object"&&Y.props?Y.props:{}}function SZ($,Z){var Y="";for(var G=0,X=$.length;G<X;G++){var V=$[G],K=V.type;if(K===Z.text||K===Z.codeInline){var U=V.text;if(U)Y+=U}else if(K===Z.textFormatted||K===Z.link){if(V.children)Y+=SZ(V.children,Z)}else if(K===Z.image){if(V.alt)Y+=V.alt}}return Y}function X$($){var Z=$.toLowerCase();return Z==="title"||Z==="textarea"||Z==="style"||Z==="xmp"||Z==="iframe"||Z==="noembed"||Z==="noframes"||Z==="script"||Z==="plaintext"}function J$($){return $.replace(/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi,function(Z,Y,G,X){return"&lt;"+Y+G+X})}function L6($){console.warn($)}function w9($,Z,Y,G){var X=b(Y),V=$.length,K=G??V-Z,U=0;while(U<K&&Z+U<V&&b($,Z+U)===X)U++;return U}function EZ($,Z,Y,G,X){if(X===0?Y>=G:Z<=G)return!1;let V=X===0?$[Y]:$[Z-1],K=X===0?Z>0?$[Z-1]:null:Y<$.length?$[Y]:null;var U=b(V);if(U<K1?m9(U):U9(V))return!1;var J=K?b(K):null,Q=K===null||K===`
`||K==="\r"||(J!==null?J<K1?m9(J):U9(K):!0),O=F$(U,V);if(!O)return!0;if(Q)return!0;return K?F$(b(K),K):!1}function D$($){var Z="",Y=0;while(Y<$.length)if($[Y]==="\\"&&Y+1<$.length){var G=$[Y+1];Z+=G$(b(G))?G:"\\"+G,Y+=2}else Z+=$[Y++];return v9(Z)}function k($,Z){if(Z>=$.length)return Z;if($.charCodeAt(Z)===V0&&Z+1<$.length&&$.charCodeAt(Z+1)===d)return Z+2;if($.charCodeAt(Z)===d)return Z+1;return Z+1}function T6($,Z){if($>=K1)return 0;var Y=k9[$];if(Z&&Y===1&&($===c1||$===a1||$===x1))return 0;return Y}function S6($,Z,Y,G,X,V){if(!Y.length||Y[Y.length-1].type!==M.blockQuote)return null;let K=g0(G,0,G.length);if(K>=G.length||G[K]!==">")return null;let U=oZ($,Z,X,V);if(!U)return null;let J=Y[Y.length-1],Q=U;if(Q.children)J.children.push(...Q.children);return Q.endPos}function j$($,Z,Y,G){return{type:M.heading,level:$,children:Z,id:G(Y)}}var d$=/\\(.)/g,E6=/\s+#+\s*$/,$Z=/^(?:(\d{1,9})([.)])\s+(.*)$|(\d{1,9})([.)])\s*$|([-*+])\s+(.*)$|([-*+])\s*$)/,i$=/^(\d{1,9})([.)])(\s+|$)/,c$=/^([*+\-])(\s+|$)/,M$=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/i,dZ=/^<([a-z][^ >/]*) ?(?:[^>/]+[^/]|)>/i,b=function($,Z=0){return $.charCodeAt(Z)},H$=function($){return $$(b($))},a$=function($){return m9(b($))},j1=function($){return $===" "||$==="\t"},h9=function($){return $===" "||$==="\t"||$===`
`||$==="\r"},F$=function($,Z){return G$($<K1?$:Z)},x6=function($){var Z=b($);return H$($)||Z===D1||Z===Z9||Z===g9||Z===C9};function r$($,Z){var Y=$.length;if(Z>=Y)return null;var G=b($[Z]);if(!z9(G))return null;var X=Z,V=Z;while(V<Y){var K=b($[V]);if(K>=r1&&K<=s1||K>=m1&&K<=h1||K>=Y9&&K<=X9||K===D1)V++;else{var U=b($[V]);if(U===C||U===l||U===d||U===V0||U===C1||U===G9)break;else return null}}if(V===X)return null;var J=$.slice(X,V);for(var Q=0;Q<J.length;Q++){var K=b(J[Q]);if(!(K>=r1&&K<=s1||K>=m1&&K<=h1||K>=Y9&&K<=X9||K===D1))return null}return{tagName:J,tagLower:J.toLowerCase(),nextPos:V}}function t1($,Z){var Y=q$($,Z);if(!Y||Y.kind!=="tag")return null;return{tagName:Y.tagName||"",tagLower:Y.tagNameLower||"",attrs:Y.attrs||"",endPos:Y.endPos,isClosing:Y.isClosing||!1,isSelfClosing:Y.isSelfClosing||!1,hasNewline:Y.hasNewline,hasSpaceBeforeSlash:!1,whitespaceBeforeAttrs:Y.whitespaceBeforeAttrs||""}}function P6($,Z,Y){var G=1,X=Z;while(G>0&&X<$.length){var V=$.indexOf("<",X);if(V===-1)return null;var K=t1($,V);if(!K){X=V+1;continue}if(K.isClosing&&K.tagLower===Y&&--G===0)return[V,K.endPos];if(!K.isClosing&&!K.isSelfClosing&&K.tagLower===Y)G++;X=K.endPos}return null}var I6=/^\{.*\}$/,v$=/\n\n/,A$=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m,f6=/<\/?(?:pre|script|style|textarea)\b/i,iZ=/^<[A-Z]/,g6=/\n$/,C6=new Set(["#",">","-","*","+","`","|","0","1","2","3","4","5","6","7","8","9"]);function k6($,Z,Y,G){let X=Z;while(X<Y){if($[X]==="\\"&&X+1<Y){X+=2;continue}if($[X]===G)return X;X++}return-1}function xZ($,Z){var Y=Z.indexOf(":");if(Y>0){var G=Z.slice(Y+1).trim(),X=G.length;if(X>=2){var V=G[0];if((V==='"'||V==="'")&&G[X-1]===V)G=G.slice(1,-1)}$.push([Z.slice(0,Y).trim(),G])}}function m6($){var Z=[];if(!$)return Z;var Y="",G=0,X="";for(var V=0;V<$.length;V++){var K=$[V];if(K==='"'||K==="'"){if(!X)X=K,G++;else if(K===X)X="",G--}else if(K==="("&&Z$(Y,"url"))G++;else if(K===")"&&G>0)G--;else if(K===";"&&G===0){xZ(Z,Y),Y="";continue}Y+=K}return xZ(Z,Y),Z}function h6(tag,key,value,sanitizeUrlFn,options){if(key==="style")return m6(value).reduce(function($,[Z,Y]){let G=sanitizeUrlFn(Y,tag,Z);if(G!=null)$[Z.replace(/(-[a-z])/g,(X)=>X[1].toUpperCase())]=G;return $},{});if(value.match(I6)){if(value=value.slice(1,value.length-1),value=value?value.replace(d$,"$1"):value,value.length>0){let $=value[0];if($==="["||$==="{")try{return JSON.parse(value)}catch(Z){return value}}if(value==="true")return!0;if(value==="false")return!1;if(options.evalUnserializableExpressions)try{return eval(`(${value})`)}catch($){return value}return value}if(I$.indexOf(key)!==-1)return sanitizeUrlFn(value?value.replace(d$,"$1"):value,tag,key);return value==="true"?!0:value==="false"?!1:value}function u1($,Z,Y,G){let X={};if(!$||!$.trim())return X;let V=[],K=0,U=$.length;while(K<U){while(K<U&&h9($[K]))K++;if(K>=U)break;let O=K;while(K<U&&x6($[K]))K++;if(K===O){K++;continue}let A=$.slice(O,K);while(K<U&&h9($[K]))K++;if(K>=U||$[K]!=="="){V.push(A);continue}K++;while(K<U&&h9($[K]))K++;if(K>=U){V.push(A+"=");break}let z=K,q=$[K];if(q==='"'||q==="'"){K++;while(K<U){if($[K]===q){if(K+1>=U){K++;break}let W=$[K+1];if(h9(W)||W==="/"){K++;break}}K++}}else if(q==="{"){let W=1;K++;while(K<U&&W>0){if($[K]==="{")W++;else if($[K]==="}"){if(W--,W===0){K++;break}}K++}}else while(K<U&&!h9($[K]))K++;V.push(A+"="+$.slice(z,K))}if(!V?.length)return X;let J=Z.toLowerCase();for(let O=0;O<V.length;O++){let A=V[O],z=A.indexOf("=");if(z!==-1){let q=A.slice(0,z).trim(),W=q.toLowerCase();if(W==="ref")continue;let _=A.slice(z+1).trim(),H=((D)=>{let F=D[0];if((F==='"'||F==="'")&&D.length>=2&&D[D.length-1]===F)return D.slice(1,-1);return D})(_);if(W==="href"&&J==="a"||W==="src"&&J==="img"){let D=G.sanitizer(H,J,W);if(D==null){L6(`Stripped unsafe ${W} on <${Y}>`);continue}X[q]=D}else{let D=h6(J,W,H,G.sanitizer,G);X[q]=D}}else if(A!=="style")X[A]=!0}if($.indexOf("%")!==-1)try{if(W9.test(decodeURIComponent($)))for(var Q in X)delete X[Q]}catch(O){}else if(W9.test($))for(var Q in X)delete X[Q];return X}var d9=function($){return C6.has($)};function p6($,Z,Y){let G=Z+1;while(G<$.length&&$[G]!=="]"){if($[G]==="\\"&&G+1<$.length){G+=2;continue}G++}if(G>=$.length)return{shouldSkip:!1,newPos:0};let X=Z+1,V=G,K=X<V&&($[X]===`
`||$[X]==="\r"),U=V>X&&($[V-1]===`
`||$[V-1]==="\r"),J=G+1;if(J=g0($,J),J>=$.length||$[J]!==":")return{shouldSkip:!1,newPos:0};if((K||U)&&Y){let Q=J+1;if(Q=g0($,Q),Q<$.length&&$[Q]===`
`)Q=g0($,Q+1);while(Q<$.length&&$[Q]!==`
`)Q++;if(Q<$.length)Q++;return{shouldSkip:!0,newPos:Q}}return u6($,J)}function u6($,Z){let Y=Z+1;if(Y=g0($,Y),Y<$.length&&$[Y]===`
`)Y=g0($,Y+1);while(Y<$.length&&$[Y]!==`
`)Y++;if(Y>=$.length)return{shouldSkip:!1,newPos:0};Y++;let G=g0($,Y);if(G>=$.length||$[G]!=='"'&&$[G]!=="'")return{shouldSkip:!1,newPos:0};let X=$[G],V=G+1;while(V<$.length&&$[V]!==X&&$[V]!==`
`){if($[V]==="\\"&&V+1<$.length){V+=2;continue}V++}if(V>=$.length||$[V]!==X)return{shouldSkip:!1,newPos:0};let K=g0($,V+1);if(K<$.length&&$[K]!==`
`&&$[K]!=="\r")return{shouldSkip:!0,newPos:Y};return{shouldSkip:!1,newPos:0}}function cZ($){for(var Z=0;Z<$.length;Z++){var Y=$[Z];if(Y.type===M.link)return!0;if(Y.type===M.textFormatted){var G=Y;if(G.children&&cZ(G.children))return!0}}return!1}function s$($){var Z="";for(var Y=0,G=$.length;Y<G;Y++){var X=$[Y],V=X.type;if(V===M.text)Z+=X.text;else if(V===M.image){var K=X;if(K.alt)Z+=K.alt}else if(V===M.textFormatted){var U=X;if(U.children)Z+=s$(U.children)}else if(V===M.link){var J=X;if(J.children)Z+=s$(J.children)}}return Z}var l6=new Set([" ","\t","\r",`
`,"\f","\v"]);function l1($,Z,Y,G,X){var V=[],K=[],U=[],J=Z,Q=Z,O=X.disableAutoLink||G.inAnchor,A=!1,z=!!G.inAnchor,q=!!X.disableParsingRawHTML,W=X.optimizeForStreaming,_=-1,H=-1,D=[],F=function(f0,J1){if(W&&G.inHTML)return!1;if(!z&&(!J1||!X.disableAutoLink)){var b0=k$($,J,G,X,"<");if(b0)return j(J),V.push(b0),J=b0.endPos,Q=J,!0}if(q)return!1;var e1=B$($,J,G,X);if(e1){j(J);var s9=V.length;if(V.push(e1),D)D.push(s9);return J=e1.endPos,Q=J,!0}if(W&&H===-1){if(J+1<Y){var Z0=b($,J+1);if(Z0>=m1&&Z0<=h1||Z0>=r1&&Z0<=s1||Z0===G9||Z0===O9)H=J}}if(!f0)return!1;var G0=t1($,J);if(!G0)return!1;var E1=J+(G0.isClosing?2:1);if(E1>=$.length||j1($[E1]))return!1;var v1=$.indexOf(">",J+1);if(v1!==-1){var G1=J+1,y9=v1-G1;if(y9>=7){var n=c($,"http://",G1);if(n||c($,"https://",G1)){for(var S0=G1;S0<v1;S0++)if(j1($[S0]))return!1}}}var y0=b($,E1);if(z9(y0)&&E1+1<$.length&&$[E1+1]===":")return!1;if(G0.isClosing&&G0.attrs.trim().length)return!1;if(G0.attrs.length){var U0=!1,u="";for(var _0=0;_0<G0.attrs.length;_0++){var n0=G0.attrs[_0];if(U0&&n0===u)U0=!1;else if(!U0&&(n0==='"'||n0==="'"))U0=!0,u=n0;else if(n0==="*"||n0==="#"||n0==="!"){var E0=_0+1;while(E0<G0.attrs.length&&G0.attrs[E0]!=="="&&G0.attrs[E0]!==" "&&G0.attrs[E0]!=="\t")E0++;if(E0<G0.attrs.length&&G0.attrs[E0]==="=")return!1}}}var J0=$.slice(J,G0.endPos),A1=G0.tagName.toLowerCase(),m=J0,C0=m.indexOf(">");if(C0!==-1){m=m.slice(C0+1);var R0="</"+A1+">",O0=m.indexOf(R0);if(O0!==-1)m=m.slice(0,O0)}var A0=[];if(m.trim()&&X){var d0={...G,inline:!1,inHTML:!0},L0=m.trim();if(v$.test(L0)||A$.test(L0)||M$.test(L0))A0=a9(L0,d0,X);else if(L0)d0.inline=!0,A0=l1(L0,0,L0.length,d0,X)}var i0=G0.whitespaceBeforeAttrs+G0.attrs,D0=u1(i0,A1,G0.tagName,X),Y1={type:M.htmlBlock,tag:G0.tagName,attrs:D0,children:A0,rawText:J0,text:m,verbatim:!0,endPos:G0.endPos};return j(J),V.push(Y1),J=Y1.endPos,Q=J,!0},j=function(f0){if(f0>Q){var J1=$.slice(Q,f0);V.push({type:M.text,text:A?v9(J1):J1}),Q=f0,A=!1}};while(J<Y){var v=b($,J),S=T6(v,O);if(S===0){if(v===f9)A=!0;J++;while(J<Y){if(v=b($,J),v>=K1)break;if(v===f9)A=!0;var w=k9[v];if(w!==0){if(O&&w===1&&(v===c1||v===a1||v===x1)){J++;continue}break}J++}continue}if(v===t0){var E=J,T=0;while(J+T<Y){if(b($,J+T)!==t0)break;T++}if(T>0){var N=J+T,y=-1,B=N;while(B<Y){while(B<Y&&b($,B)!==t0)B++;if(B>=Y)break;var R=0;while(B+R<Y&&b($,B+R)===t0)R++;if(R>T)R=T;var f=B+R;if(R===T&&(B<=N||b($,B-1)!==t0)&&(f>=Y||b($,f)!==t0)){y=B,B=f;break}B++}if(y!==-1){var x=$.slice(N,y),P=!1;for(var g=0;g<x.length;g++){var h=b(x,g);if(h===d||h===V0){P=!0;break}}var L=x;if(P)L=x.replace(/\r\n/g," ").replace(/\r/g," ").replace(/\n/g," ");if(L.length>0){var a=b(L,0),i=b(L,L.length-1);if(a===C&&i===C){for(var j0=1;j0<L.length-1;j0++)if(b(L,j0)!==C){L=L.slice(1,L.length-1);break}}}j(E),V.push({type:M.codeInline,text:L}),J=B,Q=J;continue}if(W&&_===-1){_=E,j(E),Y=E;break}J=N;continue}}if(!z&&!O&&(v===c1||v===a1||v===x1)){var w0=null,z0=J+1<Y?b($,J+1):0,T0=J+2<Y?b($,J+2):0,p=J+3<Y?b($,J+3):0,V1=J+4<Y?b($,J+4):0,X0=J+5<Y?b($,J+5):0;if(v===a1&&z0===n9&&T0===n9&&p===R$)w0="h";else if(v===x1&&z0===x1&&T0===x1&&p===C9)w0="w";else if(v===c1&&z0===n9&&T0===R$&&p===g9&&V1===G9&&X0===G9)w0="f";if(w0){var P0=k$($,J,G,X,w0);if(P0){j(J),V.push(P0),J=P0.endPos,Q=J;continue}}}if(!z&&!O&&v===I9){var M0=k$($,J,G,X,"@");if(M0&&"emailStart"in M0){var{emailStart:Q0,endPos:a0}=M0,I0=[];for(var f=K.length-1;f>=0;f--){var k0=K[f];if(k0.sourcePos>=Q0&&k0.sourcePos<a0){if(k0.nodeIndex>=0&&k0.nodeIndex<V.length)V.splice(k0.nodeIndex,1),I0.push(k0.nodeIndex);K.splice(f,1)}}if(Q0<Q){for(var B=V.length-1;B>=0;B--)if(V[B].type===M.text){V.splice(B,1),I0.push(B);break}Q=Q0}if(I0.length){I0.sort(function(f0,J1){return f0-J1});var B1=0;for(var r=0;r<K.length;r++){var k0=K[r];while(B1<I0.length&&I0[B1]<k0.nodeIndex)B1++;k0.nodeIndex-=B1}}j(Q0),V.push(M0),J=a0,Q=J;continue}}if(v===H9){if(F(!0,!1))continue}if(v===k1){if(J+1<Y&&b($,J+1)===d){var K0=J+2;while(K0<Y&&b($,K0)===C)K0++;if(K0>=Y){J++;continue}j(J),V.push({type:M.breakLine}),J+=2;while(J<Y&&b($,J)===C)J++;Q=J;continue}var B0=J+1<Y?$[J+1]:"";if(B0&&"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".indexOf(B0)!==-1){j(J),V.push({type:M.text,text:B0==="&"?"&​":B0}),J+=2,Q=J;continue}}if(v===g1){if(!z){if(J+1<Y&&$[J+1]==="^"){var m0=J+2;while(m0<Y&&$[m0]!=="]")m0++;if(m0<Y){var H0=$.slice(J+2,m0);j(J),V.push({type:M.footnoteReference,target:`#${X.slugify(H0)}`,text:H0}),J=m0+1,Q=J;continue}}if(G.inList&&J+2<Y&&b($,J+2)===F9){var q0=b($,J+1);if(q0===C||q0===L$||q0===T$){j(J),V.push({type:M.gfmTask,completed:q0===L$||q0===T$}),J+=3,Q=J;continue}}}var e=!1;if(J>Z&&$[J-1]==="!"){var l0=0;for(var Y0=J-2;Y0>=Z&&$[Y0]==="\\";Y0--)l0++;if((l0&1)===0){if(e=!0,Q<J-1)j(J-1);if(V.length>0&&V[V.length-1].type===M.text){var $0=V[V.length-1];if($0.text.endsWith("!")){if($0.text=$0.text.slice(0,-1),!$0.text)V.pop()}}}}if(!e)j(J);if(Q=J+1,!z||e)U.push({type:e?"image":"link",pos:e?J-1:J,resultIdx:V.length,inAnchor:z});J++;continue}if(v===F9&&U.length>0){var s=U[U.length-1],r0=s.pos+(s.type==="image"?2:1),$1=J;j(J);var U1=J+1,F1=ZZ(V,s),Q1=s.type==="link"&&cZ(F1),N1=!1;if(!Q1&&U1<Y&&$[U1]==="("){var F0=a6($,U1+1,!0);if(F0){PZ(V,K,U,s,r0,$1,X.sanitizer(D$(F0.target),"a","href"),F0.title?D$(F0.title):void 0),J=F0.endPos,Q=J;continue}}var s0=G.refs||{};Y$(s0);var O1=null,P1=J;if(U1<Y&&$[U1]==="["){var z1=U1+1,B=z1;while(B<Y&&$[B]!=="]")B++;if(B<Y)O1=$.slice(z1,B),P1=B,N1=!0}if(!N1||O1==="")O1=$.slice(r0,$1);var h0=rZ(O1);if(!Q1&&s0&&s0[h0]){var _1=s0[h0];PZ(V,K,U,s,r0,$1,_1.target,_1.title),J=P1+1,Q=J;continue}var b1=s.resultIdx;if(U.pop(),V.length=b1,W){if(V.push(...F1),U1<Y&&$[U1]==="(")return V}else{if(s.type==="image")V.push({type:M.text,text:"!"});V.push({type:M.text,text:"["},...F1,{type:M.text,text:"]"})}for(var g=0;g<K.length;g++)if(K[g].nodeIndex>=b1)K[g].nodeIndex++;J++,Q=J;continue}if(v===P9||v===Z9||v===$9||v===i1){var W1=$[J],o=J,Z1=w9($,J,W1);if((W1==="~"||W1==="=")&&Z1!==2){J++;continue}var q1=o+Z1,o0=EZ($,o,q1,Y,0),_9=EZ($,o,q1,Z,1),y1=o0,R1=_9;if(W1==="_"&&o0&&_9){if(o>0){var q9=$[o-1],b9=b(q9);y1=F$(b9,q9)}if(q1<Y){var D9=$[q1],M1=b(D9);R1=F$(M1,D9)}}j(o),K.push({nodeIndex:V.length,type:W1,length:Z1,canOpen:y1,canClose:R1,active:!0,sourcePos:o,inAnchor:z}),V.push({type:M.text,text:$.slice(o,o+Z1)}),J=o+Z1,Q=J;continue}if(v===d){var Y0=J-1,I1=0;while(Y0>=Q&&b($,Y0)===C)I1++,Y0--;if(I1>=2){var K0=J+1;while(K0<Y&&b($,K0)===C)K0++;if(K0>=Y){j(Y0+1),J=Y,Q=Y;continue}j(Y0+1),V.push({type:M.breakLine}),J++;while(J<Y&&b($,J)===C)J++;Q=J;continue}var L1=J>Q?b($,J-1):0,q0=J+1<Y?b($,J+1):0,T1=J>Q&&L1===C&&q0===C?J-1:J;if(j(T1),V.push({type:M.text,text:`
`}),Q=J+1,J>Z&&L1===C&&Q<Y&&b($,Q)===C)Q++;J=Q;continue}if(v===f9)A=!0;J++;while(J<Y){var v=b($,J);if(v>=K1)break;if(v===f9)A=!0;var w=k9[v];if(w===0){J++;continue}if(w===1&&(v===c1||v===a1||v===x1)&&O){J++;continue}break}}if(j(J),K.length)G6(V,K,null);if(W){var v0=V.length;for(var N0=D.length-1;N0>=0;N0--){var p0=D[N0];if(p0<V.length&&V[p0].type===M.htmlBlock){var S1=V[p0];if(!V9(S1.tag)&&(!S1.children||S1.children.length===0)){if(V.splice(p0,1),p0<v0)v0--;for(var g=0;g<K.length;g++)if(K[g].nodeIndex>p0)K[g].nodeIndex--;for(var g=N0+1;g<D.length;g++)if(D[g]>p0)D[g]--}}}if(_!==-1&&_<v0){for(var u0=V.length-1;u0>=0;u0--)if(V[u0].type===M.text){v0=u0;break}}if(H!==-1&&H<v0){for(var u0=V.length-1;u0>=0;u0--)if(V[u0].type===M.text){v0=u0;break}}for(var B=K.length-1;B>=0;B--)if(K[B].active&&K[B].nodeIndex<v0){if(V.splice(K[B].nodeIndex,1),K[B].nodeIndex<v0)v0--;for(var f=0;f<B;f++)if(K[f].nodeIndex>K[B].nodeIndex)K[f].nodeIndex--}if(v0<V.length)V.length=v0;return V}if(U.length){U.sort(function(f0,J1){return f0.resultIdx-J1.resultIdx});for(var B=0;B<U.length;B++)V.splice(U[B].resultIdx+B,0,{type:M.text,text:U[B].type==="image"?"![":"["})}return V}function d6($,Z,Y,G,X){var V=!1;for(var K=0;K<Z.length;K++)if(Z[K].sourcePos>=G&&Z[K].sourcePos<X){V=!0;break}if(!V)return;var U=ZZ($,Y),J=[];for(var K=0;K<Z.length;K++){var Q=Z[K];if(Q.sourcePos>=G&&Q.sourcePos<X)J.push({nodeIndex:Q.nodeIndex-Y.resultIdx,type:Q.type,length:Q.length,canOpen:Q.canOpen,canClose:Q.canClose,active:Q.active,sourcePos:Q.sourcePos,inAnchor:Q.inAnchor})}G6(U,J,null),$.length=Y.resultIdx;for(var O=0;O<U.length;O++)$.push(U[O]);var A=[];for(var K=0;K<Z.length;K++)if(Z[K].sourcePos<G||Z[K].sourcePos>=X)A.push(Z[K]);Z.length=0;for(var O=0;O<A.length;O++)Z.push(A[O])}function i6($,Z,Y,G){if($.type==="link")return{type:M.link,target:Y,title:G,children:Z};return{type:M.image,target:Y||"",alt:s$(Z),title:G}}function ZZ($,Z){return $.slice(Z.resultIdx)}function PZ($,Z,Y,G,X,V,K,U){d6($,Z,G,X,V);var J=ZZ($,G);Y.pop(),$.length=G.resultIdx,$.push(i6(G,J,K,U))}function c6($,Z,Y){let G=g0($,Z),X=G<$.length&&$[G]==="<";if(X)G++;let V=G;if(X&&G<$.length&&$[G]===">")return{target:"",endPos:G+1,hadSpace:!1};let K,U;var J=!1;if(X){U=G;while(U<$.length&&$[U]!==">"){let A=$[U];if(A===`
`||A==="\r"||A==="<")return null;if(A==="\\"){U+=2;continue}U++}if(U>=$.length||$[U]!==">")return null;U++;let Q=V;while(Q<U-1&&j1($[Q]))Q++;let O=U-1;while(O>Q&&j1($[O-1]))O--;K=$.slice(Q,O),G=U}else{let Q=0;U=G;while(U<$.length){let O=$[U];if(O===" "||O==="\t"||O===`
`){J=!0;break}if(!Y&&O===")")break;if(Y&&O==="("){if(U>0&&$[U-1]==="\\"){U++;continue}Q++,U++;continue}if(Y&&O===")"){if(U>0&&$[U-1]==="\\"){U++;continue}if(Q===0)break;Q--,U++;continue}U++}K=$.slice(V,U),G=U}return{target:K,endPos:G,hadSpace:J}}function IZ($,Z,Y,G){let X=Z,V=0;while(X<$.length){let U=$[X];if(j1(U))X++;else if(U===`
`){if(V>=1)break;V++,X++}else if(U9(U))break;else break}if(Y&&!G){if(X>=$.length||$[X]!=='"'&&$[X]!=="'"&&$[X]!=="(")return{title:void 0,endPos:X}}let K=void 0;if(X<$.length){let U=$[X];if(U==='"'||U==="'"){X++;let J=X;while(X<$.length&&$[X]!==U){if($[X]==="\\")X++;X++}if(X<$.length)K=$.slice(J,X),X++}else if(U==="("){X++;let J=X,Q=1;while(X<$.length&&Q>0){if($[X]==="\\"&&X+1<$.length)X++;else if($[X]==="(")Q++;else if($[X]===")")Q--;X++}if(Q===0)K=$.slice(J,X-1)}}return X=g0($,X),{title:K,endPos:X}}function a6($,Z,Y){let G=c6($,Z,Y);if(!G)return null;let X=Z;X=g0($,X);let V=X<$.length&&$[X]==="<";if(V&&G.target===""&&G.endPos===X+2){let U=IZ($,G.endPos,!1,V);if(U.endPos>=$.length||$[U.endPos]!==")")return null;return{target:"",title:U.title,endPos:U.endPos+1}}let K=IZ($,G.endPos,G.hadSpace,V);if(K.endPos>=$.length||$[K.endPos]!==")")return null;return{target:G.target,title:K.title,endPos:K.endPos+1}}var r6;((G)=>{G[G.URI=0]="URI";G[G.EMAIL=1]="EMAIL";G[G.ANGLE=2]="ANGLE"})(r6||={});function z9($){return $>=m1&&$<=h1||$>=r1&&$<=s1}function aZ($){let Z=$.indexOf(":");if(Z<2||Z>32)return!1;let Y=b($);if(!z9(Y))return!1;for(let G=1;G<Z;G++){let X=$[G],V=b(X);if(!H$(X)&&X!=="+"&&X!=="."&&X!=="-")return!1}return!0}function fZ($,Z,Y){if(Z===0)return!0;return(Y?` 	
\r*_~(`:` 	
*_~(`).indexOf($[Z-1])!==-1}function K$($,Z,Y,G,X){let V=G($,"a","href");if(!V)return null;return{type:M.link,target:V,children:[{type:M.text,text:Z}],endPos:Y,...X!==void 0?{emailStart:X}:{}}}function C$($,Z,Y,G,X){if(Y.inAnchor||X!==2&&G.disableAutoLink)return null;if(X===2){if($[Z]!=="<")return null;let _=Z+1;while(_<$.length&&$[_]!==">"){let T=b($,_);if(T===C||T===l||T===d||T===V0||T<C)return null;_++}if(_>=$.length||$[_]!==">")return null;let H=$.slice(Z+1,_);if(!H.length)return null;let D=H.indexOf("\\")!==-1,F=aZ(H),j=c(H,"http://")||c(H,"https://"),v=!1;if(!F&&!j&&H.length>=7){let T=H[0];if(T==="m"||T==="M"){let N=H.toLowerCase();if(c(N,"mailto:")){v=!0;let y=N.indexOf(":"),B=H.slice(y+1);return K$("mailto:"+B,H,_+1,G.sanitizer)}}}let S=!D&&H.indexOf("@")!==-1&&H.indexOf("//")===-1&&!F;if(!j&&!v&&!S&&!F)return null;let w=H,E=H;if(!v&&!F&&!j&&S)w="mailto:"+H;return K$(w,E,_+1,G.sanitizer)}if(X===1){let _=Z;while(_>0&&(H$($[_-1])||".+-_".indexOf($[_-1])!==-1))_--;if(_>=Z||!fZ($,_,!0))return null;let H=Z+1,D=!1;while(H<$.length){let v=$[H];if(v===".")D=!0,H++;else if(H$(v)||v==="-"||v==="_")H++;else break}if(!D||H<=Z+1)return null;while(H>Z+1&&$[H-1]===".")H--;if(H>Z+1&&($[H-1]==="-"||$[H-1]==="_"))return null;if(H-(Z+1)<1e4){if($.indexOf(".",Z+1)>=H||$.indexOf(".",Z+1)===-1)return null}else if($.slice(Z+1,H).indexOf(".")===-1)return null;let j=$.slice(_,H);return K$("mailto:"+j,j,H,G.sanitizer,_)}let V=c($,"http://",Z)||c($,"https://",Z),K=!V&&c($,"ftp://",Z),U=!V&&!K&&c($,"www.",Z);if(!(V||K||U)||!fZ($,Z,!1))return null;var J=Z+(V?b($,Z+4)===WZ?8:7:K?6:4),Q=J;while(J<$.length){let _=b($,J);if(_===C||_===l||_===d||_===H9||_===C1)break;J++}if(J<=Q)return null;let O=J;while(O>Q){let _=$[O-1];if(O>Q+1&&$[O-2]==="\\")break;if(_==="?"||_==="!"||_==="."||_===","||_===":"||_==="*"||_==="_"||_==="~")O--;else if(_===";"){let H=O-2;while(H>=Q&&$[H]!=="&"&&$[H]!==" ")H--;if(H>=Q&&$[H]==="&"){let D=$.slice(H+1,O-1);if(D.length>=2&&D.length<=10&&/^[a-zA-Z0-9]+$/.test(D)&&(D==="lt"||D==="gt"||D.length>=3&&(c(D,"amp")||c(D,"apos")||c(D,"quot")||c(D,"nbsp")||/^[a-z]{3,10}$/.test(D))))break;O=H;break}O--}else if(_===")"){let H=0,D=0;for(let F=Q;F<O;F++){if($[F]==="(")H++;if($[F]===")")D++}if(D>H)O--;else break}else break}if(J=O,J<=Q)return null;var A=Q,z=-1,q=-1;while(A<J){let _=b($,A);if(_>=m1&&_<=h1||_>=r1&&_<=s1||_>=Y9&&_<=X9||_===D1||_===Z9||_===C9){if(_===C9)q=z,z=A;A++;continue}break}if(A===Q||z===-1)return null;if(q===-1)q=Q-1;for(let _=q+1;_<z;_++)if($[_]==="_")return null;for(let _=z+1;_<A;_++)if($[_]==="_")return null;let W=$.slice(Z,J);return K$(U?"http://"+W:W,W,J,G.sanitizer)}function k$($,Z,Y,G,X){if(X==="<")return C$($,Z,Y,G,2);if(X==="h"||X==="f"||X==="w")return C$($,Z,Y,G,0);if(X==="@")return C$($,Z,Y,G,1);return null}function rZ($){var Z=$.trim(),Y=Z.replace(/[\s\t\n\r]+/g," ");if(Y.indexOf("ẞ")!==-1)return Y.replace(/\u1E9E/g,"ss").toLowerCase();return Y.toLowerCase()}function s6($,Z,Y){if(Z+3>=$.length||$[Z]!=="[")return null;let G=$[Z+1];if(G!==" "&&G!=="x"&&G!=="X")return null;if($[Z+2]!=="]")return null;return{type:M.gfmTask,completed:G.toLowerCase()==="x",endPos:Z+3}}function GZ($,Z,Y,G){let{inline:X,inList:V,inBlockQuote:K}=Z;if(G.inline!==void 0)Z.inline=G.inline;if(G.list!==void 0)Z.inList=G.list;if(G.inBlockQuote!==void 0)Z.inBlockQuote=G.inBlockQuote;let U=a9($,Z,Y);return Z.inline=X,Z.inList=V,Z.inBlockQuote=K,U}function i9($,Z,Y,G,X){return w$(G,!0,()=>l1($,Z,Y,G,X))}function c9($,Z,Y,G){var X=$[Z];if(X===void 0)return null;var V=Z,K=null,U=X,J=null,Q=b(X),O=Q===C||Q===l;if(O){if(J=I($,Z),K=t($,Z,J),V=Z+K.charCount,V>=$.length)return Q$($,Z,Y);U=$[V]}var A=K?K.spaceEquivalent:0;if(A>=4){if(O)return Q$($,Z,Y);return null}var z=b(U);if(z===C1){var q=oZ($,Z,Y,G);if(q)return q}else if(z===Z9)return O$($,Z,Y,G);else if(z===D1||z===P9||z===AZ){var W=O$($,Z,Y,G);if(W)return W;var _=e$($,Z,Y,G);if(_)return _}else if(z>=Y9&&z<=X9){var _=e$($,Z,Y,G);if(_)return _}else if(z===x9)return o6($,V,Y,G);else if(z===g1)return N9($,V,Y,G,V+1<$.length&&b($,V+1)===E9);else if(z===H9&&!G.disableParsingRawHTML)return B$($,V,Y,G);else if(z===t0||z===$9){if(!J)J=I($,Z);if(!K)K=t($,Z,J);if(K.spaceEquivalent<=3)return YZ($,V,Y,G)}else if(z===wZ)return Z6($,Z,Y,G);if(O)return Q$($,Z,Y);return null}function a9($,Z,Y){let G=[],X=0;while(X<$.length){while(X<$.length&&$[X]===`
`)X++;if(X>=$.length)break;var V=$[X];if(Z.inList&&G.length>0){var K=G[G.length-1];if(K?.type===M.paragraph){var U=K,J=b(V);if(J===D1||J===i1||J===C||J===l){var Q=I($,X),O=$.slice(X,Q),A=t($,X,Q);if(A.spaceEquivalent<4){var z=O.slice(A.charCount).trim();if($6(G,z,Y)){X=Q+(Q<$.length&&$[Q]===`
`?1:0);continue}}}}}var q=c9($,X,Z,Y);if(q){G.push(q),X=q.endPos;continue}var W=sZ($,X,Z,Y);if(W){G.push(W),X=W.endPos;continue}var _=$.slice(X).trim();if(_){if(Z.inBlockQuote&&G.length>0){let j=function(v){if(v.type===M.blockQuote){var S=v;if(S.children&&S.children.length>0){var w=S.children[S.children.length-1];if(w.type===M.paragraph)return w}}else if(v.type===M.orderedList||v.type===M.unorderedList){var E=v;if(E.items&&E.items.length>0){var T=E.items[E.items.length-1];if(T&&T.length>0){var N=T[T.length-1],y=j(N);if(y)return y}}}return null};for(var H=G.length-1;H>=0;H--){var U=j(G[H]);if(U){var F=o$($,X,Z,Y);if(F){var D=F;if(U.children&&D.children)U.children.push({type:M.text,text:`
`},...D.children);X=F.endPos;continue}}}}var F=o$($,X,Z,Y);if(F){G.push(F),X=F.endPos;continue}}X++}return G}function o6($,Z,Y,G){if(Y.inline)return null;let X=I($,Z),V=t($,Z,X,3);if(V.spaceEquivalent>3&&!Y.inList)return null;var K=Z+V.charCount;if(K>=$.length||$[K]!=="#")return null;let U=w9($,K,"#",6);if(K+=U,K>=$.length)return null;let J=$[K];if(J===`
`||J==="\r"){let q=I($,K);return{...j$(U,[],"",G.slugify),endPos:q+(q<$.length?1:0)}}if(J!==" "&&J!=="\t")return null;let Q=K,O=I($,Q);var A=$.slice(Q,O).replace(E6,"").trim();let z=i9(A,0,A.length,Y,G);return{...j$(U,z,A,G.slugify),endPos:O+(O<$.length?1:0)}}function sZ($,Z,Y,G){if(Y.inline||Y.inBlockQuote||Y.inList)return null;let X=I($,Z);if(X>=$.length)return null;let V=k($,X),K=-1,U=null;for(var J=0;V<$.length&&J<10;J++){let y=I($,V);if(y>=$.length)break;var Q=V;while(Q<y&&(b($,Q)===C||b($,Q)===l||b($,Q)===V0))Q++;if(Q>=y)break;var O=0,A=V;while(A<y&&O<3&&b($,A)===C)O++,A++;if(A<y){let B=b($,A);if(B===i1||B===D1){let R=$[A];var z=0,q=!1,W=A;while(W<y){let f=b($,W);if(f===B){if(q){z=0;break}z++}else if(f===C||f===l)q=!0;else{z=0;break}W++}if(z>=1){K=y,U=R;break}}}V=k($,y)}if(!U)return null;let _=b($,Z);if(_===x9||_===C1||$[Z]==="|")return null;let H=Z;var D=Z,F=!1;while(D<V){let y=I($,D);if(y>=V)break;var j=D;while(j<y&&(b($,j)===C||b($,j)===l||b($,j)===V0))j++;if(j<y)F=!0,H=y;D=k($,y)}if(!F)return null;let v=$.slice(Z,H);var S=0,w=v.length;while(S<w&&(v.charCodeAt(S)===C||v.charCodeAt(S)===l||v.charCodeAt(S)===V0||v.charCodeAt(S)===d))S++;while(w>S&&(v.charCodeAt(w-1)===C||v.charCodeAt(w-1)===l||v.charCodeAt(w-1)===V0||v.charCodeAt(w-1)===d))w--;let E=v.slice(S,w);if(!E)return null;let T=U==="="?1:2,N=i9(E,0,E.length,Y,G);return{...j$(T,N,E,G.slugify),endPos:K+(K<$.length?1:0)}}function o$($,Z,Y,G){if(Y.inline)return null;if(G.optimizeForStreaming&&$[Z]==="|"){var X=Math.min(500,$.length-Z),V=$.substr(Z,X),K=0,U=!1;for(var J=0;J<V.length;J++){if(V[J]==="|")K++;if(V[J]==="-"||V[J]===":")U=!0}if(K>=3&&U){var Q=I($,Z);while(Q<$.length){var O=k($,Q);if(O>=$.length)break;var A=I($,O),z=$.slice(O,A);if(z.indexOf("|")===-1&&z.indexOf("-")===-1)break;if(Q=A,A>=$.length)break}return{type:M.paragraph,children:[],endPos:k($,Q)}}}let q=Z,W=$.length;while(q<W){let r=I($,q),K0=!0;for(let $0=q;$0<r;$0++){let s=b($,$0);if(s!==C&&s!==l&&s!==V0){K0=!1;break}}if(K0){q=r;break}if(r>=W){q=W;break}let B0=k($,r);if(B0>=W){q=W;break}let m0=I($,B0),H0=!0,q0="";for(let $0=B0;$0<m0;$0++){let s=b($,$0);if(s!==C&&s!==l&&s!==V0){if(H0=!1,q0==="")q0=$[$0];break}}if(H0){q=r;break}let e=!1,l0=t($,B0,m0),Y0=l0.spaceEquivalent===4&&l0.charCount===4;if(q0==="<"&&!Y0&&!G.disableParsingRawHTML){let s=B0,r0=0;while(s<m0&&r0<3){let $1=b($,s);if($1===C||$1===l)r0++,s++;else break}if(s<m0&&$[s]==="<"){var _=B$($,s,{...Y,inline:!1},G);if(_)e=!("canInterruptParagraph"in _)||_.canInterruptParagraph}}if(Y0)e=!1;else if(!e&&q0&&d9(q0))if(q0==="["){let $0=B0;if($0+1>=W||$[$0+1]!=="^")e=!1;else e=!0}else if(q0==="*"||q0==="+")if(O$($,B0,Y,G))e=!0;else{let s=B0+1<W?$[B0+1]:"";if(s&&j1(s))e=!0;else e=!1}else{let $0=c9($,B0,Y,G);if($0)if($0.type===M.codeBlock)if(t($,B0,m0).spaceEquivalent>=4)e=!1;else e=!0;else if($0.type===M.unorderedList||$0.type===M.orderedList)if($0.type===M.orderedList)e=$0.start===1;else e=!0;else if(q0==="-")if(q>Z)e=!0;else e=!0;else if($0.type===M.ref)e=!1;else e=!0}if(e){q=r;break}q=k($,r)}if(q<=Z)return null;var H=Z,D=q;while(H<D){let r=b($,H);if(r===C||r===l)H++;else break}let F=I($,H);var j=D>F,v;if(!j)v=$.slice(H,D);else{var S=[],w=H,E=0;while(w<D){var T=I($,w);if(T>D)T=D;if(E===0)S.push($.slice(w,T));else{var N=0;while(N<4&&w+N<T)if(b($,w+N)===C)N++;else break;var y=N===4?w+4:w;S.push($.slice(y,T))}if(T<D){let r=b($,T);if(r===V0||r===d)S.push(`
`),w=k($,T);else w=D}else w=D;E++}v=S.join("")}var B=v.length;while(B>0){var R=v.charCodeAt(B-1);if(R===C||R===l)B--;else break}if(B<v.length)v=v.slice(0,B);let f=!1;for(let r=0;r<v.length;r++){let K0=v.charCodeAt(r);if(K0!==C&&K0!==l&&K0!==d&&K0!==V0){f=!0;break}}if(!f)return null;var x=v,P=q,g=-1,h=q-1;while(h>=H){if(b($,h)===d){g=h;break}h--}if(g>=0){var L=!1;for(var a=H;a<g;a++){let r=b($,a);if(r!==C&&r!==l&&r!==d&&r!==V0){L=!0;break}}if(!L){var i=g+1;while(i<$.length){let r=b($,i);if(r===C||r===l)i++;else break}var j0=i-(g+1);if(j0<4&&i<$.length&&$[i]==="["){var w0={...Y,inline:!1},z0=N9($,i,w0,G,!1);if(z0){var T0=0,h=H;while(h<=g){let K0=$.indexOf(`
`,h);if(K0===-1||K0>g)break;T0++,h=K0+1}var p=0,V1=0;h=0;while(h<v.length){let K0=v.indexOf(`
`,h);if(K0===-1)break;if(V1++,V1===T0){p=K0+1;break}h=K0+1}if(p>0)x=v.slice(0,p-1);P=z0.endPos,Y.refs=w0.refs}}}}let X0=i9(x,0,x.length,Y,G);var P0={type:M.paragraph,children:X0,endPos:P};if(X0.length>0){var M0=[];for(var Q0=X0.length-1;Q0>=0;Q0--){var a0=X0[Q0];if(a0.type===M.htmlSelfClosing&&a0.isClosingTag===!0)M0.push(Q0);else if(a0.type===M.text){var I0=a0;if(I0.text&&I0.text.trim().length>0)break}else break}if(M0.length>=3){var k0=M0[M0.length-1],B1=X0.slice(k0+1);X0.splice(k0+1),P0.removedClosingTags=B1}}return P0}function n6($,Z){if(Z!==0)return null;let Y=x$($);if(!Y?.hasValidYaml)return null;let G=Y.endPos-1;if(G>0&&$[G-1]==="\r")G--;let X=p1($.slice(0,G));return{type:M.frontmatter,text:X,endPos:Y.endPos}}function O$($,Z,Y,G){let X=I($,Z),V=t($,Z,X,3);if(V.spaceEquivalent>3)return null;var K=Z+V.charCount;if(K>=X)return null;let U=$[K];if(U!=="-"&&U!=="*"&&U!=="_")return null;var J=0,Q=K;while(Q<X){var O=$[Q];if(O===U)J++;else if(O!==" "&&O!=="\t")return null;Q++}if(J<3)return null;return{type:M.breakThematic,endPos:k($,X)}}function t($,Z,Y,G){let X=0,V=0,K=Z;while(K<Y){var U=b($,K);if(U!==C&&U!==l)break;if(G!==void 0&&X>=G)break;if(U===l)X+=4-X%4;else X+=1;V++,K++}return{spaceEquivalent:X,charCount:V}}function gZ($,Z,Y,G){let X=0,V=0,K=G;for(let A=Z;A<Y&&V<4;A++){var U=b($,A);if(U===l){let z=4-K%4;if(V+=z,X++,K+=z,V>=4)break}else if(U===C){if(V++,X++,K++,V>=4)break}else break}let J=$.slice(Z+X,Y);var Q=0;for(var O=Z;O<Y;O++){if($[O]==="\t")Q++;if(Q>=2)break}if(Q>=2&&c(J,"\t")&&G>0)J="  "+J.slice(1);return J}function Q$($,Z,Y){let G=I($,Z),X=t($,Z,G);if(X.spaceEquivalent<4)return null;let V=X.spaceEquivalent,K=I($,Z+X.charCount),U=Z,J=0;var Q=U-1;while(Q>=0&&$[Q]!==`
`&&$[Q]!=="\r")Q--;Q++;while(Q<U){if($[Q]==="\t")J=J+4-J%4;else J++;Q++}let O=gZ($,U,K,J),A=k($,K);if(A>=$.length){if(!O.trim())return null;return{type:M.codeBlock,text:O,endPos:A}}var z=[];z.push(O);let q=A;while(q<$.length){let _=I($,q);if(w1($,q,_)){let H=_+1;if(H<$.length){let D=I($,H),F=t($,H,D),j=$[H+F.charCount];if(j&&j!==`
`&&(F.spaceEquivalent<4||j===">"&&F.spaceEquivalent<V))break}z.push(`
`)}else{if(t($,q,_).spaceEquivalent<4)break;let D=gZ($,q,_,0);z.push(`
`),z.push(D)}q=k($,_)}let W=z.join("");if(W=W.replace(g6,""),!W.trim())return null;return{type:M.codeBlock,text:W,endPos:q}}function YZ($,Z,Y,G){let X=$[Z];if(X!=="`"&&X!=="~")return null;let V=w9($,Z,X);if(V<3)return null;let K=Z;while(K>0&&b($,K-1)!==d)K--;let U=t($,K,Z),J=U.spaceEquivalent,Q=J;if(J===4&&U.charCount===4)J=0,Q=4;if(J>=4)return null;let O=g0($,Z+V),A=I($,O),z=$.slice(O,A).trim();if(X==="`"&&z.indexOf("`")!==-1)return null;z=z.replace(d$,"$1");let q=z.indexOf(" "),W=q>0?z.slice(0,q):z,_=q>0?z.slice(q+1).trim():"",H=_&&/=\s*["']/.test(_)?u1(_,"code","code",G):void 0,D=k($,A),F=D,j=!1;while(F<$.length){let E=I($,F),T=F,N=0;while(T<E){let y=b($,T);if(y===C){if(N++,T++,N>=4)break}else if(y===l){if(N+=4-N%4,T++,N>=4)break}else break}if(N<4){let y=w9($,T,X,E-T);if(y>=V){let B=T+y;while(B<E){let R=b($,B);if(R===C||R===l)B++;else break}if(B===E){j=!0;break}if(y>=3&&B<E){let R=T+y;if(!(R<E&&(b($,R)===C||b($,R)===l))){let x=!0;if(X==="`"){if($.slice(R,E).indexOf("`")!==-1)x=!1}if(x)break}}}}else if(Q===4&&J===0&&N===4){let y=w9($,T,X,E-T);if(y>=V&&w1($,T+y,E)){j=!0;break}}F=k($,E)}let v=F>D&&$[F-1]===`
`?F-1:F;if(v>D&&$[v-1]==="\r")v--;let S=p1($.slice(D,v));if(Q)S=n$(S,Q);let w=j&&F<$.length?k($,I($,F)):F;return{type:M.codeBlock,text:S,lang:W,attrs:H,endPos:w}}function t6($,Z,Y){for(var G=0;G<$.length;G++)if(!a$($[G])){let V=GZ($,Z,Y,{inline:!1,inBlockQuote:!0});for(var X=0;X<V.length;X++){let K=V[X];if("endPos"in K)delete K.endPos}return V}return[]}function oZ($,Z,Y,G){if(Y.inline)return null;let X=Z;while(X<$.length&&($[X]===" "||$[X]==="\t"))X++;if(X>=$.length||$[X]!==">")return null;let V=Z;var K=[],U=void 0,J=!1,Q=-1,O=!1,A=null,z=null,q=0,W=!1;while(V<$.length){let w=I($,V),E=V;while(E<w&&($[E]===" "||$[E]==="\t"))E++;if(E<w&&$[E]===">"){let T=E+1;if(T<w&&$[T]===" ")T++;let y=t($,T,w).spaceEquivalent>=4,B=!1,R=null,f=0;if(T<w){let P=$[T];if(P==="`"||P==="~"){let g=0,h=T;while(h<w&&$[h]===P&&g<20)g++,h++;if(g>=3)B=!0,R=P,f=g}}if(O&&A==="fenced"&&R===z&&f>=q)O=!1,A=null,z=null,q=0;else if(y||B)O=!0,A=y?"indented":"fenced",z=R,q=f;var _=!y&&!B;if(_){for(var H=T;H<w;H++)if(!a$($[H])){_=!1;break}}if(W=_,Q===-1&&!_)Q=K.length;if(!_)J=!0;let x=E+1;if(x<w&&$[x]==="\t"){K.push("  ");let P=4;for(let g=x+1;g<w;g++){let h=$[g];var D=b(h);if(D===l){let L=4-P%4;if(L===1)K.push(" ");else if(L===2)K.push("  ");else if(L===3)K.push("   ");else K.push(" ".repeat(L));P+=L}else K.push(h),P++}if(w<$.length)K.push(`
`)}else{let P=x;if(P<w&&$[P]===" ")P++;if(K.push($.slice(P,w)),w<$.length)K.push(`
`)}}else{var F=!0;for(var H=V;H<w;H++)if(!a$($[H])){F=!1;break}if(F||O)break;if(t($,V,w).spaceEquivalent===0){let N=c9($,V,Y,G);if(N&&N.type!==M.ref&&N.type!==M.codeBlock)break;if(W)break}if(K.push($.slice(V,w)),w<$.length)K.push(`
`)}V=k($,w)}if(V===Z)return null;if(K.length>0&&K[K.length-1]===`
`)K.pop();let j=K.join("");if(j.length>=4&&j.charCodeAt(0)===g1&&j.charCodeAt(1)===O9){let w=j.indexOf(`]
`,2);if(w>2)U=j.slice(2,w),j=j.slice(w+2)}let v=t6(j,Y,G),S={type:M.blockQuote,children:v,endPos:V};if(U)S.alert=U;return S}function n$($,Z){return $.split(`
`).map(function(Y){if(Y.length===0)return Y;let G=Z,X=0,V=0,K=0;while(V<Y.length&&X<G)if(Y[V]===" ")X++,K++,V++;else if(Y[V]==="\t"){let U=4-K%4;if(X+U<=G)X+=U,K+=U,V++;else{let J=G-X,Q=Math.max(0,U-J);return" ".repeat(Q)+Y.slice(V+1)}}else break;return Y.slice(V)}).join(`
`)}function z$($,Z,Y,G,X=!0){let V=(X?`
`:"")+$,K=i9(V,0,V.length,Y,G);if(Z.length>0&&Z[Z.length-1].type===M.paragraph)Z[Z.length-1].children.push(...K);else Z.push(...K)}function p9($){return $.some(function(Z){return Z.type===M.codeBlock||Z.type===M.paragraph||Z.type===M.blockQuote||Z.type===M.orderedList||Z.type===M.unorderedList||Z.type===M.heading})}function m$($){return!!$.match($Z)}function nZ($){if($.length===0)return $;var Z=$[$.length-1];if((Z.type===M.orderedList||Z.type===M.unorderedList)&&Z.items?.length>0)return nZ(Z.items.slice(-1)[0]);return $}function t$($,Z,Y,G,X,V,K){if(!c(X,"["))return null;var U={inline:!1,list:!1,refs:V.refs||{}},J=N9($,Z+G.charCount,U,K,!1);return J?J.endPos:null}function CZ($,Z,Y,G){if($.length!==1||!Y)return!1;if($[0].length!==0)return!1;if(Z)return!0;if(!Z&&G.trim()==="")return!0;return!1}function kZ($,Z){var Y=$.index||0;return Z?Y+$[1].length+$[2].length+1:Y+$[1].length+1}function W$($,Z,Y,G,X){var V=0,K=G+X,U=Z;while(U<Y&&V<4){var J=b($,U);if(J===C)V++,K++;else if(J===l){var Q=4-K%4;if(V+Q>4)break;V+=Q,K+=Q}else break;U++}return{contentStartColumn:K,contentStartPos:U}}function h$($){var Z=$.match($Z);if(!Z)return null;if(Z[1])return{match:[$,Z[1],Z[2],Z[3]],ordered:!0,listItemRegex:i$};if(Z[4])return{match:[$,Z[4],Z[5],""],ordered:!0,listItemRegex:i$};if(Z[6])return{match:[$,Z[6],Z[7]],ordered:!1,listItemRegex:c$};if(Z[8])return{match:[$,Z[8],""],ordered:!1,listItemRegex:c$};return null}function n1($,Z,Y,G,X,V,K){if(Z.spaceEquivalent!==V)return!1;var U=$.match(K);if(U)return Y?U[2]===X:U[1]===G;var J=$.match($Z);if(!J)return!1;if(Y)return J[4]&&J[5]===X;else return J[8]===G}function tZ($,Z,Y,G){var X=Z,V=Y,K=Z[0];while(V<$.length){var U=I($,V),J=$.slice(V,U),Q=c(J," ".repeat(G))?J.slice(G):J;if(c(Q.trim(),K)&&w9(Q.trim(),0,K)>=3)return{content:X,endPos:k($,U)};X+=`
`+Q,V=k($,U)}return{content:X,endPos:V}}function V$($,Z,Y,G,X,V,K,U,J,Q,O,A,z){var q=Q?void 0:J[1],W=Q?J[2]:void 0,_=Q?i$:c$,H=O;if(!O){var D=k($,V),F=D;while(F<$.length){var j=I($,F),v=$.slice(F,j),S=t($,F,j),w=S.spaceEquivalent;if(w1($,F,j)){var E=k($,j);if(E<$.length){var T=I($,E),N=t($,E,T),y=N.spaceEquivalent,f=kZ(J,Q),x=X+U+f,P=W$($,x,V,K,f),g=P.contentStartColumn;if(y+1>g){H=!0;break}}break}else if(w<=K){var B=v.slice(S.charCount),R=B.match(_);if(R&&(Q?R[2]===W:R[1]===q))break}F=k($,j)}}var f=kZ(J,Q),x=X+U+f,P=W$($,x,V,K,f),g=P.contentStartColumn,h=G,L=k($,V);if(c(G,"```")||c(G,"~~~")){var a=Q?J[1].length+J[2].length+1:J[1].length+1,i=tZ($,G,L,a);h=i.content,L=i.endPos}return Z.push(eZ(h,H,A,z)),Y.push(g),{newCurrentPos:L,itemHasBlankLine:H}}function mZ($,Z,Y,G,X,V){if(X>G||V.disableParsingRawHTML)return!1;let K=Z+Y;if(K>=$.length||$[K]!=="<")return!1;return e6($,K)}function e6($,Z){if(Z>=$.length||$[Z]!=="<")return!1;let Y=$.length,G=Z+1;if(G<Y&&$[G]==="/")G++;if(G>=Y)return!1;let X=b($,G);if(!z9(X))return!1;G++;while(G<Y){let K=$[G],U=b($,G);if(K===">"||K===" "||K==="\t"||K===`
`||K==="\r"||K==="/")break;if(K==="-"||K==="_"||z9(U)||U>=48&&U<=57)G++;else return!1}let V=0;while(G<Y){let K=$[G],U=b($,G);if(V===1){if(K==='"')V=0;G++}else if(V===2){if(K==="'")V=0;G++}else if(K==='"')V=1,G++;else if(K==="'")V=2,G++;else if(K===">")return!0;else if(K==="/"&&G+1<Y&&$[G+1]===">")return!0;else if(U===10||U===13)return!1;else G++}return!1}function hZ($,Z,Y,G,X,V,K,U,J,Q,O,A){let z=G,q=!1;while(z<$.length){let W=I($,z),_=t($,z,W),H=_.spaceEquivalent;if(w1($,z,W)){q=!0,z=k($,W);continue}let D=$.slice(z+_.charCount,W);if(H<=X&&n1(D,_,V,K,U,X,J))break;if(H>=Y){if(A&&q){let j=t$($,z,W,_,D,Q,O);if(j){z=j,q=!1;continue}}let F=_$($,z,W,_,Y-1,Y,Z,q,Q,O,void 0,X);if(F.processed){z=F.newPos,q=F.wasBlank;continue}}else break}return z}function pZ($,Z,Y,G){let X=GZ($,Y,G,{inline:!1,list:!0});if(X.length>0)return!Z&&X.length===1&&X[0].type===M.paragraph?X[0].children:X;let V=w$(Y,!0,()=>l1($,0,$.length,Y,G));return Z&&V.length>0?[{type:M.paragraph,children:V}]:V}function eZ($,Z,Y,G){let X=s6($,0,Y);if(!(X&&(X.endPos>=$.length||$[X.endPos]===" ")))return pZ($,Z,Y,G);let K=X.endPos<$.length?X.endPos+1:X.endPos,U=$.slice(K),J=pZ(U,Z,Y,G),Q=[X];if(X.endPos<$.length)Q.push({type:M.text,text:" "});return Q.push(...J),Q}function uZ($,Z){if(!$[0])return!1;let Y=$[0].indexOf(Z);if(Y===-1)return!1;let G=Y+Z.length;if(G>=$[0].length)return!1;let X=$[0][G];return X?b(X)===MZ:!1}function $6($,Z,Y){if($.length===0)return!1;let G=$[$.length-1],X=Z.trim();if(!c(X,"=")&&!c(X,"-")||X.length<1||!/^[=-]+[ \t]*$/.test(X))return!1;let V=[],K="";if(G.type===M.paragraph){let Q=G;V=Q.children,K=Q.children.map((O)=>O.type===M.text?O.text:"").join("").trim()}else if(G.type===M.text){let Q=[],O=$.length-1;while(O>=0&&$[O].type===M.text)Q.unshift($[O]),O--;if(Q.length>0)V=Q,K=Q.map((A)=>A.text).join("").trim()}if(!K)return!1;let J=X[0]==="="?1:2;if(G.type===M.paragraph)$.pop();else if(G.type===M.text)while($.length>0&&$[$.length-1].type===M.text)$.pop();return $.push(j$(J,V,K,Y.slugify)),!0}function _$($,Z,Y,G,X,V,K,U,J,Q,O,A){let z=G.spaceEquivalent,q=$.slice(Z+G.charCount,Y);if(z>=X+4){let D=Q$($,Z,J);if(D){let F=D,j=n$(F.text||"",V);return K.push({...F,text:j}),{processed:!0,newPos:F.endPos,wasBlank:!1}}}let W=z-(V-1);if(z+1>=V&&W<=3){let D=Z+G.charCount;if(D<Y){let F=$[D];if(F==="`"||F==="~"){let j=YZ($,D,J,Q);if(j){let v=j,S=n$(v.text||"",V-1);return K.push({...v,text:S,endPos:v.endPos}),{processed:!0,newPos:v.endPos,wasBlank:!1}}}if(F==="|"){let j=Z6($,D,J,Q);if(j){let v=j;return K.push(v),{processed:!0,newPos:v.endPos,wasBlank:!1}}}}}if(q.length>0&&(q[0]==="-"||q[0]==="*"||q[0]==="+"||q[0]>="0"&&q[0]<="9")){if(/^([-*+]|\d{1,9}[.)])\s+/.test(q)){let F=i9(q,0,q.length,J,Q);return K.push({type:M.text,text:`
`},...F),{processed:!0,newPos:k($,Y),wasBlank:!1}}}let _=S6($,Z,K,q,J,Q);if(_!==null)return{processed:!0,newPos:_,wasBlank:!1};let H=GZ(q,J,Q,{inline:!1,list:!0});if(H.length>0){if(O&&H[0].type===M.paragraph){let D=H[0];if(K.push({type:M.text,text:`
`},...D.children),H.length>1)K.push(...H.slice(1))}else if(!U&&H[0].type===M.paragraph&&K.length>0){let D=K[K.length-1],F=H[0];if(D.type===M.paragraph)D.children.push({type:M.text,text:`
`},...F.children);else if(D.type===M.heading)K.push(...F.children);else if(!p9(K))K.push({type:M.text,text:" "},...F.children);else K.push(...H);if(H.length>1)K.push(...H.slice(1))}else K.push(...H);return{processed:!0,newPos:k($,Y),wasBlank:!1}}if(U){let D=w$(J,!0,()=>l1(q,0,q.length,J,Q));K.push({type:M.paragraph,children:D})}else z$(q,K,J,Q);return{processed:!0,newPos:k($,Y),wasBlank:!1}}function e$($,Z,Y,G){if(Y.inline)return null;var X=Y.inList;if(Y.inList=!0,Z>0){var V=b($,Z-1);if(V!==d&&V!==V0)return Y.inList=X,null}var K=I($,Z),U=t($,Z,K);if(U.spaceEquivalent>3&&!Y.inList)return Y.inList=X,null;var J=$.slice(Z,K),Q=U.charCount,O=J.slice(Q),A=h$(O);if(!A)return Y.inList=X,null;var{match:z,ordered:q,listItemRegex:W}=A,_=U.spaceEquivalent,H=q?parseInt(z[1],10):void 0,D=q?z[2]:void 0,F=q?void 0:z[1],j=q?z[3]==="":z[2]==="";function v(n,S0){if(n===0)return!0;var y0=b($,n-1);if(y0!==d)return!1;if(!S0)return!0;var U0=n-2;while(U0>=0){var u=b($,U0);if(u!==C&&u!==l)break;U0--}return U0<0||b($,U0)===d}if(j&&!v(Z,!0))return Y.inList=X,null;if(q&&H!==1&&!v(Z,!1))return null;if(!q&&uZ(z,F))return null;var S=z.index||0,w=q?S+z[1].length+z[2].length+1:j?S+z[1].length:S+z[1].length+1,E=Z+Q+w,T=W$($,E,K,_,w),N=T.contentStartColumn,y=_+S+z[1].length,B=q?y+z[2].length+1:j?y:y+1,R=[],f=[];function x(n,S0,y0){return y0?n>=S0:n>S0}function P(){return R[R.length-1]}function g(){return f[f.length-1]??N}function h(n,S0){let y0=nZ(S0),U0=Y.inList;Y.inList=!0;let u=e$($,n,Y,G);if(Y.inList=U0,u)return y0.push(u),u;return null}var L=k($,K),a=L,i=!1;while(a<$.length){var j0=I($,a),w0=$.slice(a,j0);if(w0.trim()===""){var z0=k($,j0);while(z0<$.length){var T0=b($,z0);if(T0===d);else if(!l6.has($[z0]))break;z0++}var p=I($,z0),V1=$.slice(z0,p),X0=t($,z0,p),P0=V1.slice(X0.charCount);if(n1(P0,X0,q,F,D,_,W))i=!0;else{var M0=t$($,z0,p,X0,P0,Y,G);if(M0){var Q0=M0;while(Q0<$.length&&b($,Q0)===d)Q0++;if(Q0<$.length){var a0=I($,Q0),I0=$.slice(Q0,a0),k0=t($,Q0,a0),B1=I0.slice(k0.charCount);if(n1(B1,k0,q,F,D,_,W))i=!0}}}break}var r=t($,a,j0),K0=w0.slice(r.charCount),B0=h$(K0);if(!B0)break;var m0=B0.match;if(q){if(m0[2]!==D)break}else if(m0[1]!==F)break;a=k($,j0)}var H0=q?z[3]:z[2];H0=H0.trimStart();var q0=Z+Q+(z.index||0),e=q?q0+z[1].length+z[2].length:q0+z[1].length,l0=e;while(l0<$.length){var T0=b($,l0);if(T0!==C&&T0!==l)break;l0++}var Y0=0,$0=e;while($0<K){var T0=b($,$0);if(T0===l)Y0+=4-Y0%4;else if(T0===C)Y0++;else break;$0++}var s=!1;if(e<$.length&&b($,e)===l){var r0=1,$1=e+1;while($1<$.length&&b($,$1)===l)r0++,$1++;if(r0>=2)H0="      "+H0,s=!0}if(!q)j=j&&Y0===0;if(Y0>=4&&!s)H0=" ".repeat(Y0-1)+H0.trimStart();var U1=H0.trim()==="";let F1=i;if(!i&&L<$.length){var Q1=L;while(Q1<$.length){var N1=I($,Q1),F0=$.slice(Q1,N1);if(w1($,Q1,N1)){var s0=k($,N1);while(s0<$.length){var O1=I($,s0);if(w1($,s0,O1))s0=k($,O1);else break}if(s0<$.length){var P1=t($,s0,$.length),z1=P1.spaceEquivalent;if(z1>=_){var h0=$.slice(s0,I($,s0)),_1=h0.slice(P1.charCount).match(W),b1=_1&&(q?_1[2]===D:_1[1]===F),W1=null;for(var o=L;o<Q1;o=I($,o)+1){var Z1=I($,o),q1=t($,o,Z1),o0=$.slice(o,Z1).slice(q1.charCount).match(W),_9=o0&&q1.spaceEquivalent>_&&q1.spaceEquivalent>=N&&(q?o0[2]===D:o0[1]===F);if(_9){var y1=q1.spaceEquivalent+1,R1=q?y1+o0[1].length+o0[2].length+1:y1+o0[1].length+1,q9=o+q1.charCount+o0[0].length,b9=W$($,q9,Z1,y1,R1-y1);W1=b9.contentStartColumn;break}}var D9=Y0>=5?B:N;if(!b1&&z1>=D9&&(W1===null||z1+1<W1))F1=!0}}break}var M1=t($,Q1,N1),I1=M1.spaceEquivalent,L1=F0.slice(M1.charCount),T1=L1.match(W),v0=T1&&(q?T1[2]===D:T1[1]===F);if(v0){if(I1<=_)break}Q1=k($,N1)}}var N0=H0;if(c(H0,"```")||c(H0,"~~~")){var p0=q?z[1].length+z[2].length+1:z[1].length+1,S1=tZ($,H0,L,p0);N0=S1.content,L=S1.endPos}var u0=!j&&H0.trim()===""&&Y0>0&&Y0<5;if(!F1){var f0=N0.length>0?N0[0]:"",J1=f0===">",Z=L;while(Z<$.length){var K=I($,Z),J=$.slice(Z,K);if(J.trim()==="")break;var U=t($,Z,K);if(U.spaceEquivalent<B)break;var O=J.slice(U.charCount);if(U.spaceEquivalent<=_&&n1(O,U,q,F,D,_,W))break;if(m$(O)&&U.spaceEquivalent>_)break;var b0=O.length>0?O[0]:"",e1=b0===">"&&J1;if(b0===">"&&!e1||b0==="#"||c(O,"```")||c(O,"~~~"))break;N0+=`
`+O,L=Z=k($,K)}}if(R.push(eZ(N0,F1,Y,G)),f.push(N),F1&&(Y0>=5||u0)){let n=P();L=hZ($,n,B,L,_,q,F,D,W,Y,G,!0)}else if(!F1){let n=B-1;while(L<$.length){let S0=I($,L),y0=$.slice(L,S0),U0=t($,L,S0),u=U0.spaceEquivalent,_0=y0.slice(U0.charCount);if(y0.trim()===""||u<=_&&n1(_0,U0,q,F,D,_,W)||m$(_0)&&u>_||u<n)break;let n0=P(),E0=_$($,L,S0,U0,n,N,n0,!1,Y,G,!0,_);if(E0.processed)L=E0.newPos;else break}}var Z0=!1;while(L<$.length){let n=I($,L),S0=$.slice(L,n),y0=t($,L,n),U0=y0.charCount,u=y0.spaceEquivalent;if(S0.trim()==="")i=!0,Z0=!0,L=k($,n);else if(u<_){let _0=S0.slice(U0);if(_0.startsWith("<")&&mZ($,L,U0,_,u,G))break;let n0=_0.trim();if(n0.length>0&&R.length>0&&!d9(n0[0])&&!n1(_0,y0,q,F,D,_,W)){let E0=P();if(E0.length>0){let J0=E0[E0.length-1];if(!Z0&&(J0.type===M.paragraph||J0.type===M.text)){z$(_0,E0,Y,G),Z0=!1,L=k($,n);continue}}}break}else{let _0=S0.slice(U0);if(R.length>0){let m=f[R.length-1]||N;if(u+1>=m&&!n1(_0,y0,q,F,D,_,W)){let C0=P();if(C0.length>0&&$6(C0,_0,G)){L=k($,n);continue}}}if(O$($,L,Y,G))break;if(Z0){let m=t$($,L,n,y0,_0,Y,G);if(m){L=m,Z0=!1;continue}}if(u<=_){if(_0.startsWith("<")&&mZ($,L,U0,_,u,G))break;if(!n1(_0,y0,q,F,D,_,W)){if(u===_&&!Z0){let m=_0.trim();if(m.length>0&&!d9(m[0])){let C0=c9($,L,Y,G);if(C0&&C0.type!==M.paragraph)break;let R0=P();if(R0.length>0&&!p9(R0)){z$(_0,R0,Y,G,!0),Z0=!1,L=k($,n);continue}}}break}}if(CZ(R,j,Z0,H0))break;let E0=h$(_0),J0=E0?E0.match:null,A1=J0&&(q?J0[2]===D:J0[1]===F);if(A1&&u>3&&Z0)break;if(A1&&u<=_+3){if(u>=4&&Z0)break;if(u===_){let m=q?J0[3]:J0[2];if(m=m.trimStart(),L=V$($,R,f,m,L,n,u,U0,J0,q,i,Y,G).newCurrentPos,Z0=!1,m.trim()===""){let R0=R[R.length-1],O0=g();L=hZ($,R0,O0,L,_,q,F,D,W,Y,G)}continue}if(u>_){if(Z0){let O0=q?J0[3]:J0[2];O0=O0.trimStart(),L=V$($,R,f,O0,L,n,u,U0,J0,q,i,Y,G).newCurrentPos,Z0=!1;continue}let m=P(),C0=u+1,R0=x(C0,g(),p9(m));if(R0){let O0=h(L,m);if(O0){L=O0.endPos,Z0=!1;continue}}if(!R0&&A1){let O0=q?J0[3]:J0[2];if(O0=O0.trimStart(),!i){let d0=k($,n);while(d0<$.length){let L0=I($,d0),i0=$.slice(d0,L0),D0=t($,d0,L0),Y1=D0.spaceEquivalent;if(i0.trim()===""){let R9=k($,L0);if(R9<$.length){let f1=t($,R9,$.length).spaceEquivalent,y$=u+(q?J0[1].length+J0[2].length+1:J0[1].length+1);if(f1+1>y$)break}break}else if(Y1<=_){let W0=i0.slice(D0.charCount).match(W);if(W0&&(q?W0[2]===D:W0[1]===F)&&Y1<=_)break}d0=k($,L0)}}L=V$($,R,f,O0,L,n,u,U0,J0,q,i,Y,G).newCurrentPos,Z0=!1;continue}else if(!R0&&!A1)break;{let O0=P(),A0=O0.length===0;if(A0&&CZ(R,j,Z0,H0))break;let d0=O0.some((D0)=>D0.type===M.codeBlock||D0.type===M.paragraph||D0.type===M.blockQuote||D0.type===M.orderedList||D0.type===M.unorderedList||D0.type===M.heading),L0=A0&&R.length===1?B:N;if(d0?u>=L0:u>L0){let D0=_$($,L,n,y0,L0,N,P(),Z0,Y,G,void 0,_);if(D0.processed){Z0=D0.wasBlank,L=D0.newPos;continue}}else break}}else if(u===_){if(!q&&J0&&uZ(J0,J0[1]))break;let m=q?J0[3]:J0[2];m=m.trimStart(),L=V$($,R,f,m,L,n,_,U0,J0,q,i,Y,G).newCurrentPos,Z0=!1}}else if(u>_){let m=P();if(m$(_0)){let A0=u+1;if(x(A0,g(),p9(m))){let i0=h(L,m);if(i0){L=i0.endPos,Z0=!1;continue}}if(u-_>3){let i0=m.length>0?m[m.length-1]:null;if(i0&&(i0.type===M.paragraph||i0.type===M.text)){z$(_0,m,Y,G),Z0=!1,L=k($,n);continue}}else break}else{let A0=h(L,m);if(A0){L=A0.endPos,Z0=!1;continue}}let R0=N;if(p9(m)?u>=R0-1:u>R0-1){let A0=_$($,L,n,y0,R0-1,N,P(),Z0,Y,G,void 0,_);if(A0.processed){Z0=A0.wasBlank,L=A0.newPos;continue}}else break}else break}}if(i&&R.length>1&&R[0].length>0&&R[0][0].type!==M.paragraph){for(var G0=1;G0<R.length;G0++)if(R[G0].length>0&&R[G0][0].type===M.paragraph){var E1=!1;for(var v1=0;v1<R[0].length;v1++){var G1=R[0][v1].type;if(G1===M.codeBlock||G1===M.heading||G1===M.blockQuote||G1===M.orderedList||G1===M.unorderedList||G1===M.htmlBlock||G1===M.breakThematic){E1=!0;break}}if(!E1)R[0]=[{type:M.paragraph,children:R[0]}];break}}let y9=q?{type:M.orderedList,items:R,ordered:!0,start:H}:{type:M.unorderedList,items:R,ordered:!1};return Y.inList=X,{...y9,endPos:L}}function Z6($,Z,Y,G){if(Y.inline)return null;let X=[],V=Z;while(V<$.length){let W=I($,V);if(w1($,V,W))break;let _=$.slice(V,W).trim();if(!(_.indexOf("|")!==-1||X.length>=3&&_&&!d9(_[0])))break;X.push(_),V=k($,W)}if(X.length<2)return null;let K=(W)=>W[0]==="|"&&W[W.length-1]==="|"?W.slice(1,-1):W,U=(W)=>{let _=[],H="",D=!1;for(let F=0;F<W.length;F++){let j=W[F];if(j==="\\"&&F+1<W.length&&W[F+1]==="|")H+="|",F++;else if(j==="`")D=!D,H+=j;else if(j==="|"&&!D)_.push(H.trim()),H="";else H+=j}return _.push(H.trim()),_},J=U(K(X[0]));if(!J.length)return null;let Q=U(K(X[1]));if(Q.length!==J.length||Q.some((W)=>!/^:?-+:?$/.test(W)))return null;let O=Q.map((W)=>{let _=W[0]===":",H=W[W.length-1]===":";return _&&H?"center":_?"left":H?"right":null});if(G.optimizeForStreaming&&X.length===2)return null;let A=(W)=>w$(Y,!0,()=>W.map((_)=>l1(_,0,_.length,Y,G))),z=A(J),q=X.slice(2).map((W)=>{let _=W.indexOf("|")!==-1?U(K(W)):[W.trim()],H=J.length;while(_.length<H)_.push("");return _.length=H,A(_)});return{type:M.table,header:z,cells:q,align:O,endPos:V}}var $5=["div","p","section","article","aside","nav","header","footer","main","h1","h2","h3","h4","h5","h6","blockquote","ul","ol","li","dl","dt","dd","table","thead","tbody","tfoot","tr","td","th","form","fieldset","hr","pre","details","summary","figure","figcaption"],Z5=new Set(["pre","script","style","textarea"]);function u9($){return $5.indexOf($.toLowerCase())!==-1}function B9($){return Z5.has($)}function w1($,Z,Y){for(var G=Z;G<Y;G++){let X=b($,G);if(X!==C&&X!==l&&X!==V0)return!1}return!0}function w$($,Z,Y){let G=$.inline;$.inline=Z;try{return Y()}finally{$.inline=G}}function p$($,Z,Y){var G=Z;while(G<Y){var X=I($,G);if(w1($,G,X))return G;G=k($,X)}return Y}function u$($,Z,Y){return{type:M.htmlComment,text:p1($),endPos:Z,...Y}}function A9($,Z,Y,G,X,V,K,U,J){var Q=p1(Z),O=Q;if(U&&(U.forceBlock||U.optimizeForStreaming)&&Z&&!V){var A=new RegExp("^<"+$.toLowerCase()+"(\\s[^>]*)?>$","i");if(A.test(Z.trim()))O=""}var z=O,q=$.toLowerCase(),W=new RegExp("^<"+q+"[\\s>]","i");if(W.test(z)){var _=z.indexOf(">");if(_!==-1){z=z.slice(_+1);var H="</"+q+">",D=z.indexOf(H);if(D!==-1)z=z.slice(0,D)}}else{var F="</"+q+">",j=z.indexOf(F);if(j!==-1)z=z.slice(0,j)}var v=[];if(z&&U&&!U.optimizeForStreaming){var S=J||{inline:!1,inHTML:!0,inAnchor:!1},w=z.trim(),E=v$.test(w),T=A$.test(w),N=M$.test(w);if(E||T||N){var y={...S,inline:!1,inHTML:!0,inAnchor:S.inAnchor||q==="a"};v=a9(w,y,U)}else if(w){var B={...S,inline:!0,inHTML:!0,inAnchor:S.inAnchor||q==="a"};v=l1(w,0,w.length,B,U)}}return{type:M.htmlBlock,tag:$,attrs:G||{},rawAttrs:X,children:v,rawText:O,text:z,verbatim:!0,isClosingTag:V,canInterruptParagraph:K,endPos:Y}}function l9($){let Z=A$.test($),Y=v$.test($),G=f6.test($);return Z||Y&&!G}function lZ($,Z,Y,G,X,V,K,U,J,Q){if(!U.inHTML&&!U.inline&&!Z$(X,`
`)){let X0=V,P0=K.length;while(X0<P0){let M0=I(K,X0);if(w1(K,X0,M0))break;let Q0=K.slice(X0,M0).trim();if(Q0.length>0&&d9(Q0[0])){let a0=B$(K,X0,U,Q);if(a0){X0=a0.endPos;continue}let I0=t1(K,X0);if(I0){X0=I0.endPos;continue}return null}X0=k(K,M0)}}let O=Z,A=B9(O);var z=!A&&!V9(Z),q=void 0;if(X){var W=X.indexOf(">");if(W!==-1){var _=X.slice(0,W+1);if(_.indexOf(`
`)!==-1)q=_;var H=W;for(var D=1;D<W;D++){var F=_[D];if(F===" "||F==="\t"||F===`
`||F===">"){H=D;break}}Y=_.slice(H,W)}}var j=Y.replace(/^[\s\n\r\t]+/,""),v=u1(j,Z,$,Q),S={...v},w=!1,E=!1;if(z&&G.length>0){var T="</"+O,N=G.indexOf(T);if(N>=0){var y=N+T.length;while(y<G.length&&(G[y]===" "||G[y]==="\t"))y++;if(y<G.length&&G[y]===">"){var B=G.slice(0,N);if(l9(B))G=B,E=!0;else w=!0}}if(!E){var R=G.length-1;if(G[R]===`
`){R--;while(R>=0&&(G[R]===" "||G[R]==="\t"||G[R]==="\r"))R--;if(R>=0&&G[R]===`
`)w=!0}}}var f=A||z&&w&&!l9(G),x=p1(G),P=x;if(f){if(x.length>0&&x[0]===`
`)x=x.slice(1),P=x;if(x.length>0&&x[x.length-1]===`
`)x=x.slice(0,-1),P=x;var T="</"+O+">",N=x.indexOf(T);if(N!==-1)x=x.slice(0,N)}let g=x.match(/^([ \t]*)/),h=g?g[1]:"",L=new RegExp(`^${h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`,"gm"),a=x.replace(L,""),i=v$.test(a),j0=A$.test(a),w0=O==="p",z0=M$.test(a),T0=w0?i:i||j0||U.inHTML&&z0,p=[];if(a)if(T0||z0){let X0={...U,inline:!1,inHTML:!0,inAnchor:U.inAnchor||O==="a"};p=a9(a,X0,Q)}else{let X0={...U,inline:!0,inHTML:Q.optimizeForStreaming?!0:U.inHTML,inAnchor:J||U.inAnchor||O==="a"};p=l1(a,0,a.length,X0,Q)}var V1=void 0;if(f)if(q!==void 0)V1=q+P;else V1=P;return{type:M.htmlBlock,tag:f?Z:$,attrs:S,rawAttrs:Y,children:p,rawText:V1,text:a,verbatim:f,canInterruptParagraph:!0,endPos:V}}function B$($,Z,Y,G){if($[Z]!=="<")return null;if(G.optimizeForStreaming&&Y.inHTML)return null;if(!Y.inline);if(Z+1<$.length){if($[Z+1]==="?"){var X=q$($,Z);if(X&&X.kind==="pi")return u$(X.text||"",X.endPos,{raw:!0})}else if($[Z+1]==="!"){if(Z+3<$.length&&$.slice(Z,Z+4)==="<!--"){if(Y.inline);var V=q$($,Z);if(V&&V.kind==="comment"){var K=V.text||"",U=!1;if(K==="<!-->")K="",U=!0;else if(K==="<!--->")K="-",U=!0;else if(K.startsWith("<!--")&&K.endsWith("-->"))K=K.slice(4,-3);if(Y.inline);return u$(K,V.endPos,{endsWithGreaterThan:U})}}var J=q$($,Z);if(J&&(J.kind==="declaration"||J.kind==="cdata"))return u$(J.text||"",J.endPos,{raw:!0})}}if(Z+1<$.length){let j9=$[Z+1];if(j9===" "||j9===`
`||j9==="\t"||j9==="\r")return null}var Q=$.indexOf(">",Z+1);if(Q!==-1){var O=$.slice(Z+1,Q),A=O.indexOf(" ")!==-1||O.indexOf("\t")!==-1;if(!A&&(c(O,"http://")||c(O,"https://")))return null;if(!A&&aZ(O))return null}var z=t1($,Z);if(!z&&!Y.inline){var q=$.length,W=I($,Z),_=Z,H=0;while(_<W&&H<3&&($[_]===" "||$[_]==="\t"))H++,_++;if(_>=W||$[_]!=="<")return null;if(_+1<W){var D0=r$($,_+1);if(D0){var Y1=D0.tagName,D=u9(Y1);if(!D)return null;var F=D0.nextPos,j=!1,v=!1,S="",w=W,E=!1;while(w<q&&!E){var T=!1;while(F<w){var N=$[F];if(v){if(N===S)v=!1,S="";if(N===`
`||N==="\r")j=!0;F++,T=!0}else if(N==='"'||N==="'")v=!0,S=N,F++,T=!0;else if(N===`
`||N==="\r"){j=!0,F++,T=!0;var y=I($,F);if(y===F)break;w=y}else if(N===">"){F++,E=!0;break}else F++,T=!0}if(E)break;if(!T&&F>=w){var B=I($,w+1);if(B<=w)break;w=B}else if(F>=w&&w<q){var B=I($,w+1);if(B<=w)break;w=B}else break}if(!j&&E)return null;if(F>=W&&W<q)F=W;var R=D?"type6":"type7",f=F,x=p$($,k($,W),q),P=$.slice(f,x),g=Z+1<$.length&&$[Z+1]==="/";if(R==="type7"&&P.trim()===""){var h=$.slice(Z,x),L=I(h,0);if(L<h.length)L++;var a=h.slice(0,L);return A9(Y1,a,x,{},void 0,g,!1,G,Y)}var i=$.slice(Z,x);return A9(Y1,i,x,{},void 0,g,R==="type6",G,Y)}}return null}if(!z)return null;if(Q!==-1){var j0=$.slice(Z+1,Q);if((c(j0,"http://")||c(j0,"https://"))&&(j0.indexOf(" ")!==-1||j0.indexOf("\t")!==-1))return null}var P0=Z+(z.isClosing?2:1);if(P0<$.length){var w0=$[P0],z0=b(w0);if(z0>=97&&z0<=122||z0>=65&&z0<=90){if(P0+1<$.length&&$[P0+1]===":")return null}}if(z.isClosing){var T0=z.attrs.trim();if(T0.length>0)return null;if(!Y.inline){var q=$.length,W=I($,Z),f=z.endPos,p=f;while(p<W&&($[p]===" "||$[p]==="\t"||$[p]==="\r"))p++;var V1=p>=W||$[p]==="<"&&function(){var zZ=t1($,p);return zZ&&u9(zZ.tagLower)}();if(V1){var x=p$($,k($,W),q),P=$.slice(f,x);if(P.length>0){if(P[0]==="\r"&&P[1]===`
`)P=P.slice(2);else if(P[0]===`
`||P[0]==="\r")P=P.slice(1)}let z6=z.tagLower||z.tagName.toLowerCase();return A9(z.tagName,P,x,u1(z.whitespaceBeforeAttrs+z.attrs,z6,z.tagName,G),z.whitespaceBeforeAttrs+z.attrs,!0,!1,G,Y)}}var X0=$.slice(Z,z.endPos);return{type:M.htmlSelfClosing,tag:z.tagName,attrs:{},endPos:z.endPos,isClosingTag:!0,rawText:X0}}var P0=Z+(z.isClosing?2:1);if(P0<$.length){var M0=$[P0];if(M0===" "||M0==="\t"||M0===`
`||M0==="\r")return null}var Q0=z.tagLower,a0=V9(z.tagName);let I0=z.tagName.length>0&&z.tagName[0]>="A"&&z.tagName[0]<="Z";if(z.isSelfClosing||a0&&Q0!=="a"){if(z.hasNewline&&!I0)return null;if(!Y.inHTML&&!Y.inline&&!I0)return null;var k0=z.attrs.replace(/\/\s*$/,""),B1=u1(k0,Q0,z.tagName,G),X0=Y.inline?$.slice(Z,z.endPos):void 0;let QZ={type:M.htmlSelfClosing,tag:z.tagName,attrs:B1,endPos:z.endPos};if(X0!==void 0)QZ.rawText=X0;return QZ}if(Y.inline){var r=z.attrs.replace(/\/\s*$/,""),K0=z.whitespaceBeforeAttrs+r,B0=u1(r,Q0,z.tagName,G),m0={...B0},H0=z.endPos,q0=[];if(!V9(z.tagName)){var e=P6($,z.endPos,Q0);if(e!==null){var l0=$.slice(z.endPos,e[0]);if(l0)if(Y.inHTML&&M$.test(l0)||l9(l0))q0=a9(l0,{...Y,inline:!1,inHTML:!0,inAnchor:Y.inAnchor||Q0==="a"},G);else q0=l1(l0,0,l0.length,{...Y,inline:!0,inHTML:G.optimizeForStreaming?!0:Y.inHTML,inAnchor:Y.inAnchor||Q0==="a"},G);H0=e[1]}}return{type:M.htmlBlock,tag:z.tagName,attrs:m0,rawAttrs:K0,children:q0,verbatim:!1,endPos:H0}}if(!Y.inline){var q=$.length,W=I($,Z),Y0=z.tagLower,$0=B9(Y0),s=!$0&&u9(z.tagName),r0=!1,$1=Z;while($1<z.endPos){if($[$1]===">"){r0=!0;break}$1++}var p=z.endPos;while(p<W&&($[p]===" "||$[p]==="\t"))p++;var U1=p>=W||$[p]===`
`||$[p]==="\r"||s&&p<W||!r0;if($0&&r0&&!z.isClosing){var{tagName:F1,endPos:Q1,attrs:N1}=z,F0=Q1;if($[F0]===`
`)F0++;var s0=F0,O1=F0,P1=1,z1=Y0.length+1;while(P1>0){var h0=$.indexOf("<",F0);if(h0===-1){O1=q,F0=q;break}var _1=-1,b1=-1;if($[h0+1]==="/")b1=h0;else if(h0+z1+1<=q&&($[h0+1]===Y0[0]||$[h0+1]===F1[0])){var W1=$.substring(h0+1,h0+z1);if(W1.toLowerCase()===Y0&&($[h0+z1]===" "||$[h0+z1]===">"))_1=h0}if(_1===-1&&b1===-1){F0=h0+1;continue}if(_1!==-1&&(b1===-1||_1<b1))F0=_1+z1+1,P1++;else{var o=b1+2;while(o<q){var Z1=$[o];if(Z1!==" "&&Z1!=="\t"&&Z1!==`
`&&Z1!=="\r")break;o++}if(o+Y0.length>q)break;var q1=$.substring(o,o+Y0.length);if(q1.toLowerCase()!==Y0){F0=o;continue}o+=Y0.length;while(o<q){var o0=$[o];if(o0!==" "&&o0!=="\t"&&o0!==`
`&&o0!=="\r")break;o++}if(o>=q||$[o]!==">"){F0=o;continue}var _9=o+1,y1=I($,_9);O1=y1,F0=y1+1,P1--}}var R1=0;while(F0+R1<q&&$[F0+R1]===`
`)R1++;var q9=$.slice(Z,F0+R1),b9=$.slice(s0,O1),D9=F0+R1;return lZ(z.tagName,z.tagName,N1,b9,q9,D9,$,Y,!1,G)}if(U1||!r0){var R=s?"type6":"type7",f=z.endPos,x=p$($,k($,W),q);if(R==="type6"&&!z.isClosing){let o9=I0?z.tagName:z.tagLower||z.tagName.toLowerCase();var M1="</"+o9,I1="<"+o9,L1=f,T1=1,v0=-1;while(L1<x&&T1>0){var N0=$.indexOf(I1,L1),p0=$.indexOf(M1,L1);while(N0!==-1&&N0<x){var S1=N0+I1.length;if(S1>=q){N0=-1;break}var u0=$[S1];if(u0===" "||u0==="\t"||u0===`
`||u0==="\r"||u0===">")break;N0=$.indexOf(I1,S1)}if(N0===-1||N0>=x)N0=x;if(p0===-1||p0>=x)p0=x;if(N0<p0)T1++,L1=N0+I1.length;else if(p0<x){if(T1--,T1===0){v0=p0;break}L1=p0+M1.length}else break}if(v0!==-1&&v0<x){var f0=v0+M1.length;while(f0<q&&($[f0]===" "||$[f0]==="\t"))f0++;if(f0<q&&$[f0]===">"){var J1=f0+1,b0=J1;while(b0<q&&$[b0]!==`
`)b0++;if(b0<q)b0++;while(b0<q&&($[b0]===" "||$[b0]==="\t"))b0++;if(b0<q&&$[b0]==="<"&&!c($.slice(b0),M1)){var e1=t1($,b0);if(e1)x=J1}}}else if(v0=$.indexOf(M1,f),v0!==-1){var s9=$.slice(f,v0),Z0=I0||l9(s9);if(Z0){var G0=v0+M1.length;while(G0<q&&($[G0]===" "||$[G0]==="\t"))G0++;if(G0<q&&$[G0]===">"){var E1=I($,G0+1);x=E1}}}}var P=$.slice(f,x),v1=z.whitespaceBeforeAttrs+z.attrs,g=z.isClosing;let _Z=()=>{let o9=z.tagLower||z.tagName.toLowerCase(),T9=z.whitespaceBeforeAttrs+z.attrs;return{parsed:u1(T9,o9,z.tagName,G),raw:T9}};if(R==="type7"&&P.trim()===""){var G1=$.slice(Z,z.endPos),y9=G1.indexOf(`
`)!==-1;if(y9)return null;var n=z.endPos,L=I($,n);if(L<$.length)L++;var a=$.slice(Z,L);let DZ=_Z();return A9(z.tagName,a,x,DZ.parsed,DZ.raw,g,!1,G,Y)}var S0=z.hasNewline,y0=!r0;if((S0||y0)&&R==="type7"){var U0=z.endPos,u=$.slice(Z,U0),_0=P,i=u+_0;let T9=_Z();return A9(z.tagName,i,x,T9.parsed,T9.raw,g,!1,G,Y)}let qZ=z.tagLower||z.tagName.toLowerCase();var n0=u1(v1,qZ,z.tagName,G),E0={...n0};if(R==="type6"){var J0=P,A1=P.indexOf("</"+qZ);if(A1>=0){var p=A1+2+z.tagName.length;while(p<P.length&&(P[p]===" "||P[p]==="\t"))p++;if(p<P.length&&P[p]===">")J0=P.slice(0,A1)}if(l9(J0))return lZ(z.tagName,z.tagName,v1,J0,$.slice(Z,z.endPos),x,$,Y,!1,G)}var m=P;if(m.length>0){if(m[0]==="\r"&&m[1]===`
`)m=m.slice(2);else if(m[0]===`
`||m[0]==="\r")m=m.slice(1)}var C0=m.split(`
`),R0=1/0;for(var O0=0;O0<C0.length;O0++){var A0=C0[O0];if(A0.trim().length===0)continue;var H=0;while(H<A0.length&&(A0[H]===" "||A0[H]==="\t"))H++;if(H<R0)R0=H}if(R0>0&&R0<1/0){var d0=[];for(var L0=0;L0<C0.length;L0++){var i0=C0[L0];if(i0.trim().length===0)d0.push(i0);else d0.push(i0.slice(R0))}m=d0.join(`
`)}return A9(z.tagName,m,x,E0,v1,g,R==="type6"?!0:!1,G,Y)}}if(Y.inline)return null;var D0=r$($,Z+1);if(!D0)return null;var Y1=D0.tagName;if(!V9(Y1))return null;let R9=D0.tagLower;var W0=D0.nextPos,f1=$.length;while(W0<f1&&j1($[W0]))W0++;var VZ=W0;while(W0<f1&&$[W0]!==">")W0++;if(W0>=f1)return null;let y$=$.slice(VZ,W0).trim(),L9=W0+1;while(L9<f1&&j1($[L9]))L9++;let V6="</"+R9+">",UZ=$.toLowerCase().indexOf(V6,L9);if(UZ!==-1){if($.slice(L9,UZ).trim())return null}W0++;let U6=W0;while(W0<f1&&j1($[W0]))W0++;if(W0<f1&&$[W0]===`
`)W0++;let Q6=u1(y$,Y1,Y1,G);return{type:M.htmlSelfClosing,tag:Y1,attrs:Q6,endPos:U6}}function G5($,Z){if($[Z]!=="<")return null;var Y=$.length,G=!1,X=Z+1;if(Z+1<Y&&$[Z+1]==="/")G=!0,X=Z+2;var V=r$($,X);if(!V)return null;var{tagName:K,tagLower:U,nextPos:J}=V;if(J<Y){var Q=$[J];if(Q===">"||Q==="/"){var O=Q===">"?J+1:J+2;if(Q==="/"&&(J+1>=Y||$[J+1]!==">"))return null;var A=Q==="/",z=u9(K),q=!B9(U)&&!z;return{kind:"tag",tagNameLower:U,tagName:K,isClosing:G,isSelfClosing:A,hasNewline:!1,type6Candidate:z,type7Candidate:q,endPos:O,attrs:"",whitespaceBeforeAttrs:""}}}var W=J,_=!1;while(J<Y){var H=$[J],D=b($,J);if(H===" "||H==="\t");else if(D===10||D===13)_=!0;else break;J++}var F=$.slice(W,J),j=J,v=!1,S="",w=0,E=!1,T=!1,N=0;while(j<Y){var y=$[j],D=b($,j);if(N===1){if(y==='"'){if(j+1<Y&&$[j+1]==='"')return null;N=0}j++}else if(N===2){if(y==="'")N=0;j++}else if(y==='"')N=1,j++;else if(y==="'")N=2,j++;else if(y==="{"||y==="}"&&w>0)w+=y==="{"?1:-1,j++;else if(y===">"&&w===0){if(j>J){var B=j-1;while(B>=J){var R=$[B];if(R!==" "&&R!=="\t")break;B--}if(B>=J&&$[B]==="/")E=!0,T=B<j-1}j++;break}else{if(y==="*"||y==="#"||y==="!"){var f=j+1;while(f<Y){var x=$[f];if(x==="="||x===" "||x==="\t"||x===`
`||x==="\r"||x===">")break;f++}if(f<Y&&$[f]==="=")return null}if(D===10||D===13)_=!0;j++}}if(j>Y||$[j-1]!==">")return null;if(N===1||N===2)return null;if(w>0)return null;if(T)return null;var P=j-1;if(E)P--;var g=$.slice(J,P),h=E,L=-1,a=!1,i="",j0=!1;for(var w0=0;w0<g.length;w0++){var H=g[w0];if(a){if(H===i)a=!1,L=w0,i="",j0=!1}else if(H==='"'||H==="'")a=!0,i=H,j0=!1;else if(H==="=")j0=!0;else if(L!==-1&&w0===L+1){var D=H.charCodeAt(0);if(z9(D))return null}else if(j0&&!a&&(H==="*"||H==="#"||H==="!"))return null;else if(j1(H))j0=!1}var z0=u9(K),T0=!B9(U)&&!z0;return{kind:"tag",tagNameLower:U,tagName:K,isClosing:G,isSelfClosing:h,hasNewline:_,type6Candidate:z0,type7Candidate:T0,endPos:j,attrs:g,whitespaceBeforeAttrs:F}}function q$($,Z){if(Z>=$.length||$[Z]!=="<")return null;var Y=$.length;if(Z+1>=Y)return null;var G=$[Z+1];if(G==="!"){if(Z+4<=Y&&$.slice(Z,Z+4)==="<!--"){var X=Z+4;if(X<Y&&$[X]===">")return{kind:"comment",hasNewline:!1,endPos:X+1,text:$.slice(Z,X+1),raw:!0};if(X+1<Y&&$[X]==="-"&&$[X+1]===">")return{kind:"comment",hasNewline:!1,endPos:X+2,text:$.slice(Z,X+2),raw:!0};while(X+2<Y){if($.slice(X,X+3)==="-->")return{kind:"comment",hasNewline:!1,endPos:X+3,text:$.slice(Z,X+3),raw:!0};X++}return null}if(Z+9<=Y&&$.slice(Z,Z+9)==="<![CDATA["){var X=Z+9;while(X+2<Y){if($.slice(X,X+3)==="]]>")return{kind:"cdata",hasNewline:!1,endPos:X+3,text:$.slice(Z,X+3),raw:!0};X++}return null}if(Z+2<Y&&z9($.charCodeAt(Z+2))){var X=Z+2;while(X<Y&&$[X]!==">")X++;if(X>=Y)return null;return{kind:"declaration",hasNewline:!1,endPos:X+1,text:$.slice(Z,X+1),raw:!0}}return null}if(G==="?"){var X=Z+2;while(X+1<Y){if($.slice(X,X+2)==="?>")return{kind:"pi",hasNewline:!1,endPos:X+2,text:$.slice(Z,X+2),raw:!0};X++}return null}return G5($,Z)}function l$($,Z){if(Z>=$.length)return!1;var Y=$[Z];return Y==="="||Y==="-"||Y==="_"||Y==="*"||Y==="#"||Y===">"||Y==="`"||Y==="~"||Y==="["||Y>="0"&&Y<="9"}function U$($,Z){if(Z>=$.length)return!1;var Y=$[Z];return Y==='"'||Y==="'"||Y==="("}function Y5($,Z,Y){var G=$.length;if(Z>=G||$[Z]!==Y)return null;Z++;var X=Z,V=!1;while(Z<G&&$[Z]!==Y){var K=$.charCodeAt(Z);if(K===d){if(V)return null;V=!0,Z++}else if(K===V0)if(Z+1<G&&$.charCodeAt(Z+1)===d){if(V)return null;V=!0,Z+=2}else V=!1,Z++;else{if(V=!1,K===k1&&Z+1<G)Z++;Z++}}if(Z>=G)return null;return{value:$.slice(X,Z),endPos:Z+1}}function X5($,Z){var Y=$.length;if(Z>=Y||$[Z]!=="(")return null;Z++;var G=Z,X=1,V=!1;while(Z<Y&&X>0){var K=$.charCodeAt(Z);if(K===d){if(V)return null;V=!0,Z++}else if(K===V0)if(Z+1<Y&&$.charCodeAt(Z+1)===d){if(V)return null;V=!0,Z+=2}else V=!1,Z++;else{if(V=!1,K===k1&&Z+1<Y)Z++;else if(K===NZ)X++;else if(K===bZ)X--;Z++}}if(X!==0)return null;return{value:$.slice(G,Z-1),endPos:Z}}function J5($,Z){var Y=$.length,G=Z;while(G<Y){var X=G===0||$[G-1]===`
`,V=$.charCodeAt(G);if(V===d&&G>Z){var K=G+1;if(K<Y&&$.charCodeAt(K)===V0)K++;if(K<Y&&$.charCodeAt(K)===d){var U=K+1;while(U<Y&&($[U]===" "||$[U]==="\t"))U++;var J=U-(G+1);if($.charCodeAt(G+1)===V0)J--;if(U<Y&&$.charCodeAt(U)!==d&&$.charCodeAt(U)!==V0&&J<4)return G}}if(X&&c($,"[^",G)){var Q=G+2;while(Q<Y&&$[Q]!=="]")Q++;if(Q<Y&&$[Q]==="]"&&Q+1<Y&&$[Q+1]===":")return G}G++}return Y}function K5($,Z,Y){let G=$.length,X=Z,V=X<G&&$[X]==="<";if(V)X++;let K=X,U=K;if(K>=G){if(!V)return null;U=K}else if(Y>0&&K<G&&$[K]===`
`)return null;else while(U<G){if(V&&$[U]===">")break;if($[U]===`
`){let N=U+1;if(N>=G)break;if(N<G&&$[N]===`
`)break;let y=N;while(y<G&&($[y]===" "||$[y]==="\t"))y++;if(y<G&&U$($,y))break;if(y<G&&$[y]==="[")break;if(y<G){let B=$[y];if(l$($,y))break;if(B>="a"&&B<="z"){let R=y+1;while(R<G&&R<y+32&&($[R]>="a"&&$[R]<="z"||$[R]>="A"&&$[R]<="Z"||$[R]>="0"&&$[R]<="9"||$[R]==="+"||$[R]==="."||$[R]==="-"))R++;if(R<G&&$[R]===":");else break}}U=y;continue}if(!V&&($[U]===" "||$[U]==="\t")){let N=U+1;while(N<G&&($[N]===" "||$[N]==="\t"))N++;if(N<G&&U$($,N))break;if(N<G&&$[N]===`
`){let y=N+1;if(y<G&&$[y]===`
`)break;let B=y;while(B<G&&($[B]===" "||$[B]==="\t"))B++;if(B<G&&U$($,B))break}}U++}if(V&&(U>=G||$[U]!==">"))return null;let J=$.slice(K,U),Q=[],O=0;for(let N=0;N<=J.length;N++)if(N===J.length||J[N]===`
`){let y=J.slice(O,N);if(y=y.trim(),y.length>0||Q.length===0){if(Q.push(y),N<J.length)Q.push(`
`)}else if(N<J.length)Q.push(`
`);O=N+1}J=Q.join(""),J=J.trim(),X=V?U+1:U;var A=!1;if(X<G&&$[X]===`
`){var z=X+1,q=z;while(q<G&&($[q]===" "||$[q]==="\t"))q++;if(q<G){let N=$[q];if(l$($,q))A=!0;if(!A&&N!=="="&&N!=="-"){var W=I($,q);if(W<G){var _=k($,W),H=_;while(H<G&&($[H]===" "||$[H]==="\t"))H++;if(H<G){var D=$[H];if(D==="="||D==="-")A=!0}}}}}if(!A&&X<G&&U$($,X))return null;let F=0;while(X<G&&!A){let N=$[X];if(N===`
`){if(F++,F>1)break;X++;var j=X;if(X=g0($,X),X<G&&U9($[X])&&$[X]!==`
`){X=j-1;break}if(X<G){let y=$[X];if(l$($,X)){A=!0,X=j-1;break}}}else if(N===" "||N==="\t")X++;else if(U9(N))break;else break}let v=void 0;if(X<G){let N=$[X];var S=N==="("?X5($,X):N==='"'||N==="'"?Y5($,X,N):null;if(S===null&&(N==='"'||N==="'"||N==="("))return null;if(S){v=S.value,X=S.endPos;var w=X;while(w<G&&($[w]===" "||$[w]==="\t"))w++;if(w<G&&$[w]!==`
`&&$[w]!=="\r")return null;X=w}}if(X=g0($,X),X<G&&$[X]!==`
`){var E=X;while(E<G&&$[E]!==`
`){if($[E]!==" "&&$[E]!=="\t")return null;E++}}if(v===void 0&&X<G&&$[X]!==`
`){var T=X;while(T<G&&$[T]!==`
`){if($[T]!==" "&&$[T]!=="\t")return null;T++}}return{endPos:X<G&&$[X]===`
`?X+1:X,target:J,title:v}}function V5($,Z){let Y=Z,G=J5($,Z),X=G<$.length&&$[G]===`
`&&$[G+1]===`
`,V=G,K=Z;var U=[];let J=K,Q=0,O=!1;while(J<V){let W=I($,J);if(W>V)W=V;if(Q===0){let _=W;while(_>J&&($[_-1]===" "||$[_-1]==="\t"))_--;let H=$.slice(J,_);U.push(H),O=H.length===0}else{let _=0,H=J;while(H<W&&H<J+4&&$[H]===" ")_++,H++;let D=!1;for(let j=J;j<W;j++)if($[j]!==" "&&$[j]!=="\t"&&$[j]!=="\r"){D=!0;break}let F=!D;if(_>=4&&O)U.push($.slice(J,W));else if(_===4&&!O)U.push($.slice(J+4,W));else U.push($.slice(J,W));O=F}if(W<V){let _=b($,W);if(_===V0||_===d)U.push(`
`),J=k($,W);else J=V}else J=V;Q++}let A=U.join("");if(X)A=A.replace(/\n$/,"");var z=A.length;while(z>0){var q=A[z-1];if(q===`
`||q===" ")z--;else break}if(z<A.length)A=A.slice(0,z);return{endPos:G,target:A,title:void 0}}function N9($,Z,Y,G,X){if($[Z]!=="[")return null;var V=Z+1<$.length&&$[Z+1]==="^";if(X?!V:V)return null;var K=Z;while(K>0&&$[K-1]!==`
`)K--;if(t($,K,Z).spaceEquivalent>=4||Y.inline)return null;var U=Z+(X?2:1),J=$.length,Q=k6($,U,J,"]");if(Q===-1)return null;var O=$.slice(U,Q);if(O.length>999)return null;var A=!1,z=!1,q=!1;for(var W=0;W<O.length;W++){var _=O[W];if(_==="\\"&&W+1<O.length){W++;continue}var H=b(_);if(H===g1||H===F9)z=!0;else if(H===d||H===V0)q=!0;else if(H!==C&&H!==l)A=!0}if(!A||z)return null;var D=Q+1;if(q){var F=b($,U),j=b($,Q-1);if(F===d||F===V0||j===d||j===V0||D>=J||$[D]!==":")return null}else if(D>=J||$[D]!==":"){if(D=g0($,D),D<J&&b($,D)===d)D=g0($,D+1);if(D>=J||$[D]!==":")return null}D++;var v=0;while(D<J){var S=b($,D);if(S===d){if(++v>1)break;D=g0($,D+1)}else if(S===C||S===l)D++;else break}let w=X?V5($,D):K5($,D,v);if(!w)return null;let E=rZ(O),T=Y.refs||{},N=X?`^${E}`:E;if(!T[N])T[N]={target:D$(w.target.trim()),title:w.title?D$(w.title):void 0},Y.refs=T;return{type:X?M.footnote:M.ref,endPos:w.endPos}}function G6($,Z,Y){var G=[],X=Y===null?0:Y+1;while(X<Z.length){var V=Z[X];if(!V||V.type!=="*"&&V.type!=="_"&&V.type!=="~"&&V.type!=="="){X++;continue}if(!V.canClose||!V.active){X++;continue}var K=V.type==="*"?0:V.type==="_"?1:V.type==="~"?2:3,U=K*6+V.length%3*2+(V.canOpen?1:0),J=G[U]!==void 0?G[U]:Y===null?-1:Y,Q=-1,O=V.type,A=V.inAnchor,z=V.canOpen,q=V.length,W=q%3;for(var _=X-1;_>J;_--){var H=Z[_];if(!H||!H.active||H.type!==O||!H.canOpen||H.inAnchor!==A)continue;var D=H.length;if(!z&&!H.canClose||W===0||(D+q)%3!==0){Q=_;break}}if(Q>=0){var F=Z[Q],D=F.length,j=D>=2&&q>=2,v=j?2:1;if(v>D||v>q){X++;continue}var S=F.nodeIndex,w=V.nodeIndex,E=S+1,T=w,N=$.slice(E,T);if(N.length>0){var y=T-E;$.splice(E,y);for(var B=0;B<Z.length;B++)if(Z[B].nodeIndex>E)Z[B].nodeIndex-=y;if(w>E)w-=y}var R=F.type==="~"?"del":F.type==="="?"mark":j?"strong":"em",f={type:M.textFormatted,tag:R,children:N},x=$[S];if(!x||!x.text){F.active=V.active=!1;continue}var P=x.text.length<=v;if(P){$.splice(S,1);for(var B=0;B<Z.length;B++)if(Z[B].nodeIndex>S)Z[B].nodeIndex--;if(w>S)w--}else x.text=x.text.slice(v);var g=$[w];if(!g||!g.text){F.active=V.active=!1;continue}var h=g.text.length<=v;if(h){$.splice(w,1);for(var B=0;B<Z.length;B++)if(Z[B].nodeIndex>w)Z[B].nodeIndex--}else g.text=g.text.slice(v);var L=P?S<w?w-1:S:S+1;if(L<0||L>$.length)L=L<0?0:$.length;$.splice(L,0,f);for(var B=0;B<Z.length;B++)if(Z[B].nodeIndex>=L)Z[B].nodeIndex++;for(var B=Q+1;B<X;B++)Z[B].active=!1;if(P)F.active=!1;else if(F.length-=v,F.length===0)F.active=!1;if(h)V.active=!1,X++;else if(V.length-=v,V.length===0)V.active=!1,X++}else{if(G[U]=X-1,!V.canOpen)V.active=!1;X++}}var a=0;for(var _=0;_<Z.length;_++)if(Z[_].active)Z[a++]=Z[_];Z.length=a}function r9($,Z,Y){var G=[],X=0,V=-3,K=V;if(Z.inline)return l1($,0,$.length,Z,Y);if(X===0&&$.startsWith("---")){var U=n6($,X);if(U)G.push(U),X=U.endPos}while(X<$.length){while(X<$.length&&$[X]===`
`)X++;if(X>=$.length)break;K=V;let A=$[X],z=c9($,X,Z,Y);if(z){let D=z.type;if(D===M.codeBlock){var J=A==="`"||A==="~";if(!J&&(A===" "||A==="\t")){let F=I($,X),j=t($,X,F);J=j.spaceEquivalent<=3&&X+j.charCount<$.length&&($[X+j.charCount]==="`"||$[X+j.charCount]==="~")}}else if(D===M.breakThematic);else if(D===M.blockQuote);else if(D===M.heading);else if(D===M.orderedList||D===M.unorderedList);else if(D===M.table);else if(D===M.htmlComment);else if(D===M.htmlBlock);else if(D===M.ref);if(z.type===M.htmlComment){G.push(z);let F=X;X=z.endPos;let j=I($,F);if(X<j){let v=$.slice(X,j);if(v.trim().length>0)G.push({type:M.text,text:v});if(X=j,X<$.length&&$[X]===`
`)X++}continue}if(z.type===M.htmlBlock||z.type===M.htmlSelfClosing)if(z.type===M.htmlSelfClosing&&z.isClosingTag===!0&&!Z.inline&&!Z.inHTML);else{G.push(z),X=z.endPos;continue}else{G.push(z),X=z.endPos;continue}}let q=K!==V?K:X;if(K===V){if(j1(A)){let D=I($,X),F=t($,X,D),j=X+F.charCount;if(F.spaceEquivalent<=3&&j<$.length&&$[j]==="[")q=j;else q=-1}else if(A==="[")q=X;else q=-1;K=q}if(q>=0&&q+1<$.length&&$[q+1]==="^")q=-1;if(q>=0){let D=N9($,q,Z,Y,!1);if(D){G.push(D),X=D.endPos;continue}let F=p6($,q,X===0);if(F.shouldSkip){X=F.newPos;continue}}let W=sZ($,X,Z,Y);if(W){G.push(W),X=W.endPos;continue}let _=X;if(j1($[_])){let D=I($,X),F=t($,X,D);_=X+F.charCount}if(_<$.length&&$[_]==="["&&_+1<$.length&&$[_+1]==="^"){let D=N9($,_,Z,Y,!0);if(D){X=D.endPos;continue}}let H=o$($,X,Z,Y);if(H){G.push(H),X=H.endPos;continue}X++}let Q=Z.refs||{},O={};for(let A in Q)O[A]=Q[A];if(Y$(O))return[{type:M.refCollection,refs:O},...G];return G}function N$($,Z,Y){var G=0,X=!0;let V=$.length;while(G<V){var K=0;while(G<V&&b($,G)===d)K++,G++;if(G>=V)break;if(K>0)X=!0;let j=b($,G);if(j===t0||j===$9){var U=YZ($,G,{inline:!1},Y);if(U){G=U.endPos,X=!0;continue}}var J=G,Q=0;while(J<V&&Q<4){let v=b($,J);if(v===C)Q++,J++;else if(v===l)Q+=4-Q%4,J++;else break}if(Q<4&&J<V&&b($,J)===g1&&X)if(J+1<V&&b($,J+1)===E9){X=!1;var D=I($,G);G=D>=V?V:k($,D);continue}else{var O=N9($,J,{inline:!1,refs:Z},Y,!1);if(O){G=O.endPos,X=!0;continue}var D=I($,G),A=$.indexOf(":",J+1);if(A===-1||A>=D){var z=t($,G,D);if(!w1($,G,D)&&j!==x9&&j!==C1&&j!==D1&&j!==i1&&z.spaceEquivalent<4)X=!1}G=D>=V?V:k($,D);continue}if(j===C1&&X){var q=G,W=[];while(q<V){var D=I($,q),_=q;while(_<D){let S=b($,_);if(S===C||S===l)_++;else break}if(_>=D||b($,_)!==C1)break;var H=_+1;if(H<D&&(b($,H)===C||b($,H)===l))H++;W.push($.slice(H,D)),q=k($,D)}if(W.length){N$(W.join(`
`),Z,Y),G=q,X=!0;continue}}var D=I($,G);if(D>=V)G=V;else{var F=w1($,G,D),z=t($,G,D);G=k($,D),X=j===x9||j===C1||j===D1||j===i1||F||z.spaceEquivalent>=4}}}function b$($,Z){if($.charCodeAt(0)===65279)$=$.slice(1);$=p1($);let G={...{inline:!1,refs:{}}},X={...Z,slugify:Z?.slugify?(K)=>Z.slugify(K,X1):X1,sanitizer:Z?.sanitizer||o1,tagfilter:Z?.tagfilter!==!1};if(!G.inline)N$($,G.refs||{},X);return r9($,G,X)}var Q5=/^\n+/,z5=typeof document<"u";function _5($){let Z=!1;for(let G=0;G<$.length;G++){let X=$.charCodeAt(G);if(X>127||X===k1||X===t0){Z=!0;break}}if(!Z)return $;let Y="";for(let G=0;G<$.length;G++){let X=$.charCodeAt(G);if($[G]==="%"&&G+2<$.length&&/[0-9A-Fa-f]/.test($[G+1])&&/[0-9A-Fa-f]/.test($[G+2]))Y+=$[G]+$[G+1]+$[G+2],G+=2;else if(X===k1)Y+="%5C";else if(X===t0)Y+="%60";else Y+=X>127?encodeURIComponent($[G]):$[G]}return Y}var H1=($)=>Array.isArray($)?$:[$],Y6=($)=>typeof $==="function"||typeof $==="object"&&$!==null&&("render"in $);function X6($){if(!$)return"";let Z="";for(let[Y,G]of Object.entries($))if(G===!0)Z+=` ${Y}`;else if(G!==void 0&&G!==null&&G!==!1)Z+=` ${Y}="${String(G)}"`;return Z}function q5($,Z,Y,G,X,V,K,U){switch($.type){case M.blockQuote:{let J={},Q=$.children;if($.alert)J.className="markdown-alert-"+V($.alert.toLowerCase(),X1),Q=[{attrs:{},children:[{type:M.text,text:$.alert}],verbatim:!0,type:M.htmlBlock,tag:"header"},...Q];return G("blockquote",J,...H1(Z(Q,Y)))}case M.breakLine:return G("br",{});case M.breakThematic:return G("hr",{});case M.frontmatter:if(U.preserveFrontmatter)return G("pre",{},$.text);return null;case M.codeBlock:{let J=$.lang?v9($.lang):"",Q={...e9($.attrs||{}),className:J?`language-${J} lang-${J}`:""};return G("pre",{},G("code",Q,$.text))}case M.codeInline:return G("code",{},$.text);case M.footnoteReference:return G("a",{href:X($.target,"a","href")},G("sup",{},$.text));case M.gfmTask:return G("input",{checked:$.completed,readOnly:!0,type:"checkbox"});case M.heading:return G(`h${$.level}`,{id:$.id},...H1(Z($.children,Y)));case M.htmlBlock:{let J=$;if(U.tagfilter&&X$(J.tag)){let Q="rawText"in J&&typeof J.rawText==="string"?J.rawText:`<${J.tag}${X6(J.attrs)}>`;return G("span",{},Q)}if(J.rawText&&J.verbatim){let q=function(j){if(j.type===M.htmlSelfClosing&&"isClosingTag"in j&&j.isClosingTag)return[];if(j.type===M.paragraph){let v=j.children;return v?v.flatMap(q):[]}if(j.type===M.text)return j.text?.trim()?[j]:[];if(j.type===M.htmlBlock&&j.children)return[{...j,children:j.children?.flatMap(q)}];return[j]},Q=J.tag.toLowerCase(),O=B9(Q),A=/<[a-z][^>]{0,100}>/i.test(J.rawText),z=/<\/?pre\b/i.test(J.rawText);if(O&&!A){let j=J.rawText.replace(new RegExp("\\s*</"+Q+">\\s*$","i"),"");if(U.tagfilter)j=J$(j);return G($.tag,{...$.attrs},j)}if(z){let j=U.tagfilter?J$(J.rawText):J.rawText;return G($.tag,{...$.attrs,innerHTML:j})}if(J.children&&J.children.length>0)return G($.tag,{...$.attrs},Z(J.children.flatMap(q),Y));let W={slugify:(j)=>V(j,X1),sanitizer:X,tagfilter:!0},_=J.rawText.replace(/>\s+</g,"><").replace(/\n+/g," ").trim();if(new RegExp(`^<${J.tag}(\\s[^>]*)?>(\\s*</${J.tag}>)?$`,"i").test(_))return G($.tag,{...$.attrs});let D=r9(_,{inline:!1,refs:K,inHTML:!1},W),F=Z(D.flatMap(q),Y);return G($.tag,{...$.attrs},...H1(F))}return G($.tag,{...$.attrs},...$.children?H1(Z($.children,Y)):[])}case M.htmlSelfClosing:{let J=$;if(U.tagfilter&&X$(J.tag)){let Q="rawText"in J&&typeof J.rawText==="string"?J.rawText:`<${J.tag}${X6(J.attrs)} />`;return G("span",{},Q)}return G(J.tag,{...J.attrs})}case M.image:return G("img",{alt:$.alt&&$.alt.length>0?$.alt:void 0,title:$.title||void 0,src:X($.target,"img","src")});case M.link:{let J={};if($.target!=null)J.href=_5($.target);if($.title)J.title=$.title;return G("a",J,...H1(Z($.children,Y)))}case M.table:{let J=$;return G("table",{},G("thead",{},G("tr",{},...J.header.map(function(O,A){return G("th",{style:J.align[A]==null?{}:{textAlign:J.align[A]}},...H1(Z(O,Y)))}))),G("tbody",{},...J.cells.map(function(O,A){return G("tr",{},...O.map(function(q,W){return G("td",{style:J.align[W]==null?{}:{textAlign:J.align[W]}},...H1(Z(q,Y)))}))})))}case M.text:return $.text;case M.textFormatted:return G($.tag,{},...H1(Z($.children,Y)));case M.orderedList:case M.unorderedList:{let J=$.type===M.orderedList?"ol":"ul";return G(J,{start:$.type===M.orderedList?$.start:void 0},...$.items.map(function(O,A){return G("li",{},...H1(Z(O,Y)))}))}case M.paragraph:return G("p",{},...H1(Z($.children,Y)));case M.ref:return null;default:return null}}var D5=($,Z,Y,G,X,V)=>{let K=(Q,O,A)=>{let z=()=>q5(Q,(q)=>O(H1(q)),A,Z,Y,G,X,V);return $?$(z,Q,O,A):z()},U=(Q)=>Q.map((O)=>("text"in O)?O.text:""),J=(Q,O={})=>{let A=(O.renderDepth||0)+1;if(A>2500)return U(Q);let z=[],q=!1;for(let W=0;W<Q.length;W++){let _=K(Q[W],J,{...O,renderDepth:A}),H=typeof _==="string";if(H&&q)z[z.length-1]+=_;else if(_!==null)if(Array.isArray(_))for(let D=0;D<_.length;D++)z.push(_[D]);else z.push(_);q=H}return z};return J},j5=(...$)=>$.filter(Boolean).join(" "),H5=($,Z)=>{let Y=Q9(Z,$,void 0);if(!Y)return $;if(Y6(Y))return Y;let G=Q9(Z,`${$}.component`,$);return Y6(G)?G:G};function JZ($,Z){let Y={...Z||{}};Y.overrides=Y.overrides||{};let G=Y.slugify||X1,X=Y.sanitizer||o1,V=(F)=>J6(F,{...Y,wrapper:null});function K(F,j,...v){if(!z5){let w=v.length===0?void 0:v.length===1?v[0]:v,E=w===void 0?j:{...j,children:w};if(typeof F==="function")return F(E);return{t:F,p:E}}let S=XZ.default(F,j,...v);return typeof S==="function"?S():S}function U(F,j,...v){let S=Q9(Y.overrides,`${F}.props`,{}),w=e9(j||{});for(let y in w){let B=w[y];if(typeof B==="string"&&B.length>0&&B[0]==="<"&&(dZ.test(B)||iZ.test(B)||t1(B,0)))w[y]=V(B.trim())}let E=H5(F,Y.overrides),T=j5(w?.className,S.className||void 0)||void 0,N={...w,...S};if(T)N.className=T;if(w.innerHTML&&S.innerHTML===void 0)N.innerHTML=w.innerHTML,delete w.innerHTML;return K(E,N,...v)}let J=Y.createElement||((F,j,...v)=>K(F,j||{},...v));function Q(F){let j="";for(let v of F){let S=v.type;if(S===M.text)j+=v.text;else if(S===M.htmlSelfClosing&&"rawText"in v){let w=v.rawText;if(w)j+=w}else if(S===M.textFormatted){let w=v,E=w.tag==="em"?"_":w.tag==="strong"?"**":"";j+=E+Q(w.children)+E}else if("children"in v&&v.children)j+=Q(v.children)}return j}let O=[];for(let F=0;F<$.length;F++){let j=$[F];if(j.type===M.htmlBlock&&"rawText"in j&&j.rawText&&/<\/?pre\b/i.test(j.rawText)&&F+1<$.length&&$[F+1].type===M.paragraph&&"removedClosingTags"in $[F+1]&&$[F+1].removedClosingTags){let v=j,S=$[F+1],w=Q(S.children);if(S.removedClosingTags){let N=[],y=`</${v.tag}>`;for(let B of S.removedClosingTags)if(B.type===M.htmlSelfClosing&&"rawText"in B){let R=B.rawText;if(R&&R.indexOf(y)===-1)N.push(R)}w+=N.join("")}let E=(v.rawText||"")+`
`+w,T={...v,rawText:E,text:E};O.push(T),F++}else O.push(j)}let A={slugify:(F)=>G(F,X1),sanitizer:X,tagfilter:Y.tagfilter!==!1,disableAutoLink:Y.disableAutoLink,disableParsingRawHTML:Y.disableParsingRawHTML,enforceAtxHeadings:Y.enforceAtxHeadings,forceBlock:Y.forceBlock,forceInline:Y.forceInline,preserveFrontmatter:Y.preserveFrontmatter},z=O[0]&&O[0].type===M.refCollection?O[0].refs:{},q=D5(Y.renderRule,U,X,G,z,Y),W=q(O,{inline:Y.forceInline,refs:z}),_=[];for(let F in z)if(F.charCodeAt(0)===E9)_.push({identifier:F,footnote:z[F].target});if(_.length)W.push(U("footer",{},..._.map(function(j){let v=j.identifier.slice(1),S=r9(j.footnote,{inline:!0,refs:z},A),w=q(S,{inline:!0,refs:z});return U("div",{id:G(v,X1)},v+": ",...H1(w))})));if(Y.wrapper===null)return W.length===0?null:W.length===1?W[0]:W;let H=Y.wrapper||(Y.forceInline?"span":"div"),D;if(W.length>1||Y.forceWrapper)D=W;else if(W.length===1)return W[0];else return null;return J(H,{...Y.wrapperProps},D)}function J6($="",Z={}){let Y={...Z||{}};Y.overrides=Y.overrides||{};let G=Y.slugify||X1,X=Y.sanitizer||o1;function V(J){let Q=Y.forceInline||!Y.forceBlock&&!P$.test(J),O={slugify:(q)=>G(q,X1),sanitizer:X,tagfilter:Y.tagfilter!==!1,disableAutoLink:Y.disableAutoLink,disableParsingRawHTML:Y.disableParsingRawHTML,enforceAtxHeadings:Y.enforceAtxHeadings,forceBlock:Y.forceBlock,forceInline:Q,preserveFrontmatter:Y.preserveFrontmatter};if(!Q)N$(J,K,O);let A=J;if(!Q){let q=A.length;while(q>0&&(A[q-1]===`
`||A[q-1]==="\r"))q--;A=A.slice(0,q),A=`${A.replace(Q5,"")}

`}let z=r9(Q?J:A,{inline:Q,refs:K},O);return JZ(z,{...Y,forceInline:Q})}let K={};return V($)}var KZ=d1.createContext(void 0);function F5($,Z,...Y){if(typeof document>"u"){let X=Y.length===0?void 0:Y.length===1?Y[0]:Y,V=X===void 0?Z:{...Z,children:X};if(typeof $==="function")return $(V);return{t:$,p:V}}let G=XZ.default($,Z,...Y);return typeof G==="function"?G():G}var O5=($)=>{let Z={value:$.options};return F5(KZ.Provider,Z,$.children)},K6=($)=>{let Z=d1.useContext(KZ),Y=d1.createMemo(()=>({...Z,...$.options})),G=d1.createMemo(()=>{let K=typeof $.children==="function"?$.children():$.children;return K===null||K===void 0?"":K}),X=d1.createMemo(()=>b$(G(),Y()));return d1.createMemo(()=>JZ(X(),{...Y(),wrapperProps:{...Y()?.wrapperProps,...Object.fromEntries(Object.entries($).filter(([K])=>K!=="children"&&K!=="options"))}}))()},M5=K6;

//# debugId=1741DCD2822DE44B64756E2164756E21
//# sourceMappingURL=solid.js.map
