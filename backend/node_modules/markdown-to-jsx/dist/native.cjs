var K6=Object.create;var{getPrototypeOf:U6,defineProperty:T9,getOwnPropertyNames:qZ,getOwnPropertyDescriptor:Q6}=Object,DZ=Object.prototype.hasOwnProperty;var V6=($,Z,J)=>{J=$!=null?K6(U6($)):{};let X=Z||!$||!$.__esModule?T9(J,"default",{value:$,enumerable:!0}):J;for(let G of qZ($))if(!DZ.call(X,G))T9(X,G,{get:()=>$[G],enumerable:!0});return X},zZ=new WeakMap,_6=($)=>{var Z=zZ.get($),J;if(Z)return Z;if(Z=T9({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")qZ($).map((X)=>!DZ.call(Z,X)&&T9(Z,X,{get:()=>$[X],enumerable:!(J=Q6($,X))||J.enumerable}));return zZ.set($,Z),Z};var jZ=($,Z)=>{for(var J in Z)T9($,J,{get:Z[J],enumerable:!0,configurable:!0,set:(X)=>Z[J]=()=>X})};var q5={};jZ(q5,{slugify:()=>j1,sanitizer:()=>o1,parser:()=>tZ,default:()=>D5,compiler:()=>$6,astToNative:()=>eZ,RuleType:()=>v,MarkdownProvider:()=>z5,MarkdownContext:()=>XZ,Markdown:()=>Z6});module.exports=_6(q5);var P1=V6(require("react")),h=require("react-native");var C=32,d=9,Q0=13,i=10,e0=96,e1=126,C1=91,j9=94,k1=62,S9=35,F5=37,D1=45,i1=61,m1=92,E9=42,$9=95,H9=60,x9=64,F9=93,O9=33,P9=38,I9=58,O5=70,c1=102,a1=104,x1=119,s9=116,y$=112,HZ=115,FZ=160,OZ=12;var f9=46,Z9=47;var W5=34,WZ=43,MZ=124,vZ=123;var AZ=40,BZ=41,N$=120,b$=88,J9=48,X9=57,h1=65,p1=90,r1=97,s1=122,K1=128,wZ=32;var z6={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},v=z6;var I$={};jZ(I$,{startsWith:()=>a,slugify:()=>j1,skipWhitespace:()=>C0,shouldFilterTag:()=>J$,sanitizer:()=>o1,parseFrontmatterBounds:()=>T$,normalizeInput:()=>u1,normalizeCRLF:()=>A6,isVoidElement:()=>K9,isUnicodeWhitespace:()=>U9,isUnicodePunctuation:()=>$$,isAlnumCode:()=>t9,isASCIIWhitespace:()=>C9,isASCIIPunctuation:()=>W6,inlineCharTypeTable:()=>g9,includes:()=>j6,htmlAttrsToJSXProps:()=>D6,hasKeys:()=>Z$,getTag:()=>B6,getOverrideProps:()=>w6,get:()=>P$,findLineEnd:()=>I,extractPlainText:()=>RZ,endsWith:()=>e9,decodeEntityReferences:()=>n9,charClassTable:()=>M9,applyTagFilterToText:()=>X$,VOID_ELEMENTS:()=>L$,SHOULD_RENDER_AS_BLOCK_R:()=>S$,SANITIZE_R:()=>W9,NAMED_CODES_TO_UNICODE:()=>q6,HTML_TO_JSX_MAP:()=>bZ,HTML_CHAR_CODE_R:()=>NZ,ATTRIBUTES_TO_SANITIZE:()=>E$});var o9=require("#entities");function T$($){if(!a($,"---"))return null;let Z=3;while(Z<$.length&&($[Z]===" "||$[Z]==="\t"))Z++;if(Z<$.length&&$[Z]==="\r")Z++;if(Z>=$.length||$[Z]!==`
`)return null;Z++;let J=!1;while(Z<$.length){let X=Z;while(Z<$.length&&$[Z]!==`
`&&$[Z]!=="\r")Z++;if(Z>=$.length)break;let G=Z;if($[Z]==="\r")Z++;if(Z<$.length&&$[Z]===`
`)Z++;if(a($,"---",X))return{endPos:Z,hasValidYaml:J};let Y=$.indexOf(":",X);if(Y!==-1&&Y<G)J=!0}return null}var q6=o9.NAMED_CODES_TO_UNICODE,NZ=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,bZ={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"};function D6($){var Z={};for(var J in $){var X=J.toLowerCase(),G=bZ[X];Z[G||J]=$[J]}return Z}var S$=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/;function n9($){if($.indexOf("&")===-1)return $;return $.replace(NZ,(Z,J)=>{var X=o9.decodeEntity(J);if(X)return X;if(J[0]==="#"){var G=J[1]==="x"||J[1]==="X"?parseInt(J.slice(2),16):parseInt(J.slice(1),10);if(G===0||G>=55296&&G<=57343||G>1114111)return"�";return G<=65535?String.fromCharCode(G):String.fromCharCode(55296+(G-65536>>10),56320+(G-65536&1023))}return Z})}var W9=/(javascript|vbscript|data(?!:image)):/i;function o1($){if(W9.test($))return null;if($.indexOf("%")===-1)return $;try{let Z=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(W9.test(Z))return null}catch(Z){return null}return $}var a0={},$1,P0;$1=[192,193,194,195,196,197,224,225,226,227,228,229,230,198];for(P0=0;P0<$1.length;P0++)a0[$1[P0]]="a";a0[231]=a0[199]="c";a0[240]=a0[208]="d";$1=[200,201,202,203,233,232,234,235];for(P0=0;P0<$1.length;P0++)a0[$1[P0]]="e";$1=[207,239,206,238,205,237,204,236];for(P0=0;P0<$1.length;P0++)a0[$1[P0]]="i";a0[209]=a0[241]="n";$1=[248,216,339,338,213,245,212,244,211,243,210,242];for(P0=0;P0<$1.length;P0++)a0[$1[P0]]="o";$1=[220,252,219,251,218,250,217,249];for(P0=0;P0<$1.length;P0++)a0[$1[P0]]="u";a0[376]=a0[255]=a0[221]=a0[253]="y";function t9($){return $>=J9&&$<=X9||$>=h1&&$<=p1||$>=r1&&$<=s1}function j1($){var Z=[];for(var J=0;J<$.length;J++){var X=$.charCodeAt(J);if(t9(X))if(X>=h1&&X<=p1)Z.push(String.fromCharCode(X+wZ));else Z.push($[J]);else if(X===C||X===D1)Z.push("-");else{var G=a0[X];if(G)Z.push(G)}}return Z.join("")}function j6($,Z){return $.indexOf(Z)!==-1}function a($,Z,J){return $.startsWith(Z,J)}function e9($,Z,J){return $.startsWith(Z,(J===void 0?$.length:J)-Z.length)}var L$=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","animateTransform","set"]);function K9($){let Z=$.toLowerCase();if(L$.has(Z))return!0;let J=Z.indexOf(":");if(J!==-1)return Z=Z.slice(J+1),L$.has(Z);return!1}var E$=["src","href","data","formAction","srcDoc","action"],x$=1,Y9=2,yZ=1,H6=2,F6=3,O6=4,M9=function(){let $=new Uint8Array(128),Z;$[d]=$[i]=$[OZ]=$[Q0]=$[C]=x$;for(Z=O9;Z<=Z9;Z++)$[Z]=Y9;for(Z=I9;Z<=x9;Z++)$[Z]=Y9;for(Z=C1;Z<=e0;Z++)$[Z]=Y9;for(Z=vZ;Z<=e1;Z++)$[Z]=Y9;return $}(),g9=function(){let $=new Uint8Array(128);return $[m1]=H6,$[C1]=O6,$[E9]=$[$9]=$[e1]=$[i1]=F6,$[e0]=$[H9]=$[x9]=$[F9]=$[i]=$[C]=$[O9]=yZ,$[c1]=$[a1]=$[x1]=yZ,$}();function W6($){return $<K1&&(M9[$]&Y9)!==0}function C9($){return $<K1&&(M9[$]&x$)!==0}var M6=/[\p{P}\p{S}]/u,v6=/\p{Zs}/u;function U9($){if(!$)return!0;let Z=$.charCodeAt(0);return Z<K1?(M9[Z]&x$)!==0:v6.test($)}function $$($){if(typeof $==="number")return $<K1&&(M9[$]&Y9)!==0;if(!$)return!1;let Z=$.charCodeAt(0);return Z<K1?(M9[Z]&Y9)!==0:M6.test($)}function I($,Z){let J=$.indexOf(`
`,Z);if(J===-1)return $.length;if(J>0&&$.charCodeAt(J-1)===Q0)return J-1;return J}var G9=[];function u1($){var Z=$.indexOf("\r"),J=$.indexOf("\x00");if(Z===-1&&J===-1)return $;var X=$.length;G9.length=0;var G=0,Y=0;if(Z===-1)Y=J;else if(J===-1)Y=Z;else Y=Z<J?Z:J;for(;Y<X;Y++){var K=$.charCodeAt(Y);if(K===Q0){if(G<Y)G9.push($.slice(G,Y));if(Y+1<X&&$.charCodeAt(Y+1)===i)Y++;G9.push(`
`),G=Y+1}else if(K===0){if(G<Y)G9.push($.slice(G,Y));G9.push("�"),G=Y+1}}if(G<X)G9.push($.slice(G));return G9.join("")}function A6($){return u1($)}function C0($,Z,J){let X=J??$.length;while(Z<X&&($[Z]===" "||$[Z]==="\t"))Z++;return Z}function Z$($){if(!$)return!1;for(var Z in $)return!0;return!1}function P$($,Z,J){var X=$,G=Z.split("."),Y=0;while(Y<G.length){if(X=X?.[G[Y]],X===void 0)break;Y++}return X||J}function B6($,Z){if(!Z)return $;let J=P$(Z,$,void 0);if(typeof J==="string")return J;if(typeof J==="object"&&J.component)return J.component;return $}function w6($,Z){if(!Z)return{};let J=P$(Z,$,void 0);return typeof J==="object"&&J.props?J.props:{}}function RZ($,Z){var J="";for(var X=0,G=$.length;X<G;X++){var Y=$[X],K=Y.type;if(K===Z.text||K===Z.codeInline){var V=Y.text;if(V)J+=V}else if(K===Z.textFormatted||K===Z.link){if(Y.children)J+=RZ(Y.children,Z)}else if(K===Z.image){if(Y.alt)J+=Y.alt}}return J}function J$($){var Z=$.toLowerCase();return Z==="title"||Z==="textarea"||Z==="style"||Z==="xmp"||Z==="iframe"||Z==="noembed"||Z==="noframes"||Z==="script"||Z==="plaintext"}function X$($){return $.replace(/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi,function(Z,J,X,G){return"&lt;"+J+X+G})}function y6($){console.warn($)}function A9($,Z,J,X){var G=N(J),Y=$.length,K=X??Y-Z,V=0;while(V<K&&Z+V<Y&&N($,Z+V)===G)V++;return V}function LZ($,Z,J,X,G){if(G===0?J>=X:Z<=X)return!1;let Y=G===0?$[J]:$[Z-1],K=G===0?Z>0?$[Z-1]:null:J<$.length?$[J]:null;var V=N(Y);if(V<K1?C9(V):U9(Y))return!1;var U=K?N(K):null,Q=K===null||K===`
`||K==="\r"||(U!==null?U<K1?C9(U):U9(K):!0),H=j$(V,Y);if(!H)return!0;if(Q)return!0;return K?j$(N(K),K):!1}function z$($){var Z="",J=0;while(J<$.length)if($[J]==="\\"&&J+1<$.length){var X=$[J+1];Z+=$$(N(X))?X:"\\"+X,J+=2}else Z+=$[J++];return n9(Z)}function k($,Z){if(Z>=$.length)return Z;if($.charCodeAt(Z)===Q0&&Z+1<$.length&&$.charCodeAt(Z+1)===i)return Z+2;if($.charCodeAt(Z)===i)return Z+1;return Z+1}function N6($,Z){if($>=K1)return 0;var J=g9[$];if(Z&&J===1&&($===c1||$===a1||$===x1))return 0;return J}function b6($,Z,J,X,G,Y){if(!J.length||J[J.length-1].type!==v.blockQuote)return null;let K=C0(X,0,X.length);if(K>=X.length||X[K]!==">")return null;let V=iZ($,Z,G,Y);if(!V)return null;let U=J[J.length-1],Q=V;if(Q.children)U.children.push(...Q.children);return Q.endPos}function q$($,Z,J,X){return{type:v.heading,level:$,children:Z,id:X(J)}}var u$=/\\(.)/g,R6=/\s+#+\s*$/,t$=/^(?:(\d{1,9})([.)])\s+(.*)$|(\d{1,9})([.)])\s*$|([-*+])\s+(.*)$|([-*+])\s*$)/,l$=/^(\d{1,9})([.)])(\s+|$)/,d$=/^([*+\-])(\s+|$)/,O$=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/i,A5=/^<([a-z][^ >/]*) ?(?:[^>/]+[^/]|)>/i,N=function($,Z=0){return $.charCodeAt(Z)},D$=function($){return t9(N($))},i$=function($){return C9(N($))},H1=function($){return $===" "||$==="\t"},k9=function($){return $===" "||$==="\t"||$===`
`||$==="\r"},j$=function($,Z){return $$($<K1?$:Z)},L6=function($){var Z=N($);return D$($)||Z===D1||Z===$9||Z===I9||Z===f9};function c$($,Z){var J=$.length;if(Z>=J)return null;var X=N($[Z]);if(!Q9(X))return null;var G=Z,Y=Z;while(Y<J){var K=N($[Y]);if(K>=r1&&K<=s1||K>=h1&&K<=p1||K>=J9&&K<=X9||K===D1)Y++;else{var V=N($[Y]);if(V===C||V===d||V===i||V===Q0||V===k1||V===Z9)break;else return null}}if(Y===G)return null;var U=$.slice(G,Y);for(var Q=0;Q<U.length;Q++){var K=N(U[Q]);if(!(K>=r1&&K<=s1||K>=h1&&K<=p1||K>=J9&&K<=X9||K===D1))return null}return{tagName:U,tagLower:U.toLowerCase(),nextPos:Y}}function B9($,Z){var J=_$($,Z);if(!J||J.kind!=="tag")return null;return{tagName:J.tagName||"",tagLower:J.tagNameLower||"",attrs:J.attrs||"",endPos:J.endPos,isClosing:J.isClosing||!1,isSelfClosing:J.isSelfClosing||!1,hasNewline:J.hasNewline,hasSpaceBeforeSlash:!1,whitespaceBeforeAttrs:J.whitespaceBeforeAttrs||""}}function T6($,Z,J){var X=1,G=Z;while(X>0&&G<$.length){var Y=$.indexOf("<",G);if(Y===-1)return null;var K=B9($,Y);if(!K){G=Y+1;continue}if(K.isClosing&&K.tagLower===J&&--X===0)return[Y,K.endPos];if(!K.isClosing&&!K.isSelfClosing&&K.tagLower===J)X++;G=K.endPos}return null}var S6=/^\{.*\}$/,W$=/\n\n/,M$=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m,E6=/<\/?(?:pre|script|style|textarea)\b/i,B5=/^<[A-Z]/,x6=/\n$/,P6=new Set(["#",">","-","*","+","`","|","0","1","2","3","4","5","6","7","8","9"]);function I6($,Z,J,X){let G=Z;while(G<J){if($[G]==="\\"&&G+1<J){G+=2;continue}if($[G]===X)return G;G++}return-1}function TZ($,Z){var J=Z.indexOf(":");if(J>0){var X=Z.slice(J+1).trim(),G=X.length;if(G>=2){var Y=X[0];if((Y==='"'||Y==="'")&&X[G-1]===Y)X=X.slice(1,-1)}$.push([Z.slice(0,J).trim(),X])}}function f6($){var Z=[];if(!$)return Z;var J="",X=0,G="";for(var Y=0;Y<$.length;Y++){var K=$[Y];if(K==='"'||K==="'"){if(!G)G=K,X++;else if(K===G)G="",X--}else if(K==="("&&e9(J,"url"))X++;else if(K===")"&&X>0)X--;else if(K===";"&&X===0){TZ(Z,J),J="";continue}J+=K}return TZ(Z,J),Z}function g6(tag,key,value,sanitizeUrlFn,options){if(key==="style")return f6(value).reduce(function($,[Z,J]){let X=sanitizeUrlFn(J,tag,Z);if(X!=null)$[Z.replace(/(-[a-z])/g,(G)=>G[1].toUpperCase())]=X;return $},{});if(value.match(S6)){if(value=value.slice(1,value.length-1),value=value?value.replace(u$,"$1"):value,value.length>0){let $=value[0];if($==="["||$==="{")try{return JSON.parse(value)}catch(Z){return value}}if(value==="true")return!0;if(value==="false")return!1;if(options.evalUnserializableExpressions)try{return eval(`(${value})`)}catch($){return value}return value}if(E$.indexOf(key)!==-1)return sanitizeUrlFn(value?value.replace(u$,"$1"):value,tag,key);return value==="true"?!0:value==="false"?!1:value}function l1($,Z,J,X){let G={};if(!$||!$.trim())return G;let Y=[],K=0,V=$.length;while(K<V){while(K<V&&k9($[K]))K++;if(K>=V)break;let H=K;while(K<V&&L6($[K]))K++;if(K===H){K++;continue}let W=$.slice(H,K);while(K<V&&k9($[K]))K++;if(K>=V||$[K]!=="="){Y.push(W);continue}K++;while(K<V&&k9($[K]))K++;if(K>=V){Y.push(W+"=");break}let _=K,D=$[K];if(D==='"'||D==="'"){K++;while(K<V){if($[K]===D){if(K+1>=V){K++;break}let F=$[K+1];if(k9(F)||F==="/"){K++;break}}K++}}else if(D==="{"){let F=1;K++;while(K<V&&F>0){if($[K]==="{")F++;else if($[K]==="}"){if(F--,F===0){K++;break}}K++}}else while(K<V&&!k9($[K]))K++;Y.push(W+"="+$.slice(_,K))}if(!Y?.length)return G;let U=Z.toLowerCase();for(let H=0;H<Y.length;H++){let W=Y[H],_=W.indexOf("=");if(_!==-1){let D=W.slice(0,_).trim(),F=D.toLowerCase();if(F==="ref")continue;let z=W.slice(_+1).trim(),j=((q)=>{let M=q[0];if((M==='"'||M==="'")&&q.length>=2&&q[q.length-1]===M)return q.slice(1,-1);return q})(z);if(F==="href"&&U==="a"||F==="src"&&U==="img"){let q=X.sanitizer(j,U,F);if(q==null){y6(`Stripped unsafe ${F} on <${J}>`);continue}G[D]=q}else{let q=g6(U,F,j,X.sanitizer,X);G[D]=q}}else if(W!=="style")G[W]=!0}if($.indexOf("%")!==-1)try{if(W9.test(decodeURIComponent($)))for(var Q in G)delete G[Q]}catch(H){}else if(W9.test($))for(var Q in G)delete G[Q];return G}var u9=function($){return P6.has($)};function C6($,Z,J){let X=Z+1;while(X<$.length&&$[X]!=="]"){if($[X]==="\\"&&X+1<$.length){X+=2;continue}X++}if(X>=$.length)return{shouldSkip:!1,newPos:0};let G=Z+1,Y=X,K=G<Y&&($[G]===`
`||$[G]==="\r"),V=Y>G&&($[Y-1]===`
`||$[Y-1]==="\r"),U=X+1;if(U=C0($,U),U>=$.length||$[U]!==":")return{shouldSkip:!1,newPos:0};if((K||V)&&J){let Q=U+1;if(Q=C0($,Q),Q<$.length&&$[Q]===`
`)Q=C0($,Q+1);while(Q<$.length&&$[Q]!==`
`)Q++;if(Q<$.length)Q++;return{shouldSkip:!0,newPos:Q}}return k6($,U)}function k6($,Z){let J=Z+1;if(J=C0($,J),J<$.length&&$[J]===`
`)J=C0($,J+1);while(J<$.length&&$[J]!==`
`)J++;if(J>=$.length)return{shouldSkip:!1,newPos:0};J++;let X=C0($,J);if(X>=$.length||$[X]!=='"'&&$[X]!=="'")return{shouldSkip:!1,newPos:0};let G=$[X],Y=X+1;while(Y<$.length&&$[Y]!==G&&$[Y]!==`
`){if($[Y]==="\\"&&Y+1<$.length){Y+=2;continue}Y++}if(Y>=$.length||$[Y]!==G)return{shouldSkip:!1,newPos:0};let K=C0($,Y+1);if(K<$.length&&$[K]!==`
`&&$[K]!=="\r")return{shouldSkip:!0,newPos:J};return{shouldSkip:!1,newPos:0}}function pZ($){for(var Z=0;Z<$.length;Z++){var J=$[Z];if(J.type===v.link)return!0;if(J.type===v.textFormatted){var X=J;if(X.children&&pZ(X.children))return!0}}return!1}function a$($){var Z="";for(var J=0,X=$.length;J<X;J++){var G=$[J],Y=G.type;if(Y===v.text)Z+=G.text;else if(Y===v.image){var K=G;if(K.alt)Z+=K.alt}else if(Y===v.textFormatted){var V=G;if(V.children)Z+=a$(V.children)}else if(Y===v.link){var U=G;if(U.children)Z+=a$(U.children)}}return Z}var m6=new Set([" ","\t","\r",`
`,"\f","\v"]);function d1($,Z,J,X,G){var Y=[],K=[],V=[],U=Z,Q=Z,H=G.disableAutoLink||X.inAnchor,W=!1,_=!!X.inAnchor,D=!!G.disableParsingRawHTML,F=G.optimizeForStreaming,z=-1,j=-1,q=[],M=function(g0,Y1){if(F&&X.inHTML)return!1;if(!_&&(!Y1||!G.disableAutoLink)){var b0=g$($,U,X,G,"<");if(b0)return O(U),Y.push(b0),U=b0.endPos,Q=U,!0}if(D)return!1;var t1=A$($,U,X,G);if(t1){O(U);var a9=Y.length;if(Y.push(t1),q)q.push(a9);return U=t1.endPos,Q=U,!0}if(F&&j===-1){if(U+1<J){var J0=N($,U+1);if(J0>=h1&&J0<=p1||J0>=r1&&J0<=s1||J0===Z9||J0===O9)j=U}}if(!g0)return!1;var X0=B9($,U);if(!X0)return!1;var E1=U+(X0.isClosing?2:1);if(E1>=$.length||H1($[E1]))return!1;var v1=$.indexOf(">",U+1);if(v1!==-1){var X1=U+1,N9=v1-X1;if(N9>=7){var t=a($,"http://",X1);if(t||a($,"https://",X1)){for(var E0=X1;E0<v1;E0++)if(H1($[E0]))return!1}}}var R0=N($,E1);if(Q9(R0)&&E1+1<$.length&&$[E1+1]===":")return!1;if(X0.isClosing&&X0.attrs.trim().length)return!1;if(X0.attrs.length){var V0=!1,l="";for(var q0=0;q0<X0.attrs.length;q0++){var t0=X0.attrs[q0];if(V0&&t0===l)V0=!1;else if(!V0&&(t0==='"'||t0==="'"))V0=!0,l=t0;else if(t0==="*"||t0==="#"||t0==="!"){var x0=q0+1;while(x0<X0.attrs.length&&X0.attrs[x0]!=="="&&X0.attrs[x0]!==" "&&X0.attrs[x0]!=="\t")x0++;if(x0<X0.attrs.length&&X0.attrs[x0]==="=")return!1}}}var K0=$.slice(U,X0.endPos),A1=X0.tagName.toLowerCase(),m=K0,k0=m.indexOf(">");if(k0!==-1){m=m.slice(k0+1);var L0="</"+A1+">",W0=m.indexOf(L0);if(W0!==-1)m=m.slice(0,W0)}var B0=[];if(m.trim()&&G){var i0={...X,inline:!1,inHTML:!0},T0=m.trim();if(W$.test(T0)||M$.test(T0)||O$.test(T0))B0=i9(T0,i0,G);else if(T0)i0.inline=!0,B0=d1(T0,0,T0.length,i0,G)}var c0=X0.whitespaceBeforeAttrs+X0.attrs,j0=l1(c0,A1,X0.tagName,G),G1={type:v.htmlBlock,tag:X0.tagName,attrs:j0,children:B0,rawText:K0,text:m,verbatim:!0,endPos:X0.endPos};return O(U),Y.push(G1),U=G1.endPos,Q=U,!0},O=function(g0){if(g0>Q){var Y1=$.slice(Q,g0);Y.push({type:v.text,text:W?n9(Y1):Y1}),Q=g0,W=!1}};while(U<J){var A=N($,U),E=N6(A,H);if(E===0){if(A===P9)W=!0;U++;while(U<J){if(A=N($,U),A>=K1)break;if(A===P9)W=!0;var w=g9[A];if(w!==0){if(H&&w===1&&(A===c1||A===a1||A===x1)){U++;continue}break}U++}continue}if(A===e0){var x=U,T=0;while(U+T<J){if(N($,U+T)!==e0)break;T++}if(T>0){var y=U+T,b=-1,B=y;while(B<J){while(B<J&&N($,B)!==e0)B++;if(B>=J)break;var L=0;while(B+L<J&&N($,B+L)===e0)L++;if(L>T)L=T;var f=B+L;if(L===T&&(B<=y||N($,B-1)!==e0)&&(f>=J||N($,f)!==e0)){b=B,B=f;break}B++}if(b!==-1){var S=$.slice(y,b),P=!1;for(var g=0;g<S.length;g++){var p=N(S,g);if(p===i||p===Q0){P=!0;break}}var R=S;if(P)R=S.replace(/\r\n/g," ").replace(/\r/g," ").replace(/\n/g," ");if(R.length>0){var r=N(R,0),c=N(R,R.length-1);if(r===C&&c===C){for(var H0=1;H0<R.length-1;H0++)if(N(R,H0)!==C){R=R.slice(1,R.length-1);break}}}O(x),Y.push({type:v.codeInline,text:R}),U=B,Q=U;continue}if(F&&z===-1){z=x,O(x),J=x;break}U=y;continue}}if(!_&&!H&&(A===c1||A===a1||A===x1)){var w0=null,z0=U+1<J?N($,U+1):0,S0=U+2<J?N($,U+2):0,u=U+3<J?N($,U+3):0,U1=U+4<J?N($,U+4):0,Y0=U+5<J?N($,U+5):0;if(A===a1&&z0===s9&&S0===s9&&u===y$)w0="h";else if(A===x1&&z0===x1&&S0===x1&&u===f9)w0="w";else if(A===c1&&z0===s9&&S0===y$&&u===I9&&U1===Z9&&Y0===Z9)w0="f";if(w0){var I0=g$($,U,X,G,w0);if(I0){O(U),Y.push(I0),U=I0.endPos,Q=U;continue}}}if(!_&&!H&&A===x9){var v0=g$($,U,X,G,"@");if(v0&&"emailStart"in v0){var{emailStart:_0,endPos:r0}=v0,f0=[];for(var f=K.length-1;f>=0;f--){var m0=K[f];if(m0.sourcePos>=_0&&m0.sourcePos<r0){if(m0.nodeIndex>=0&&m0.nodeIndex<Y.length)Y.splice(m0.nodeIndex,1),f0.push(m0.nodeIndex);K.splice(f,1)}}if(_0<Q){for(var B=Y.length-1;B>=0;B--)if(Y[B].type===v.text){Y.splice(B,1),f0.push(B);break}Q=_0}if(f0.length){f0.sort(function(g0,Y1){return g0-Y1});var w1=0;for(var s=0;s<K.length;s++){var m0=K[s];while(w1<f0.length&&f0[w1]<m0.nodeIndex)w1++;m0.nodeIndex-=w1}}O(_0),Y.push(v0),U=r0,Q=U;continue}}if(A===H9){if(M(!0,!1))continue}if(A===m1){if(U+1<J&&N($,U+1)===i){var U0=U+2;while(U0<J&&N($,U0)===C)U0++;if(U0>=J){U++;continue}O(U),Y.push({type:v.breakLine}),U+=2;while(U<J&&N($,U)===C)U++;Q=U;continue}var y0=U+1<J?$[U+1]:"";if(y0&&"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".indexOf(y0)!==-1){O(U),Y.push({type:v.text,text:y0==="&"?"&​":y0}),U+=2,Q=U;continue}}if(A===C1){if(!_){if(U+1<J&&$[U+1]==="^"){var h0=U+2;while(h0<J&&$[h0]!=="]")h0++;if(h0<J){var F0=$.slice(U+2,h0);O(U),Y.push({type:v.footnoteReference,target:`#${G.slugify(F0)}`,text:F0}),U=h0+1,Q=U;continue}}if(X.inList&&U+2<J&&N($,U+2)===F9){var D0=N($,U+1);if(D0===C||D0===N$||D0===b$){O(U),Y.push({type:v.gfmTask,completed:D0===N$||D0===b$}),U+=3,Q=U;continue}}}var $0=!1;if(U>Z&&$[U-1]==="!"){var d0=0;for(var G0=U-2;G0>=Z&&$[G0]==="\\";G0--)d0++;if((d0&1)===0){if($0=!0,Q<U-1)O(U-1);if(Y.length>0&&Y[Y.length-1].type===v.text){var Z0=Y[Y.length-1];if(Z0.text.endsWith("!")){if(Z0.text=Z0.text.slice(0,-1),!Z0.text)Y.pop()}}}}if(!$0)O(U);if(Q=U+1,!_||$0)V.push({type:$0?"image":"link",pos:$0?U-1:U,resultIdx:Y.length,inAnchor:_});U++;continue}if(A===F9&&V.length>0){var o=V[V.length-1],s0=o.pos+(o.type==="image"?2:1),Z1=U;O(U);var Q1=U+1,F1=e$(Y,o),V1=o.type==="link"&&pZ(F1),y1=!1;if(!V1&&Q1<J&&$[Q1]==="("){var O0=l6($,Q1+1,!0);if(O0){SZ(Y,K,V,o,s0,Z1,G.sanitizer(z$(O0.target),"a","href"),O0.title?z$(O0.title):void 0),U=O0.endPos,Q=U;continue}}var o0=X.refs||{};Z$(o0);var O1=null,I1=U;if(Q1<J&&$[Q1]==="["){var _1=Q1+1,B=_1;while(B<J&&$[B]!=="]")B++;if(B<J)O1=$.slice(_1,B),I1=B,y1=!0}if(!y1||O1==="")O1=$.slice(s0,Z1);var p0=lZ(O1);if(!V1&&o0&&o0[p0]){var z1=o0[p0];SZ(Y,K,V,o,s0,Z1,z1.target,z1.title),U=I1+1,Q=U;continue}var N1=o.resultIdx;if(V.pop(),Y.length=N1,F){if(Y.push(...F1),Q1<J&&$[Q1]==="(")return Y}else{if(o.type==="image")Y.push({type:v.text,text:"!"});Y.push({type:v.text,text:"["},...F1,{type:v.text,text:"]"})}for(var g=0;g<K.length;g++)if(K[g].nodeIndex>=N1)K[g].nodeIndex++;U++,Q=U;continue}if(A===E9||A===$9||A===e1||A===i1){var W1=$[U],n=U,J1=A9($,U,W1);if((W1==="~"||W1==="=")&&J1!==2){U++;continue}var q1=n+J1,n0=LZ($,n,q1,J,0),_9=LZ($,n,q1,Z,1),b1=n0,R1=_9;if(W1==="_"&&n0&&_9){if(n>0){var z9=$[n-1],y9=N(z9);b1=j$(y9,z9)}if(q1<J){var q9=$[q1],M1=N(q9);R1=j$(M1,q9)}}O(n),K.push({nodeIndex:Y.length,type:W1,length:J1,canOpen:b1,canClose:R1,active:!0,sourcePos:n,inAnchor:_}),Y.push({type:v.text,text:$.slice(n,n+J1)}),U=n+J1,Q=U;continue}if(A===i){var G0=U-1,f1=0;while(G0>=Q&&N($,G0)===C)f1++,G0--;if(f1>=2){var U0=U+1;while(U0<J&&N($,U0)===C)U0++;if(U0>=J){O(G0+1),U=J,Q=J;continue}O(G0+1),Y.push({type:v.breakLine}),U++;while(U<J&&N($,U)===C)U++;Q=U;continue}var L1=U>Q?N($,U-1):0,D0=U+1<J?N($,U+1):0,T1=U>Q&&L1===C&&D0===C?U-1:U;if(O(T1),Y.push({type:v.text,text:`
`}),Q=U+1,U>Z&&L1===C&&Q<J&&N($,Q)===C)Q++;U=Q;continue}if(A===P9)W=!0;U++;while(U<J){var A=N($,U);if(A>=K1)break;if(A===P9)W=!0;var w=g9[A];if(w===0){U++;continue}if(w===1&&(A===c1||A===a1||A===x1)&&H){U++;continue}break}}if(O(U),K.length)nZ(Y,K,null);if(F){var A0=Y.length;for(var N0=q.length-1;N0>=0;N0--){var u0=q[N0];if(u0<Y.length&&Y[u0].type===v.htmlBlock){var S1=Y[u0];if(!K9(S1.tag)&&(!S1.children||S1.children.length===0)){if(Y.splice(u0,1),u0<A0)A0--;for(var g=0;g<K.length;g++)if(K[g].nodeIndex>u0)K[g].nodeIndex--;for(var g=N0+1;g<q.length;g++)if(q[g]>u0)q[g]--}}}if(z!==-1&&z<A0){for(var l0=Y.length-1;l0>=0;l0--)if(Y[l0].type===v.text){A0=l0;break}}if(j!==-1&&j<A0){for(var l0=Y.length-1;l0>=0;l0--)if(Y[l0].type===v.text){A0=l0;break}}for(var B=K.length-1;B>=0;B--)if(K[B].active&&K[B].nodeIndex<A0){if(Y.splice(K[B].nodeIndex,1),K[B].nodeIndex<A0)A0--;for(var f=0;f<B;f++)if(K[f].nodeIndex>K[B].nodeIndex)K[f].nodeIndex--}if(A0<Y.length)Y.length=A0;return Y}if(V.length){V.sort(function(g0,Y1){return g0.resultIdx-Y1.resultIdx});for(var B=0;B<V.length;B++)Y.splice(V[B].resultIdx+B,0,{type:v.text,text:V[B].type==="image"?"![":"["})}return Y}function h6($,Z,J,X,G){var Y=!1;for(var K=0;K<Z.length;K++)if(Z[K].sourcePos>=X&&Z[K].sourcePos<G){Y=!0;break}if(!Y)return;var V=e$($,J),U=[];for(var K=0;K<Z.length;K++){var Q=Z[K];if(Q.sourcePos>=X&&Q.sourcePos<G)U.push({nodeIndex:Q.nodeIndex-J.resultIdx,type:Q.type,length:Q.length,canOpen:Q.canOpen,canClose:Q.canClose,active:Q.active,sourcePos:Q.sourcePos,inAnchor:Q.inAnchor})}nZ(V,U,null),$.length=J.resultIdx;for(var H=0;H<V.length;H++)$.push(V[H]);var W=[];for(var K=0;K<Z.length;K++)if(Z[K].sourcePos<X||Z[K].sourcePos>=G)W.push(Z[K]);Z.length=0;for(var H=0;H<W.length;H++)Z.push(W[H])}function p6($,Z,J,X){if($.type==="link")return{type:v.link,target:J,title:X,children:Z};return{type:v.image,target:J||"",alt:a$(Z),title:X}}function e$($,Z){return $.slice(Z.resultIdx)}function SZ($,Z,J,X,G,Y,K,V){h6($,Z,X,G,Y);var U=e$($,X);J.pop(),$.length=X.resultIdx,$.push(p6(X,U,K,V))}function u6($,Z,J){let X=C0($,Z),G=X<$.length&&$[X]==="<";if(G)X++;let Y=X;if(G&&X<$.length&&$[X]===">")return{target:"",endPos:X+1,hadSpace:!1};let K,V;var U=!1;if(G){V=X;while(V<$.length&&$[V]!==">"){let W=$[V];if(W===`
`||W==="\r"||W==="<")return null;if(W==="\\"){V+=2;continue}V++}if(V>=$.length||$[V]!==">")return null;V++;let Q=Y;while(Q<V-1&&H1($[Q]))Q++;let H=V-1;while(H>Q&&H1($[H-1]))H--;K=$.slice(Q,H),X=V}else{let Q=0;V=X;while(V<$.length){let H=$[V];if(H===" "||H==="\t"||H===`
`){U=!0;break}if(!J&&H===")")break;if(J&&H==="("){if(V>0&&$[V-1]==="\\"){V++;continue}Q++,V++;continue}if(J&&H===")"){if(V>0&&$[V-1]==="\\"){V++;continue}if(Q===0)break;Q--,V++;continue}V++}K=$.slice(Y,V),X=V}return{target:K,endPos:X,hadSpace:U}}function EZ($,Z,J,X){let G=Z,Y=0;while(G<$.length){let V=$[G];if(H1(V))G++;else if(V===`
`){if(Y>=1)break;Y++,G++}else if(U9(V))break;else break}if(J&&!X){if(G>=$.length||$[G]!=='"'&&$[G]!=="'"&&$[G]!=="(")return{title:void 0,endPos:G}}let K=void 0;if(G<$.length){let V=$[G];if(V==='"'||V==="'"){G++;let U=G;while(G<$.length&&$[G]!==V){if($[G]==="\\")G++;G++}if(G<$.length)K=$.slice(U,G),G++}else if(V==="("){G++;let U=G,Q=1;while(G<$.length&&Q>0){if($[G]==="\\"&&G+1<$.length)G++;else if($[G]==="(")Q++;else if($[G]===")")Q--;G++}if(Q===0)K=$.slice(U,G-1)}}return G=C0($,G),{title:K,endPos:G}}function l6($,Z,J){let X=u6($,Z,J);if(!X)return null;let G=Z;G=C0($,G);let Y=G<$.length&&$[G]==="<";if(Y&&X.target===""&&X.endPos===G+2){let V=EZ($,X.endPos,!1,Y);if(V.endPos>=$.length||$[V.endPos]!==")")return null;return{target:"",title:V.title,endPos:V.endPos+1}}let K=EZ($,X.endPos,X.hadSpace,Y);if(K.endPos>=$.length||$[K.endPos]!==")")return null;return{target:X.target,title:K.title,endPos:K.endPos+1}}var d6;((X)=>{X[X.URI=0]="URI";X[X.EMAIL=1]="EMAIL";X[X.ANGLE=2]="ANGLE"})(d6||={});function Q9($){return $>=h1&&$<=p1||$>=r1&&$<=s1}function uZ($){let Z=$.indexOf(":");if(Z<2||Z>32)return!1;let J=N($);if(!Q9(J))return!1;for(let X=1;X<Z;X++){let G=$[X],Y=N(G);if(!D$(G)&&G!=="+"&&G!=="."&&G!=="-")return!1}return!0}function xZ($,Z,J){if(Z===0)return!0;return(J?` 	
\r*_~(`:` 	
*_~(`).indexOf($[Z-1])!==-1}function G$($,Z,J,X,G){let Y=X($,"a","href");if(!Y)return null;return{type:v.link,target:Y,children:[{type:v.text,text:Z}],endPos:J,...G!==void 0?{emailStart:G}:{}}}function f$($,Z,J,X,G){if(J.inAnchor||G!==2&&X.disableAutoLink)return null;if(G===2){if($[Z]!=="<")return null;let z=Z+1;while(z<$.length&&$[z]!==">"){let T=N($,z);if(T===C||T===d||T===i||T===Q0||T<C)return null;z++}if(z>=$.length||$[z]!==">")return null;let j=$.slice(Z+1,z);if(!j.length)return null;let q=j.indexOf("\\")!==-1,M=uZ(j),O=a(j,"http://")||a(j,"https://"),A=!1;if(!M&&!O&&j.length>=7){let T=j[0];if(T==="m"||T==="M"){let y=j.toLowerCase();if(a(y,"mailto:")){A=!0;let b=y.indexOf(":"),B=j.slice(b+1);return G$("mailto:"+B,j,z+1,X.sanitizer)}}}let E=!q&&j.indexOf("@")!==-1&&j.indexOf("//")===-1&&!M;if(!O&&!A&&!E&&!M)return null;let w=j,x=j;if(!A&&!M&&!O&&E)w="mailto:"+j;return G$(w,x,z+1,X.sanitizer)}if(G===1){let z=Z;while(z>0&&(D$($[z-1])||".+-_".indexOf($[z-1])!==-1))z--;if(z>=Z||!xZ($,z,!0))return null;let j=Z+1,q=!1;while(j<$.length){let A=$[j];if(A===".")q=!0,j++;else if(D$(A)||A==="-"||A==="_")j++;else break}if(!q||j<=Z+1)return null;while(j>Z+1&&$[j-1]===".")j--;if(j>Z+1&&($[j-1]==="-"||$[j-1]==="_"))return null;if(j-(Z+1)<1e4){if($.indexOf(".",Z+1)>=j||$.indexOf(".",Z+1)===-1)return null}else if($.slice(Z+1,j).indexOf(".")===-1)return null;let O=$.slice(z,j);return G$("mailto:"+O,O,j,X.sanitizer,z)}let Y=a($,"http://",Z)||a($,"https://",Z),K=!Y&&a($,"ftp://",Z),V=!Y&&!K&&a($,"www.",Z);if(!(Y||K||V)||!xZ($,Z,!1))return null;var U=Z+(Y?N($,Z+4)===HZ?8:7:K?6:4),Q=U;while(U<$.length){let z=N($,U);if(z===C||z===d||z===i||z===H9||z===k1)break;U++}if(U<=Q)return null;let H=U;while(H>Q){let z=$[H-1];if(H>Q+1&&$[H-2]==="\\")break;if(z==="?"||z==="!"||z==="."||z===","||z===":"||z==="*"||z==="_"||z==="~")H--;else if(z===";"){let j=H-2;while(j>=Q&&$[j]!=="&"&&$[j]!==" ")j--;if(j>=Q&&$[j]==="&"){let q=$.slice(j+1,H-1);if(q.length>=2&&q.length<=10&&/^[a-zA-Z0-9]+$/.test(q)&&(q==="lt"||q==="gt"||q.length>=3&&(a(q,"amp")||a(q,"apos")||a(q,"quot")||a(q,"nbsp")||/^[a-z]{3,10}$/.test(q))))break;H=j;break}H--}else if(z===")"){let j=0,q=0;for(let M=Q;M<H;M++){if($[M]==="(")j++;if($[M]===")")q++}if(q>j)H--;else break}else break}if(U=H,U<=Q)return null;var W=Q,_=-1,D=-1;while(W<U){let z=N($,W);if(z>=h1&&z<=p1||z>=r1&&z<=s1||z>=J9&&z<=X9||z===D1||z===$9||z===f9){if(z===f9)D=_,_=W;W++;continue}break}if(W===Q||_===-1)return null;if(D===-1)D=Q-1;for(let z=D+1;z<_;z++)if($[z]==="_")return null;for(let z=_+1;z<W;z++)if($[z]==="_")return null;let F=$.slice(Z,U);return G$(V?"http://"+F:F,F,U,X.sanitizer)}function g$($,Z,J,X,G){if(G==="<")return f$($,Z,J,X,2);if(G==="h"||G==="f"||G==="w")return f$($,Z,J,X,0);if(G==="@")return f$($,Z,J,X,1);return null}function lZ($){var Z=$.trim(),J=Z.replace(/[\s\t\n\r]+/g," ");if(J.indexOf("ẞ")!==-1)return J.replace(/\u1E9E/g,"ss").toLowerCase();return J.toLowerCase()}function i6($,Z,J){if(Z+3>=$.length||$[Z]!=="[")return null;let X=$[Z+1];if(X!==" "&&X!=="x"&&X!=="X")return null;if($[Z+2]!=="]")return null;return{type:v.gfmTask,completed:X.toLowerCase()==="x",endPos:Z+3}}function $Z($,Z,J,X){let{inline:G,inList:Y,inBlockQuote:K}=Z;if(X.inline!==void 0)Z.inline=X.inline;if(X.list!==void 0)Z.inList=X.list;if(X.inBlockQuote!==void 0)Z.inBlockQuote=X.inBlockQuote;let V=i9($,Z,J);return Z.inline=G,Z.inList=Y,Z.inBlockQuote=K,V}function l9($,Z,J,X,G){return v$(X,!0,()=>d1($,Z,J,X,G))}function d9($,Z,J,X){var G=$[Z];if(G===void 0)return null;var Y=Z,K=null,V=G,U=null,Q=N(G),H=Q===C||Q===d;if(H){if(U=I($,Z),K=e($,Z,U),Y=Z+K.charCount,Y>=$.length)return U$($,Z,J);V=$[Y]}var W=K?K.spaceEquivalent:0;if(W>=4){if(H)return U$($,Z,J);return null}var _=N(V);if(_===k1){var D=iZ($,Z,J,X);if(D)return D}else if(_===$9)return H$($,Z,J,X);else if(_===D1||_===E9||_===WZ){var F=H$($,Z,J,X);if(F)return F;var z=n$($,Z,J,X);if(z)return z}else if(_>=J9&&_<=X9){var z=n$($,Z,J,X);if(z)return z}else if(_===S9)return c6($,Y,J,X);else if(_===C1)return w9($,Y,J,X,Y+1<$.length&&N($,Y+1)===j9);else if(_===H9&&!X.disableParsingRawHTML)return A$($,Y,J,X);else if(_===e0||_===e1){if(!U)U=I($,Z);if(!K)K=e($,Z,U);if(K.spaceEquivalent<=3)return ZZ($,Y,J,X)}else if(_===MZ)return oZ($,Z,J,X);if(H)return U$($,Z,J);return null}function i9($,Z,J){let X=[],G=0;while(G<$.length){while(G<$.length&&$[G]===`
`)G++;if(G>=$.length)break;var Y=$[G];if(Z.inList&&X.length>0){var K=X[X.length-1];if(K?.type===v.paragraph){var V=K,U=N(Y);if(U===D1||U===i1||U===C||U===d){var Q=I($,G),H=$.slice(G,Q),W=e($,G,Q);if(W.spaceEquivalent<4){var _=H.slice(W.charCount).trim();if(sZ(X,_,J)){G=Q+(Q<$.length&&$[Q]===`
`?1:0);continue}}}}}var D=d9($,G,Z,J);if(D){X.push(D),G=D.endPos;continue}var F=dZ($,G,Z,J);if(F){X.push(F),G=F.endPos;continue}var z=$.slice(G).trim();if(z){if(Z.inBlockQuote&&X.length>0){let O=function(A){if(A.type===v.blockQuote){var E=A;if(E.children&&E.children.length>0){var w=E.children[E.children.length-1];if(w.type===v.paragraph)return w}}else if(A.type===v.orderedList||A.type===v.unorderedList){var x=A;if(x.items&&x.items.length>0){var T=x.items[x.items.length-1];if(T&&T.length>0){var y=T[T.length-1],b=O(y);if(b)return b}}}return null};for(var j=X.length-1;j>=0;j--){var V=O(X[j]);if(V){var M=r$($,G,Z,J);if(M){var q=M;if(V.children&&q.children)V.children.push({type:v.text,text:`
`},...q.children);G=M.endPos;continue}}}}var M=r$($,G,Z,J);if(M){X.push(M),G=M.endPos;continue}}G++}return X}function c6($,Z,J,X){if(J.inline)return null;let G=I($,Z),Y=e($,Z,G,3);if(Y.spaceEquivalent>3&&!J.inList)return null;var K=Z+Y.charCount;if(K>=$.length||$[K]!=="#")return null;let V=A9($,K,"#",6);if(K+=V,K>=$.length)return null;let U=$[K];if(U===`
`||U==="\r"){let D=I($,K);return{...q$(V,[],"",X.slugify),endPos:D+(D<$.length?1:0)}}if(U!==" "&&U!=="\t")return null;let Q=K,H=I($,Q);var W=$.slice(Q,H).replace(R6,"").trim();let _=l9(W,0,W.length,J,X);return{...q$(V,_,W,X.slugify),endPos:H+(H<$.length?1:0)}}function dZ($,Z,J,X){if(J.inline||J.inBlockQuote||J.inList)return null;let G=I($,Z);if(G>=$.length)return null;let Y=k($,G),K=-1,V=null;for(var U=0;Y<$.length&&U<10;U++){let b=I($,Y);if(b>=$.length)break;var Q=Y;while(Q<b&&(N($,Q)===C||N($,Q)===d||N($,Q)===Q0))Q++;if(Q>=b)break;var H=0,W=Y;while(W<b&&H<3&&N($,W)===C)H++,W++;if(W<b){let B=N($,W);if(B===i1||B===D1){let L=$[W];var _=0,D=!1,F=W;while(F<b){let f=N($,F);if(f===B){if(D){_=0;break}_++}else if(f===C||f===d)D=!0;else{_=0;break}F++}if(_>=1){K=b,V=L;break}}}Y=k($,b)}if(!V)return null;let z=N($,Z);if(z===S9||z===k1||$[Z]==="|")return null;let j=Z;var q=Z,M=!1;while(q<Y){let b=I($,q);if(b>=Y)break;var O=q;while(O<b&&(N($,O)===C||N($,O)===d||N($,O)===Q0))O++;if(O<b)M=!0,j=b;q=k($,b)}if(!M)return null;let A=$.slice(Z,j);var E=0,w=A.length;while(E<w&&(A.charCodeAt(E)===C||A.charCodeAt(E)===d||A.charCodeAt(E)===Q0||A.charCodeAt(E)===i))E++;while(w>E&&(A.charCodeAt(w-1)===C||A.charCodeAt(w-1)===d||A.charCodeAt(w-1)===Q0||A.charCodeAt(w-1)===i))w--;let x=A.slice(E,w);if(!x)return null;let T=V==="="?1:2,y=l9(x,0,x.length,J,X);return{...q$(T,y,x,X.slugify),endPos:K+(K<$.length?1:0)}}function r$($,Z,J,X){if(J.inline)return null;if(X.optimizeForStreaming&&$[Z]==="|"){var G=Math.min(500,$.length-Z),Y=$.substr(Z,G),K=0,V=!1;for(var U=0;U<Y.length;U++){if(Y[U]==="|")K++;if(Y[U]==="-"||Y[U]===":")V=!0}if(K>=3&&V){var Q=I($,Z);while(Q<$.length){var H=k($,Q);if(H>=$.length)break;var W=I($,H),_=$.slice(H,W);if(_.indexOf("|")===-1&&_.indexOf("-")===-1)break;if(Q=W,W>=$.length)break}return{type:v.paragraph,children:[],endPos:k($,Q)}}}let D=Z,F=$.length;while(D<F){let s=I($,D),U0=!0;for(let Z0=D;Z0<s;Z0++){let o=N($,Z0);if(o!==C&&o!==d&&o!==Q0){U0=!1;break}}if(U0){D=s;break}if(s>=F){D=F;break}let y0=k($,s);if(y0>=F){D=F;break}let h0=I($,y0),F0=!0,D0="";for(let Z0=y0;Z0<h0;Z0++){let o=N($,Z0);if(o!==C&&o!==d&&o!==Q0){if(F0=!1,D0==="")D0=$[Z0];break}}if(F0){D=s;break}let $0=!1,d0=e($,y0,h0),G0=d0.spaceEquivalent===4&&d0.charCount===4;if(D0==="<"&&!G0&&!X.disableParsingRawHTML){let o=y0,s0=0;while(o<h0&&s0<3){let Z1=N($,o);if(Z1===C||Z1===d)s0++,o++;else break}if(o<h0&&$[o]==="<"){var z=A$($,o,{...J,inline:!1},X);if(z)$0=!("canInterruptParagraph"in z)||z.canInterruptParagraph}}if(G0)$0=!1;else if(!$0&&D0&&u9(D0))if(D0==="["){let Z0=y0;if(Z0+1>=F||$[Z0+1]!=="^")$0=!1;else $0=!0}else if(D0==="*"||D0==="+")if(H$($,y0,J,X))$0=!0;else{let o=y0+1<F?$[y0+1]:"";if(o&&H1(o))$0=!0;else $0=!1}else{let Z0=d9($,y0,J,X);if(Z0)if(Z0.type===v.codeBlock)if(e($,y0,h0).spaceEquivalent>=4)$0=!1;else $0=!0;else if(Z0.type===v.unorderedList||Z0.type===v.orderedList)if(Z0.type===v.orderedList)$0=Z0.start===1;else $0=!0;else if(D0==="-")if(D>Z)$0=!0;else $0=!0;else if(Z0.type===v.ref)$0=!1;else $0=!0}if($0){D=s;break}D=k($,s)}if(D<=Z)return null;var j=Z,q=D;while(j<q){let s=N($,j);if(s===C||s===d)j++;else break}let M=I($,j);var O=q>M,A;if(!O)A=$.slice(j,q);else{var E=[],w=j,x=0;while(w<q){var T=I($,w);if(T>q)T=q;if(x===0)E.push($.slice(w,T));else{var y=0;while(y<4&&w+y<T)if(N($,w+y)===C)y++;else break;var b=y===4?w+4:w;E.push($.slice(b,T))}if(T<q){let s=N($,T);if(s===Q0||s===i)E.push(`
`),w=k($,T);else w=q}else w=q;x++}A=E.join("")}var B=A.length;while(B>0){var L=A.charCodeAt(B-1);if(L===C||L===d)B--;else break}if(B<A.length)A=A.slice(0,B);let f=!1;for(let s=0;s<A.length;s++){let U0=A.charCodeAt(s);if(U0!==C&&U0!==d&&U0!==i&&U0!==Q0){f=!0;break}}if(!f)return null;var S=A,P=D,g=-1,p=D-1;while(p>=j){if(N($,p)===i){g=p;break}p--}if(g>=0){var R=!1;for(var r=j;r<g;r++){let s=N($,r);if(s!==C&&s!==d&&s!==i&&s!==Q0){R=!0;break}}if(!R){var c=g+1;while(c<$.length){let s=N($,c);if(s===C||s===d)c++;else break}var H0=c-(g+1);if(H0<4&&c<$.length&&$[c]==="["){var w0={...J,inline:!1},z0=w9($,c,w0,X,!1);if(z0){var S0=0,p=j;while(p<=g){let U0=$.indexOf(`
`,p);if(U0===-1||U0>g)break;S0++,p=U0+1}var u=0,U1=0;p=0;while(p<A.length){let U0=A.indexOf(`
`,p);if(U0===-1)break;if(U1++,U1===S0){u=U0+1;break}p=U0+1}if(u>0)S=A.slice(0,u-1);P=z0.endPos,J.refs=w0.refs}}}}let Y0=l9(S,0,S.length,J,X);var I0={type:v.paragraph,children:Y0,endPos:P};if(Y0.length>0){var v0=[];for(var _0=Y0.length-1;_0>=0;_0--){var r0=Y0[_0];if(r0.type===v.htmlSelfClosing&&r0.isClosingTag===!0)v0.push(_0);else if(r0.type===v.text){var f0=r0;if(f0.text&&f0.text.trim().length>0)break}else break}if(v0.length>=3){var m0=v0[v0.length-1],w1=Y0.slice(m0+1);Y0.splice(m0+1),I0.removedClosingTags=w1}}return I0}function a6($,Z){if(Z!==0)return null;let J=T$($);if(!J?.hasValidYaml)return null;let X=J.endPos-1;if(X>0&&$[X-1]==="\r")X--;let G=u1($.slice(0,X));return{type:v.frontmatter,text:G,endPos:J.endPos}}function H$($,Z,J,X){let G=I($,Z),Y=e($,Z,G,3);if(Y.spaceEquivalent>3)return null;var K=Z+Y.charCount;if(K>=G)return null;let V=$[K];if(V!=="-"&&V!=="*"&&V!=="_")return null;var U=0,Q=K;while(Q<G){var H=$[Q];if(H===V)U++;else if(H!==" "&&H!=="\t")return null;Q++}if(U<3)return null;return{type:v.breakThematic,endPos:k($,G)}}function e($,Z,J,X){let G=0,Y=0,K=Z;while(K<J){var V=N($,K);if(V!==C&&V!==d)break;if(X!==void 0&&G>=X)break;if(V===d)G+=4-G%4;else G+=1;Y++,K++}return{spaceEquivalent:G,charCount:Y}}function PZ($,Z,J,X){let G=0,Y=0,K=X;for(let W=Z;W<J&&Y<4;W++){var V=N($,W);if(V===d){let _=4-K%4;if(Y+=_,G++,K+=_,Y>=4)break}else if(V===C){if(Y++,G++,K++,Y>=4)break}else break}let U=$.slice(Z+G,J);var Q=0;for(var H=Z;H<J;H++){if($[H]==="\t")Q++;if(Q>=2)break}if(Q>=2&&a(U,"\t")&&X>0)U="  "+U.slice(1);return U}function U$($,Z,J){let X=I($,Z),G=e($,Z,X);if(G.spaceEquivalent<4)return null;let Y=G.spaceEquivalent,K=I($,Z+G.charCount),V=Z,U=0;var Q=V-1;while(Q>=0&&$[Q]!==`
`&&$[Q]!=="\r")Q--;Q++;while(Q<V){if($[Q]==="\t")U=U+4-U%4;else U++;Q++}let H=PZ($,V,K,U),W=k($,K);if(W>=$.length){if(!H.trim())return null;return{type:v.codeBlock,text:H,endPos:W}}var _=[];_.push(H);let D=W;while(D<$.length){let z=I($,D);if(B1($,D,z)){let j=z+1;if(j<$.length){let q=I($,j),M=e($,j,q),O=$[j+M.charCount];if(O&&O!==`
`&&(M.spaceEquivalent<4||O===">"&&M.spaceEquivalent<Y))break}_.push(`
`)}else{if(e($,D,z).spaceEquivalent<4)break;let q=PZ($,D,z,0);_.push(`
`),_.push(q)}D=k($,z)}let F=_.join("");if(F=F.replace(x6,""),!F.trim())return null;return{type:v.codeBlock,text:F,endPos:D}}function ZZ($,Z,J,X){let G=$[Z];if(G!=="`"&&G!=="~")return null;let Y=A9($,Z,G);if(Y<3)return null;let K=Z;while(K>0&&N($,K-1)!==i)K--;let V=e($,K,Z),U=V.spaceEquivalent,Q=U;if(U===4&&V.charCount===4)U=0,Q=4;if(U>=4)return null;let H=C0($,Z+Y),W=I($,H),_=$.slice(H,W).trim();if(G==="`"&&_.indexOf("`")!==-1)return null;_=_.replace(u$,"$1");let D=_.indexOf(" "),F=D>0?_.slice(0,D):_,z=D>0?_.slice(D+1).trim():"",j=z&&/=\s*["']/.test(z)?l1(z,"code","code",X):void 0,q=k($,W),M=q,O=!1;while(M<$.length){let x=I($,M),T=M,y=0;while(T<x){let b=N($,T);if(b===C){if(y++,T++,y>=4)break}else if(b===d){if(y+=4-y%4,T++,y>=4)break}else break}if(y<4){let b=A9($,T,G,x-T);if(b>=Y){let B=T+b;while(B<x){let L=N($,B);if(L===C||L===d)B++;else break}if(B===x){O=!0;break}if(b>=3&&B<x){let L=T+b;if(!(L<x&&(N($,L)===C||N($,L)===d))){let S=!0;if(G==="`"){if($.slice(L,x).indexOf("`")!==-1)S=!1}if(S)break}}}}else if(Q===4&&U===0&&y===4){let b=A9($,T,G,x-T);if(b>=Y&&B1($,T+b,x)){O=!0;break}}M=k($,x)}let A=M>q&&$[M-1]===`
`?M-1:M;if(A>q&&$[A-1]==="\r")A--;let E=u1($.slice(q,A));if(Q)E=s$(E,Q);let w=O&&M<$.length?k($,I($,M)):M;return{type:v.codeBlock,text:E,lang:F,attrs:j,endPos:w}}function r6($,Z,J){for(var X=0;X<$.length;X++)if(!i$($[X])){let Y=$Z($,Z,J,{inline:!1,inBlockQuote:!0});for(var G=0;G<Y.length;G++){let K=Y[G];if("endPos"in K)delete K.endPos}return Y}return[]}function iZ($,Z,J,X){if(J.inline)return null;let G=Z;while(G<$.length&&($[G]===" "||$[G]==="\t"))G++;if(G>=$.length||$[G]!==">")return null;let Y=Z;var K=[],V=void 0,U=!1,Q=-1,H=!1,W=null,_=null,D=0,F=!1;while(Y<$.length){let w=I($,Y),x=Y;while(x<w&&($[x]===" "||$[x]==="\t"))x++;if(x<w&&$[x]===">"){let T=x+1;if(T<w&&$[T]===" ")T++;let b=e($,T,w).spaceEquivalent>=4,B=!1,L=null,f=0;if(T<w){let P=$[T];if(P==="`"||P==="~"){let g=0,p=T;while(p<w&&$[p]===P&&g<20)g++,p++;if(g>=3)B=!0,L=P,f=g}}if(H&&W==="fenced"&&L===_&&f>=D)H=!1,W=null,_=null,D=0;else if(b||B)H=!0,W=b?"indented":"fenced",_=L,D=f;var z=!b&&!B;if(z){for(var j=T;j<w;j++)if(!i$($[j])){z=!1;break}}if(F=z,Q===-1&&!z)Q=K.length;if(!z)U=!0;let S=x+1;if(S<w&&$[S]==="\t"){K.push("  ");let P=4;for(let g=S+1;g<w;g++){let p=$[g];var q=N(p);if(q===d){let R=4-P%4;if(R===1)K.push(" ");else if(R===2)K.push("  ");else if(R===3)K.push("   ");else K.push(" ".repeat(R));P+=R}else K.push(p),P++}if(w<$.length)K.push(`
`)}else{let P=S;if(P<w&&$[P]===" ")P++;if(K.push($.slice(P,w)),w<$.length)K.push(`
`)}}else{var M=!0;for(var j=Y;j<w;j++)if(!i$($[j])){M=!1;break}if(M||H)break;if(e($,Y,w).spaceEquivalent===0){let y=d9($,Y,J,X);if(y&&y.type!==v.ref&&y.type!==v.codeBlock)break;if(F)break}if(K.push($.slice(Y,w)),w<$.length)K.push(`
`)}Y=k($,w)}if(Y===Z)return null;if(K.length>0&&K[K.length-1]===`
`)K.pop();let O=K.join("");if(O.length>=4&&O.charCodeAt(0)===C1&&O.charCodeAt(1)===O9){let w=O.indexOf(`]
`,2);if(w>2)V=O.slice(2,w),O=O.slice(w+2)}let A=r6(O,J,X),E={type:v.blockQuote,children:A,endPos:Y};if(V)E.alert=V;return E}function s$($,Z){return $.split(`
`).map(function(J){if(J.length===0)return J;let X=Z,G=0,Y=0,K=0;while(Y<J.length&&G<X)if(J[Y]===" ")G++,K++,Y++;else if(J[Y]==="\t"){let V=4-K%4;if(G+V<=X)G+=V,K+=V,Y++;else{let U=X-G,Q=Math.max(0,V-U);return" ".repeat(Q)+J.slice(Y+1)}}else break;return J.slice(Y)}).join(`
`)}function Q$($,Z,J,X,G=!0){let Y=(G?`
`:"")+$,K=l9(Y,0,Y.length,J,X);if(Z.length>0&&Z[Z.length-1].type===v.paragraph)Z[Z.length-1].children.push(...K);else Z.push(...K)}function m9($){return $.some(function(Z){return Z.type===v.codeBlock||Z.type===v.paragraph||Z.type===v.blockQuote||Z.type===v.orderedList||Z.type===v.unorderedList||Z.type===v.heading})}function C$($){return!!$.match(t$)}function cZ($){if($.length===0)return $;var Z=$[$.length-1];if((Z.type===v.orderedList||Z.type===v.unorderedList)&&Z.items?.length>0)return cZ(Z.items.slice(-1)[0]);return $}function o$($,Z,J,X,G,Y,K){if(!a(G,"["))return null;var V={inline:!1,list:!1,refs:Y.refs||{}},U=w9($,Z+X.charCount,V,K,!1);return U?U.endPos:null}function IZ($,Z,J,X){if($.length!==1||!J)return!1;if($[0].length!==0)return!1;if(Z)return!0;if(!Z&&X.trim()==="")return!0;return!1}function fZ($,Z){var J=$.index||0;return Z?J+$[1].length+$[2].length+1:J+$[1].length+1}function F$($,Z,J,X,G){var Y=0,K=X+G,V=Z;while(V<J&&Y<4){var U=N($,V);if(U===C)Y++,K++;else if(U===d){var Q=4-K%4;if(Y+Q>4)break;Y+=Q,K+=Q}else break;V++}return{contentStartColumn:K,contentStartPos:V}}function k$($){var Z=$.match(t$);if(!Z)return null;if(Z[1])return{match:[$,Z[1],Z[2],Z[3]],ordered:!0,listItemRegex:l$};if(Z[4])return{match:[$,Z[4],Z[5],""],ordered:!0,listItemRegex:l$};if(Z[6])return{match:[$,Z[6],Z[7]],ordered:!1,listItemRegex:d$};if(Z[8])return{match:[$,Z[8],""],ordered:!1,listItemRegex:d$};return null}function n1($,Z,J,X,G,Y,K){if(Z.spaceEquivalent!==Y)return!1;var V=$.match(K);if(V)return J?V[2]===G:V[1]===X;var U=$.match(t$);if(!U)return!1;if(J)return U[4]&&U[5]===G;else return U[8]===X}function aZ($,Z,J,X){var G=Z,Y=J,K=Z[0];while(Y<$.length){var V=I($,Y),U=$.slice(Y,V),Q=a(U," ".repeat(X))?U.slice(X):U;if(a(Q.trim(),K)&&A9(Q.trim(),0,K)>=3)return{content:G,endPos:k($,V)};G+=`
`+Q,Y=k($,V)}return{content:G,endPos:Y}}function Y$($,Z,J,X,G,Y,K,V,U,Q,H,W,_){var D=Q?void 0:U[1],F=Q?U[2]:void 0,z=Q?l$:d$,j=H;if(!H){var q=k($,Y),M=q;while(M<$.length){var O=I($,M),A=$.slice(M,O),E=e($,M,O),w=E.spaceEquivalent;if(B1($,M,O)){var x=k($,O);if(x<$.length){var T=I($,x),y=e($,x,T),b=y.spaceEquivalent,f=fZ(U,Q),S=G+V+f,P=F$($,S,Y,K,f),g=P.contentStartColumn;if(b+1>g){j=!0;break}}break}else if(w<=K){var B=A.slice(E.charCount),L=B.match(z);if(L&&(Q?L[2]===F:L[1]===D))break}M=k($,O)}}var f=fZ(U,Q),S=G+V+f,P=F$($,S,Y,K,f),g=P.contentStartColumn,p=X,R=k($,Y);if(a(X,"```")||a(X,"~~~")){var r=Q?U[1].length+U[2].length+1:U[1].length+1,c=aZ($,X,R,r);p=c.content,R=c.endPos}return Z.push(rZ(p,j,W,_)),J.push(g),{newCurrentPos:R,itemHasBlankLine:j}}function gZ($,Z,J,X,G,Y){if(G>X||Y.disableParsingRawHTML)return!1;let K=Z+J;if(K>=$.length||$[K]!=="<")return!1;return s6($,K)}function s6($,Z){if(Z>=$.length||$[Z]!=="<")return!1;let J=$.length,X=Z+1;if(X<J&&$[X]==="/")X++;if(X>=J)return!1;let G=N($,X);if(!Q9(G))return!1;X++;while(X<J){let K=$[X],V=N($,X);if(K===">"||K===" "||K==="\t"||K===`
`||K==="\r"||K==="/")break;if(K==="-"||K==="_"||Q9(V)||V>=48&&V<=57)X++;else return!1}let Y=0;while(X<J){let K=$[X],V=N($,X);if(Y===1){if(K==='"')Y=0;X++}else if(Y===2){if(K==="'")Y=0;X++}else if(K==='"')Y=1,X++;else if(K==="'")Y=2,X++;else if(K===">")return!0;else if(K==="/"&&X+1<J&&$[X+1]===">")return!0;else if(V===10||V===13)return!1;else X++}return!1}function CZ($,Z,J,X,G,Y,K,V,U,Q,H,W){let _=X,D=!1;while(_<$.length){let F=I($,_),z=e($,_,F),j=z.spaceEquivalent;if(B1($,_,F)){D=!0,_=k($,F);continue}let q=$.slice(_+z.charCount,F);if(j<=G&&n1(q,z,Y,K,V,G,U))break;if(j>=J){if(W&&D){let O=o$($,_,F,z,q,Q,H);if(O){_=O,D=!1;continue}}let M=V$($,_,F,z,J-1,J,Z,D,Q,H,void 0,G);if(M.processed){_=M.newPos,D=M.wasBlank;continue}}else break}return _}function kZ($,Z,J,X){let G=$Z($,J,X,{inline:!1,list:!0});if(G.length>0)return!Z&&G.length===1&&G[0].type===v.paragraph?G[0].children:G;let Y=v$(J,!0,()=>d1($,0,$.length,J,X));return Z&&Y.length>0?[{type:v.paragraph,children:Y}]:Y}function rZ($,Z,J,X){let G=i6($,0,J);if(!(G&&(G.endPos>=$.length||$[G.endPos]===" ")))return kZ($,Z,J,X);let K=G.endPos<$.length?G.endPos+1:G.endPos,V=$.slice(K),U=kZ(V,Z,J,X),Q=[G];if(G.endPos<$.length)Q.push({type:v.text,text:" "});return Q.push(...U),Q}function mZ($,Z){if(!$[0])return!1;let J=$[0].indexOf(Z);if(J===-1)return!1;let X=J+Z.length;if(X>=$[0].length)return!1;let G=$[0][X];return G?N(G)===FZ:!1}function sZ($,Z,J){if($.length===0)return!1;let X=$[$.length-1],G=Z.trim();if(!a(G,"=")&&!a(G,"-")||G.length<1||!/^[=-]+[ \t]*$/.test(G))return!1;let Y=[],K="";if(X.type===v.paragraph){let Q=X;Y=Q.children,K=Q.children.map((H)=>H.type===v.text?H.text:"").join("").trim()}else if(X.type===v.text){let Q=[],H=$.length-1;while(H>=0&&$[H].type===v.text)Q.unshift($[H]),H--;if(Q.length>0)Y=Q,K=Q.map((W)=>W.text).join("").trim()}if(!K)return!1;let U=G[0]==="="?1:2;if(X.type===v.paragraph)$.pop();else if(X.type===v.text)while($.length>0&&$[$.length-1].type===v.text)$.pop();return $.push(q$(U,Y,K,J.slugify)),!0}function V$($,Z,J,X,G,Y,K,V,U,Q,H,W){let _=X.spaceEquivalent,D=$.slice(Z+X.charCount,J);if(_>=G+4){let q=U$($,Z,U);if(q){let M=q,O=s$(M.text||"",Y);return K.push({...M,text:O}),{processed:!0,newPos:M.endPos,wasBlank:!1}}}let F=_-(Y-1);if(_+1>=Y&&F<=3){let q=Z+X.charCount;if(q<J){let M=$[q];if(M==="`"||M==="~"){let O=ZZ($,q,U,Q);if(O){let A=O,E=s$(A.text||"",Y-1);return K.push({...A,text:E,endPos:A.endPos}),{processed:!0,newPos:A.endPos,wasBlank:!1}}}if(M==="|"){let O=oZ($,q,U,Q);if(O){let A=O;return K.push(A),{processed:!0,newPos:A.endPos,wasBlank:!1}}}}}if(D.length>0&&(D[0]==="-"||D[0]==="*"||D[0]==="+"||D[0]>="0"&&D[0]<="9")){if(/^([-*+]|\d{1,9}[.)])\s+/.test(D)){let M=l9(D,0,D.length,U,Q);return K.push({type:v.text,text:`
`},...M),{processed:!0,newPos:k($,J),wasBlank:!1}}}let z=b6($,Z,K,D,U,Q);if(z!==null)return{processed:!0,newPos:z,wasBlank:!1};let j=$Z(D,U,Q,{inline:!1,list:!0});if(j.length>0){if(H&&j[0].type===v.paragraph){let q=j[0];if(K.push({type:v.text,text:`
`},...q.children),j.length>1)K.push(...j.slice(1))}else if(!V&&j[0].type===v.paragraph&&K.length>0){let q=K[K.length-1],M=j[0];if(q.type===v.paragraph)q.children.push({type:v.text,text:`
`},...M.children);else if(q.type===v.heading)K.push(...M.children);else if(!m9(K))K.push({type:v.text,text:" "},...M.children);else K.push(...j);if(j.length>1)K.push(...j.slice(1))}else K.push(...j);return{processed:!0,newPos:k($,J),wasBlank:!1}}if(V){let q=v$(U,!0,()=>d1(D,0,D.length,U,Q));K.push({type:v.paragraph,children:q})}else Q$(D,K,U,Q);return{processed:!0,newPos:k($,J),wasBlank:!1}}function n$($,Z,J,X){if(J.inline)return null;var G=J.inList;if(J.inList=!0,Z>0){var Y=N($,Z-1);if(Y!==i&&Y!==Q0)return J.inList=G,null}var K=I($,Z),V=e($,Z,K);if(V.spaceEquivalent>3&&!J.inList)return J.inList=G,null;var U=$.slice(Z,K),Q=V.charCount,H=U.slice(Q),W=k$(H);if(!W)return J.inList=G,null;var{match:_,ordered:D,listItemRegex:F}=W,z=V.spaceEquivalent,j=D?parseInt(_[1],10):void 0,q=D?_[2]:void 0,M=D?void 0:_[1],O=D?_[3]==="":_[2]==="";function A(t,E0){if(t===0)return!0;var R0=N($,t-1);if(R0!==i)return!1;if(!E0)return!0;var V0=t-2;while(V0>=0){var l=N($,V0);if(l!==C&&l!==d)break;V0--}return V0<0||N($,V0)===i}if(O&&!A(Z,!0))return J.inList=G,null;if(D&&j!==1&&!A(Z,!1))return null;if(!D&&mZ(_,M))return null;var E=_.index||0,w=D?E+_[1].length+_[2].length+1:O?E+_[1].length:E+_[1].length+1,x=Z+Q+w,T=F$($,x,K,z,w),y=T.contentStartColumn,b=z+E+_[1].length,B=D?b+_[2].length+1:O?b:b+1,L=[],f=[];function S(t,E0,R0){return R0?t>=E0:t>E0}function P(){return L[L.length-1]}function g(){return f[f.length-1]??y}function p(t,E0){let R0=cZ(E0),V0=J.inList;J.inList=!0;let l=n$($,t,J,X);if(J.inList=V0,l)return R0.push(l),l;return null}var R=k($,K),r=R,c=!1;while(r<$.length){var H0=I($,r),w0=$.slice(r,H0);if(w0.trim()===""){var z0=k($,H0);while(z0<$.length){var S0=N($,z0);if(S0===i);else if(!m6.has($[z0]))break;z0++}var u=I($,z0),U1=$.slice(z0,u),Y0=e($,z0,u),I0=U1.slice(Y0.charCount);if(n1(I0,Y0,D,M,q,z,F))c=!0;else{var v0=o$($,z0,u,Y0,I0,J,X);if(v0){var _0=v0;while(_0<$.length&&N($,_0)===i)_0++;if(_0<$.length){var r0=I($,_0),f0=$.slice(_0,r0),m0=e($,_0,r0),w1=f0.slice(m0.charCount);if(n1(w1,m0,D,M,q,z,F))c=!0}}}break}var s=e($,r,H0),U0=w0.slice(s.charCount),y0=k$(U0);if(!y0)break;var h0=y0.match;if(D){if(h0[2]!==q)break}else if(h0[1]!==M)break;r=k($,H0)}var F0=D?_[3]:_[2];F0=F0.trimStart();var D0=Z+Q+(_.index||0),$0=D?D0+_[1].length+_[2].length:D0+_[1].length,d0=$0;while(d0<$.length){var S0=N($,d0);if(S0!==C&&S0!==d)break;d0++}var G0=0,Z0=$0;while(Z0<K){var S0=N($,Z0);if(S0===d)G0+=4-G0%4;else if(S0===C)G0++;else break;Z0++}var o=!1;if($0<$.length&&N($,$0)===d){var s0=1,Z1=$0+1;while(Z1<$.length&&N($,Z1)===d)s0++,Z1++;if(s0>=2)F0="      "+F0,o=!0}if(!D)O=O&&G0===0;if(G0>=4&&!o)F0=" ".repeat(G0-1)+F0.trimStart();var Q1=F0.trim()==="";let F1=c;if(!c&&R<$.length){var V1=R;while(V1<$.length){var y1=I($,V1),O0=$.slice(V1,y1);if(B1($,V1,y1)){var o0=k($,y1);while(o0<$.length){var O1=I($,o0);if(B1($,o0,O1))o0=k($,O1);else break}if(o0<$.length){var I1=e($,o0,$.length),_1=I1.spaceEquivalent;if(_1>=z){var p0=$.slice(o0,I($,o0)),z1=p0.slice(I1.charCount).match(F),N1=z1&&(D?z1[2]===q:z1[1]===M),W1=null;for(var n=R;n<V1;n=I($,n)+1){var J1=I($,n),q1=e($,n,J1),n0=$.slice(n,J1).slice(q1.charCount).match(F),_9=n0&&q1.spaceEquivalent>z&&q1.spaceEquivalent>=y&&(D?n0[2]===q:n0[1]===M);if(_9){var b1=q1.spaceEquivalent+1,R1=D?b1+n0[1].length+n0[2].length+1:b1+n0[1].length+1,z9=n+q1.charCount+n0[0].length,y9=F$($,z9,J1,b1,R1-b1);W1=y9.contentStartColumn;break}}var q9=G0>=5?B:y;if(!N1&&_1>=q9&&(W1===null||_1+1<W1))F1=!0}}break}var M1=e($,V1,y1),f1=M1.spaceEquivalent,L1=O0.slice(M1.charCount),T1=L1.match(F),A0=T1&&(D?T1[2]===q:T1[1]===M);if(A0){if(f1<=z)break}V1=k($,y1)}}var N0=F0;if(a(F0,"```")||a(F0,"~~~")){var u0=D?_[1].length+_[2].length+1:_[1].length+1,S1=aZ($,F0,R,u0);N0=S1.content,R=S1.endPos}var l0=!O&&F0.trim()===""&&G0>0&&G0<5;if(!F1){var g0=N0.length>0?N0[0]:"",Y1=g0===">",Z=R;while(Z<$.length){var K=I($,Z),U=$.slice(Z,K);if(U.trim()==="")break;var V=e($,Z,K);if(V.spaceEquivalent<B)break;var H=U.slice(V.charCount);if(V.spaceEquivalent<=z&&n1(H,V,D,M,q,z,F))break;if(C$(H)&&V.spaceEquivalent>z)break;var b0=H.length>0?H[0]:"",t1=b0===">"&&Y1;if(b0===">"&&!t1||b0==="#"||a(H,"```")||a(H,"~~~"))break;N0+=`
`+H,R=Z=k($,K)}}if(L.push(rZ(N0,F1,J,X)),f.push(y),F1&&(G0>=5||l0)){let t=P();R=CZ($,t,B,R,z,D,M,q,F,J,X,!0)}else if(!F1){let t=B-1;while(R<$.length){let E0=I($,R),R0=$.slice(R,E0),V0=e($,R,E0),l=V0.spaceEquivalent,q0=R0.slice(V0.charCount);if(R0.trim()===""||l<=z&&n1(q0,V0,D,M,q,z,F)||C$(q0)&&l>z||l<t)break;let t0=P(),x0=V$($,R,E0,V0,t,y,t0,!1,J,X,!0,z);if(x0.processed)R=x0.newPos;else break}}var J0=!1;while(R<$.length){let t=I($,R),E0=$.slice(R,t),R0=e($,R,t),V0=R0.charCount,l=R0.spaceEquivalent;if(E0.trim()==="")c=!0,J0=!0,R=k($,t);else if(l<z){let q0=E0.slice(V0);if(q0.startsWith("<")&&gZ($,R,V0,z,l,X))break;let t0=q0.trim();if(t0.length>0&&L.length>0&&!u9(t0[0])&&!n1(q0,R0,D,M,q,z,F)){let x0=P();if(x0.length>0){let K0=x0[x0.length-1];if(!J0&&(K0.type===v.paragraph||K0.type===v.text)){Q$(q0,x0,J,X),J0=!1,R=k($,t);continue}}}break}else{let q0=E0.slice(V0);if(L.length>0){let m=f[L.length-1]||y;if(l+1>=m&&!n1(q0,R0,D,M,q,z,F)){let k0=P();if(k0.length>0&&sZ(k0,q0,X)){R=k($,t);continue}}}if(H$($,R,J,X))break;if(J0){let m=o$($,R,t,R0,q0,J,X);if(m){R=m,J0=!1;continue}}if(l<=z){if(q0.startsWith("<")&&gZ($,R,V0,z,l,X))break;if(!n1(q0,R0,D,M,q,z,F)){if(l===z&&!J0){let m=q0.trim();if(m.length>0&&!u9(m[0])){let k0=d9($,R,J,X);if(k0&&k0.type!==v.paragraph)break;let L0=P();if(L0.length>0&&!m9(L0)){Q$(q0,L0,J,X,!0),J0=!1,R=k($,t);continue}}}break}}if(IZ(L,O,J0,F0))break;let x0=k$(q0),K0=x0?x0.match:null,A1=K0&&(D?K0[2]===q:K0[1]===M);if(A1&&l>3&&J0)break;if(A1&&l<=z+3){if(l>=4&&J0)break;if(l===z){let m=D?K0[3]:K0[2];if(m=m.trimStart(),R=Y$($,L,f,m,R,t,l,V0,K0,D,c,J,X).newCurrentPos,J0=!1,m.trim()===""){let L0=L[L.length-1],W0=g();R=CZ($,L0,W0,R,z,D,M,q,F,J,X)}continue}if(l>z){if(J0){let W0=D?K0[3]:K0[2];W0=W0.trimStart(),R=Y$($,L,f,W0,R,t,l,V0,K0,D,c,J,X).newCurrentPos,J0=!1;continue}let m=P(),k0=l+1,L0=S(k0,g(),m9(m));if(L0){let W0=p(R,m);if(W0){R=W0.endPos,J0=!1;continue}}if(!L0&&A1){let W0=D?K0[3]:K0[2];if(W0=W0.trimStart(),!c){let i0=k($,t);while(i0<$.length){let T0=I($,i0),c0=$.slice(i0,T0),j0=e($,i0,T0),G1=j0.spaceEquivalent;if(c0.trim()===""){let b9=k($,T0);if(b9<$.length){let g1=e($,b9,$.length).spaceEquivalent,w$=l+(D?K0[1].length+K0[2].length+1:K0[1].length+1);if(g1+1>w$)break}break}else if(G1<=z){let M0=c0.slice(j0.charCount).match(F);if(M0&&(D?M0[2]===q:M0[1]===M)&&G1<=z)break}i0=k($,T0)}}R=Y$($,L,f,W0,R,t,l,V0,K0,D,c,J,X).newCurrentPos,J0=!1;continue}else if(!L0&&!A1)break;{let W0=P(),B0=W0.length===0;if(B0&&IZ(L,O,J0,F0))break;let i0=W0.some((j0)=>j0.type===v.codeBlock||j0.type===v.paragraph||j0.type===v.blockQuote||j0.type===v.orderedList||j0.type===v.unorderedList||j0.type===v.heading),T0=B0&&L.length===1?B:y;if(i0?l>=T0:l>T0){let j0=V$($,R,t,R0,T0,y,P(),J0,J,X,void 0,z);if(j0.processed){J0=j0.wasBlank,R=j0.newPos;continue}}else break}}else if(l===z){if(!D&&K0&&mZ(K0,K0[1]))break;let m=D?K0[3]:K0[2];m=m.trimStart(),R=Y$($,L,f,m,R,t,z,V0,K0,D,c,J,X).newCurrentPos,J0=!1}}else if(l>z){let m=P();if(C$(q0)){let B0=l+1;if(S(B0,g(),m9(m))){let c0=p(R,m);if(c0){R=c0.endPos,J0=!1;continue}}if(l-z>3){let c0=m.length>0?m[m.length-1]:null;if(c0&&(c0.type===v.paragraph||c0.type===v.text)){Q$(q0,m,J,X),J0=!1,R=k($,t);continue}}else break}else{let B0=p(R,m);if(B0){R=B0.endPos,J0=!1;continue}}let L0=y;if(m9(m)?l>=L0-1:l>L0-1){let B0=V$($,R,t,R0,L0-1,y,P(),J0,J,X,void 0,z);if(B0.processed){J0=B0.wasBlank,R=B0.newPos;continue}}else break}else break}}if(c&&L.length>1&&L[0].length>0&&L[0][0].type!==v.paragraph){for(var X0=1;X0<L.length;X0++)if(L[X0].length>0&&L[X0][0].type===v.paragraph){var E1=!1;for(var v1=0;v1<L[0].length;v1++){var X1=L[0][v1].type;if(X1===v.codeBlock||X1===v.heading||X1===v.blockQuote||X1===v.orderedList||X1===v.unorderedList||X1===v.htmlBlock||X1===v.breakThematic){E1=!0;break}}if(!E1)L[0]=[{type:v.paragraph,children:L[0]}];break}}let N9=D?{type:v.orderedList,items:L,ordered:!0,start:j}:{type:v.unorderedList,items:L,ordered:!1};return J.inList=G,{...N9,endPos:R}}function oZ($,Z,J,X){if(J.inline)return null;let G=[],Y=Z;while(Y<$.length){let F=I($,Y);if(B1($,Y,F))break;let z=$.slice(Y,F).trim();if(!(z.indexOf("|")!==-1||G.length>=3&&z&&!u9(z[0])))break;G.push(z),Y=k($,F)}if(G.length<2)return null;let K=(F)=>F[0]==="|"&&F[F.length-1]==="|"?F.slice(1,-1):F,V=(F)=>{let z=[],j="",q=!1;for(let M=0;M<F.length;M++){let O=F[M];if(O==="\\"&&M+1<F.length&&F[M+1]==="|")j+="|",M++;else if(O==="`")q=!q,j+=O;else if(O==="|"&&!q)z.push(j.trim()),j="";else j+=O}return z.push(j.trim()),z},U=V(K(G[0]));if(!U.length)return null;let Q=V(K(G[1]));if(Q.length!==U.length||Q.some((F)=>!/^:?-+:?$/.test(F)))return null;let H=Q.map((F)=>{let z=F[0]===":",j=F[F.length-1]===":";return z&&j?"center":z?"left":j?"right":null});if(X.optimizeForStreaming&&G.length===2)return null;let W=(F)=>v$(J,!0,()=>F.map((z)=>d1(z,0,z.length,J,X))),_=W(U),D=G.slice(2).map((F)=>{let z=F.indexOf("|")!==-1?V(K(F)):[F.trim()],j=U.length;while(z.length<j)z.push("");return z.length=j,W(z)});return{type:v.table,header:_,cells:D,align:H,endPos:Y}}var o6=["div","p","section","article","aside","nav","header","footer","main","h1","h2","h3","h4","h5","h6","blockquote","ul","ol","li","dl","dt","dd","table","thead","tbody","tfoot","tr","td","th","form","fieldset","hr","pre","details","summary","figure","figcaption"],n6=new Set(["pre","script","style","textarea"]);function h9($){return o6.indexOf($.toLowerCase())!==-1}function V9($){return n6.has($)}function B1($,Z,J){for(var X=Z;X<J;X++){let G=N($,X);if(G!==C&&G!==d&&G!==Q0)return!1}return!0}function v$($,Z,J){let X=$.inline;$.inline=Z;try{return J()}finally{$.inline=X}}function m$($,Z,J){var X=Z;while(X<J){var G=I($,X);if(B1($,X,G))return X;X=k($,G)}return J}function h$($,Z,J){return{type:v.htmlComment,text:u1($),endPos:Z,...J}}function v9($,Z,J,X,G,Y,K,V,U){var Q=u1(Z),H=Q;if(V&&(V.forceBlock||V.optimizeForStreaming)&&Z&&!Y){var W=new RegExp("^<"+$.toLowerCase()+"(\\s[^>]*)?>$","i");if(W.test(Z.trim()))H=""}var _=H,D=$.toLowerCase(),F=new RegExp("^<"+D+"[\\s>]","i");if(F.test(_)){var z=_.indexOf(">");if(z!==-1){_=_.slice(z+1);var j="</"+D+">",q=_.indexOf(j);if(q!==-1)_=_.slice(0,q)}}else{var M="</"+D+">",O=_.indexOf(M);if(O!==-1)_=_.slice(0,O)}var A=[];if(_&&V&&!V.optimizeForStreaming){var E=U||{inline:!1,inHTML:!0,inAnchor:!1},w=_.trim(),x=W$.test(w),T=M$.test(w),y=O$.test(w);if(x||T||y){var b={...E,inline:!1,inHTML:!0,inAnchor:E.inAnchor||D==="a"};A=i9(w,b,V)}else if(w){var B={...E,inline:!0,inHTML:!0,inAnchor:E.inAnchor||D==="a"};A=d1(w,0,w.length,B,V)}}return{type:v.htmlBlock,tag:$,attrs:X||{},rawAttrs:G,children:A,rawText:H,text:_,verbatim:!0,isClosingTag:Y,canInterruptParagraph:K,endPos:J}}function p9($){let Z=M$.test($),J=W$.test($),X=E6.test($);return Z||J&&!X}function hZ($,Z,J,X,G,Y,K,V,U,Q){if(!V.inHTML&&!V.inline&&!e9(G,`
`)){let Y0=Y,I0=K.length;while(Y0<I0){let v0=I(K,Y0);if(B1(K,Y0,v0))break;let _0=K.slice(Y0,v0).trim();if(_0.length>0&&u9(_0[0])){let r0=A$(K,Y0,V,Q);if(r0){Y0=r0.endPos;continue}let f0=B9(K,Y0);if(f0){Y0=f0.endPos;continue}return null}Y0=k(K,v0)}}let H=Z,W=V9(H);var _=!W&&!K9(Z),D=void 0;if(G){var F=G.indexOf(">");if(F!==-1){var z=G.slice(0,F+1);if(z.indexOf(`
`)!==-1)D=z;var j=F;for(var q=1;q<F;q++){var M=z[q];if(M===" "||M==="\t"||M===`
`||M===">"){j=q;break}}J=z.slice(j,F)}}var O=J.replace(/^[\s\n\r\t]+/,""),A=l1(O,Z,$,Q),E={...A},w=!1,x=!1;if(_&&X.length>0){var T="</"+H,y=X.indexOf(T);if(y>=0){var b=y+T.length;while(b<X.length&&(X[b]===" "||X[b]==="\t"))b++;if(b<X.length&&X[b]===">"){var B=X.slice(0,y);if(p9(B))X=B,x=!0;else w=!0}}if(!x){var L=X.length-1;if(X[L]===`
`){L--;while(L>=0&&(X[L]===" "||X[L]==="\t"||X[L]==="\r"))L--;if(L>=0&&X[L]===`
`)w=!0}}}var f=W||_&&w&&!p9(X),S=u1(X),P=S;if(f){if(S.length>0&&S[0]===`
`)S=S.slice(1),P=S;if(S.length>0&&S[S.length-1]===`
`)S=S.slice(0,-1),P=S;var T="</"+H+">",y=S.indexOf(T);if(y!==-1)S=S.slice(0,y)}let g=S.match(/^([ \t]*)/),p=g?g[1]:"",R=new RegExp(`^${p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`,"gm"),r=S.replace(R,""),c=W$.test(r),H0=M$.test(r),w0=H==="p",z0=O$.test(r),S0=w0?c:c||H0||V.inHTML&&z0,u=[];if(r)if(S0||z0){let Y0={...V,inline:!1,inHTML:!0,inAnchor:V.inAnchor||H==="a"};u=i9(r,Y0,Q)}else{let Y0={...V,inline:!0,inHTML:Q.optimizeForStreaming?!0:V.inHTML,inAnchor:U||V.inAnchor||H==="a"};u=d1(r,0,r.length,Y0,Q)}var U1=void 0;if(f)if(D!==void 0)U1=D+P;else U1=P;return{type:v.htmlBlock,tag:f?Z:$,attrs:E,rawAttrs:J,children:u,rawText:U1,text:r,verbatim:f,canInterruptParagraph:!0,endPos:Y}}function A$($,Z,J,X){if($[Z]!=="<")return null;if(X.optimizeForStreaming&&J.inHTML)return null;if(!J.inline);if(Z+1<$.length){if($[Z+1]==="?"){var G=_$($,Z);if(G&&G.kind==="pi")return h$(G.text||"",G.endPos,{raw:!0})}else if($[Z+1]==="!"){if(Z+3<$.length&&$.slice(Z,Z+4)==="<!--"){if(J.inline);var Y=_$($,Z);if(Y&&Y.kind==="comment"){var K=Y.text||"",V=!1;if(K==="<!-->")K="",V=!0;else if(K==="<!--->")K="-",V=!0;else if(K.startsWith("<!--")&&K.endsWith("-->"))K=K.slice(4,-3);if(J.inline);return h$(K,Y.endPos,{endsWithGreaterThan:V})}}var U=_$($,Z);if(U&&(U.kind==="declaration"||U.kind==="cdata"))return h$(U.text||"",U.endPos,{raw:!0})}}if(Z+1<$.length){let D9=$[Z+1];if(D9===" "||D9===`
`||D9==="\t"||D9==="\r")return null}var Q=$.indexOf(">",Z+1);if(Q!==-1){var H=$.slice(Z+1,Q),W=H.indexOf(" ")!==-1||H.indexOf("\t")!==-1;if(!W&&(a(H,"http://")||a(H,"https://")))return null;if(!W&&uZ(H))return null}var _=B9($,Z);if(!_&&!J.inline){var D=$.length,F=I($,Z),z=Z,j=0;while(z<F&&j<3&&($[z]===" "||$[z]==="\t"))j++,z++;if(z>=F||$[z]!=="<")return null;if(z+1<F){var j0=c$($,z+1);if(j0){var G1=j0.tagName,q=h9(G1);if(!q)return null;var M=j0.nextPos,O=!1,A=!1,E="",w=F,x=!1;while(w<D&&!x){var T=!1;while(M<w){var y=$[M];if(A){if(y===E)A=!1,E="";if(y===`
`||y==="\r")O=!0;M++,T=!0}else if(y==='"'||y==="'")A=!0,E=y,M++,T=!0;else if(y===`
`||y==="\r"){O=!0,M++,T=!0;var b=I($,M);if(b===M)break;w=b}else if(y===">"){M++,x=!0;break}else M++,T=!0}if(x)break;if(!T&&M>=w){var B=I($,w+1);if(B<=w)break;w=B}else if(M>=w&&w<D){var B=I($,w+1);if(B<=w)break;w=B}else break}if(!O&&x)return null;if(M>=F&&F<D)M=F;var L=q?"type6":"type7",f=M,S=m$($,k($,F),D),P=$.slice(f,S),g=Z+1<$.length&&$[Z+1]==="/";if(L==="type7"&&P.trim()===""){var p=$.slice(Z,S),R=I(p,0);if(R<p.length)R++;var r=p.slice(0,R);return v9(G1,r,S,{},void 0,g,!1,X,J)}var c=$.slice(Z,S);return v9(G1,c,S,{},void 0,g,L==="type6",X,J)}}return null}if(!_)return null;if(Q!==-1){var H0=$.slice(Z+1,Q);if((a(H0,"http://")||a(H0,"https://"))&&(H0.indexOf(" ")!==-1||H0.indexOf("\t")!==-1))return null}var I0=Z+(_.isClosing?2:1);if(I0<$.length){var w0=$[I0],z0=N(w0);if(z0>=97&&z0<=122||z0>=65&&z0<=90){if(I0+1<$.length&&$[I0+1]===":")return null}}if(_.isClosing){var S0=_.attrs.trim();if(S0.length>0)return null;if(!J.inline){var D=$.length,F=I($,Z),f=_.endPos,u=f;while(u<F&&($[u]===" "||$[u]==="\t"||$[u]==="\r"))u++;var U1=u>=F||$[u]==="<"&&function(){var UZ=B9($,u);return UZ&&h9(UZ.tagLower)}();if(U1){var S=m$($,k($,F),D),P=$.slice(f,S);if(P.length>0){if(P[0]==="\r"&&P[1]===`
`)P=P.slice(2);else if(P[0]===`
`||P[0]==="\r")P=P.slice(1)}let Y6=_.tagLower||_.tagName.toLowerCase();return v9(_.tagName,P,S,l1(_.whitespaceBeforeAttrs+_.attrs,Y6,_.tagName,X),_.whitespaceBeforeAttrs+_.attrs,!0,!1,X,J)}}var Y0=$.slice(Z,_.endPos);return{type:v.htmlSelfClosing,tag:_.tagName,attrs:{},endPos:_.endPos,isClosingTag:!0,rawText:Y0}}var I0=Z+(_.isClosing?2:1);if(I0<$.length){var v0=$[I0];if(v0===" "||v0==="\t"||v0===`
`||v0==="\r")return null}var _0=_.tagLower,r0=K9(_.tagName);let f0=_.tagName.length>0&&_.tagName[0]>="A"&&_.tagName[0]<="Z";if(_.isSelfClosing||r0&&_0!=="a"){if(_.hasNewline&&!f0)return null;if(!J.inHTML&&!J.inline&&!f0)return null;var m0=_.attrs.replace(/\/\s*$/,""),w1=l1(m0,_0,_.tagName,X),Y0=J.inline?$.slice(Z,_.endPos):void 0;let KZ={type:v.htmlSelfClosing,tag:_.tagName,attrs:w1,endPos:_.endPos};if(Y0!==void 0)KZ.rawText=Y0;return KZ}if(J.inline){var s=_.attrs.replace(/\/\s*$/,""),U0=_.whitespaceBeforeAttrs+s,y0=l1(s,_0,_.tagName,X),h0={...y0},F0=_.endPos,D0=[];if(!K9(_.tagName)){var $0=T6($,_.endPos,_0);if($0!==null){var d0=$.slice(_.endPos,$0[0]);if(d0)if(J.inHTML&&O$.test(d0)||p9(d0))D0=i9(d0,{...J,inline:!1,inHTML:!0,inAnchor:J.inAnchor||_0==="a"},X);else D0=d1(d0,0,d0.length,{...J,inline:!0,inHTML:X.optimizeForStreaming?!0:J.inHTML,inAnchor:J.inAnchor||_0==="a"},X);F0=$0[1]}}return{type:v.htmlBlock,tag:_.tagName,attrs:h0,rawAttrs:U0,children:D0,verbatim:!1,endPos:F0}}if(!J.inline){var D=$.length,F=I($,Z),G0=_.tagLower,Z0=V9(G0),o=!Z0&&h9(_.tagName),s0=!1,Z1=Z;while(Z1<_.endPos){if($[Z1]===">"){s0=!0;break}Z1++}var u=_.endPos;while(u<F&&($[u]===" "||$[u]==="\t"))u++;var Q1=u>=F||$[u]===`
`||$[u]==="\r"||o&&u<F||!s0;if(Z0&&s0&&!_.isClosing){var{tagName:F1,endPos:V1,attrs:y1}=_,O0=V1;if($[O0]===`
`)O0++;var o0=O0,O1=O0,I1=1,_1=G0.length+1;while(I1>0){var p0=$.indexOf("<",O0);if(p0===-1){O1=D,O0=D;break}var z1=-1,N1=-1;if($[p0+1]==="/")N1=p0;else if(p0+_1+1<=D&&($[p0+1]===G0[0]||$[p0+1]===F1[0])){var W1=$.substring(p0+1,p0+_1);if(W1.toLowerCase()===G0&&($[p0+_1]===" "||$[p0+_1]===">"))z1=p0}if(z1===-1&&N1===-1){O0=p0+1;continue}if(z1!==-1&&(N1===-1||z1<N1))O0=z1+_1+1,I1++;else{var n=N1+2;while(n<D){var J1=$[n];if(J1!==" "&&J1!=="\t"&&J1!==`
`&&J1!=="\r")break;n++}if(n+G0.length>D)break;var q1=$.substring(n,n+G0.length);if(q1.toLowerCase()!==G0){O0=n;continue}n+=G0.length;while(n<D){var n0=$[n];if(n0!==" "&&n0!=="\t"&&n0!==`
`&&n0!=="\r")break;n++}if(n>=D||$[n]!==">"){O0=n;continue}var _9=n+1,b1=I($,_9);O1=b1,O0=b1+1,I1--}}var R1=0;while(O0+R1<D&&$[O0+R1]===`
`)R1++;var z9=$.slice(Z,O0+R1),y9=$.slice(o0,O1),q9=O0+R1;return hZ(_.tagName,_.tagName,y1,y9,z9,q9,$,J,!1,X)}if(Q1||!s0){var L=o?"type6":"type7",f=_.endPos,S=m$($,k($,F),D);if(L==="type6"&&!_.isClosing){let r9=f0?_.tagName:_.tagLower||_.tagName.toLowerCase();var M1="</"+r9,f1="<"+r9,L1=f,T1=1,A0=-1;while(L1<S&&T1>0){var N0=$.indexOf(f1,L1),u0=$.indexOf(M1,L1);while(N0!==-1&&N0<S){var S1=N0+f1.length;if(S1>=D){N0=-1;break}var l0=$[S1];if(l0===" "||l0==="\t"||l0===`
`||l0==="\r"||l0===">")break;N0=$.indexOf(f1,S1)}if(N0===-1||N0>=S)N0=S;if(u0===-1||u0>=S)u0=S;if(N0<u0)T1++,L1=N0+f1.length;else if(u0<S){if(T1--,T1===0){A0=u0;break}L1=u0+M1.length}else break}if(A0!==-1&&A0<S){var g0=A0+M1.length;while(g0<D&&($[g0]===" "||$[g0]==="\t"))g0++;if(g0<D&&$[g0]===">"){var Y1=g0+1,b0=Y1;while(b0<D&&$[b0]!==`
`)b0++;if(b0<D)b0++;while(b0<D&&($[b0]===" "||$[b0]==="\t"))b0++;if(b0<D&&$[b0]==="<"&&!a($.slice(b0),M1)){var t1=B9($,b0);if(t1)S=Y1}}}else if(A0=$.indexOf(M1,f),A0!==-1){var a9=$.slice(f,A0),J0=f0||p9(a9);if(J0){var X0=A0+M1.length;while(X0<D&&($[X0]===" "||$[X0]==="\t"))X0++;if(X0<D&&$[X0]===">"){var E1=I($,X0+1);S=E1}}}}var P=$.slice(f,S),v1=_.whitespaceBeforeAttrs+_.attrs,g=_.isClosing;let QZ=()=>{let r9=_.tagLower||_.tagName.toLowerCase(),L9=_.whitespaceBeforeAttrs+_.attrs;return{parsed:l1(L9,r9,_.tagName,X),raw:L9}};if(L==="type7"&&P.trim()===""){var X1=$.slice(Z,_.endPos),N9=X1.indexOf(`
`)!==-1;if(N9)return null;var t=_.endPos,R=I($,t);if(R<$.length)R++;var r=$.slice(Z,R);let _Z=QZ();return v9(_.tagName,r,S,_Z.parsed,_Z.raw,g,!1,X,J)}var E0=_.hasNewline,R0=!s0;if((E0||R0)&&L==="type7"){var V0=_.endPos,l=$.slice(Z,V0),q0=P,c=l+q0;let L9=QZ();return v9(_.tagName,c,S,L9.parsed,L9.raw,g,!1,X,J)}let VZ=_.tagLower||_.tagName.toLowerCase();var t0=l1(v1,VZ,_.tagName,X),x0={...t0};if(L==="type6"){var K0=P,A1=P.indexOf("</"+VZ);if(A1>=0){var u=A1+2+_.tagName.length;while(u<P.length&&(P[u]===" "||P[u]==="\t"))u++;if(u<P.length&&P[u]===">")K0=P.slice(0,A1)}if(p9(K0))return hZ(_.tagName,_.tagName,v1,K0,$.slice(Z,_.endPos),S,$,J,!1,X)}var m=P;if(m.length>0){if(m[0]==="\r"&&m[1]===`
`)m=m.slice(2);else if(m[0]===`
`||m[0]==="\r")m=m.slice(1)}var k0=m.split(`
`),L0=1/0;for(var W0=0;W0<k0.length;W0++){var B0=k0[W0];if(B0.trim().length===0)continue;var j=0;while(j<B0.length&&(B0[j]===" "||B0[j]==="\t"))j++;if(j<L0)L0=j}if(L0>0&&L0<1/0){var i0=[];for(var T0=0;T0<k0.length;T0++){var c0=k0[T0];if(c0.trim().length===0)i0.push(c0);else i0.push(c0.slice(L0))}m=i0.join(`
`)}return v9(_.tagName,m,S,x0,v1,g,L==="type6"?!0:!1,X,J)}}if(J.inline)return null;var j0=c$($,Z+1);if(!j0)return null;var G1=j0.tagName;if(!K9(G1))return null;let b9=j0.tagLower;var M0=j0.nextPos,g1=$.length;while(M0<g1&&H1($[M0]))M0++;var GZ=M0;while(M0<g1&&$[M0]!==">")M0++;if(M0>=g1)return null;let w$=$.slice(GZ,M0).trim(),R9=M0+1;while(R9<g1&&H1($[R9]))R9++;let J6="</"+b9+">",YZ=$.toLowerCase().indexOf(J6,R9);if(YZ!==-1){if($.slice(R9,YZ).trim())return null}M0++;let X6=M0;while(M0<g1&&H1($[M0]))M0++;if(M0<g1&&$[M0]===`
`)M0++;let G6=l1(w$,G1,G1,X);return{type:v.htmlSelfClosing,tag:G1,attrs:G6,endPos:X6}}function t6($,Z){if($[Z]!=="<")return null;var J=$.length,X=!1,G=Z+1;if(Z+1<J&&$[Z+1]==="/")X=!0,G=Z+2;var Y=c$($,G);if(!Y)return null;var{tagName:K,tagLower:V,nextPos:U}=Y;if(U<J){var Q=$[U];if(Q===">"||Q==="/"){var H=Q===">"?U+1:U+2;if(Q==="/"&&(U+1>=J||$[U+1]!==">"))return null;var W=Q==="/",_=h9(K),D=!V9(V)&&!_;return{kind:"tag",tagNameLower:V,tagName:K,isClosing:X,isSelfClosing:W,hasNewline:!1,type6Candidate:_,type7Candidate:D,endPos:H,attrs:"",whitespaceBeforeAttrs:""}}}var F=U,z=!1;while(U<J){var j=$[U],q=N($,U);if(j===" "||j==="\t");else if(q===10||q===13)z=!0;else break;U++}var M=$.slice(F,U),O=U,A=!1,E="",w=0,x=!1,T=!1,y=0;while(O<J){var b=$[O],q=N($,O);if(y===1){if(b==='"'){if(O+1<J&&$[O+1]==='"')return null;y=0}O++}else if(y===2){if(b==="'")y=0;O++}else if(b==='"')y=1,O++;else if(b==="'")y=2,O++;else if(b==="{"||b==="}"&&w>0)w+=b==="{"?1:-1,O++;else if(b===">"&&w===0){if(O>U){var B=O-1;while(B>=U){var L=$[B];if(L!==" "&&L!=="\t")break;B--}if(B>=U&&$[B]==="/")x=!0,T=B<O-1}O++;break}else{if(b==="*"||b==="#"||b==="!"){var f=O+1;while(f<J){var S=$[f];if(S==="="||S===" "||S==="\t"||S===`
`||S==="\r"||S===">")break;f++}if(f<J&&$[f]==="=")return null}if(q===10||q===13)z=!0;O++}}if(O>J||$[O-1]!==">")return null;if(y===1||y===2)return null;if(w>0)return null;if(T)return null;var P=O-1;if(x)P--;var g=$.slice(U,P),p=x,R=-1,r=!1,c="",H0=!1;for(var w0=0;w0<g.length;w0++){var j=g[w0];if(r){if(j===c)r=!1,R=w0,c="",H0=!1}else if(j==='"'||j==="'")r=!0,c=j,H0=!1;else if(j==="=")H0=!0;else if(R!==-1&&w0===R+1){var q=j.charCodeAt(0);if(Q9(q))return null}else if(H0&&!r&&(j==="*"||j==="#"||j==="!"))return null;else if(H1(j))H0=!1}var z0=h9(K),S0=!V9(V)&&!z0;return{kind:"tag",tagNameLower:V,tagName:K,isClosing:X,isSelfClosing:p,hasNewline:z,type6Candidate:z0,type7Candidate:S0,endPos:O,attrs:g,whitespaceBeforeAttrs:M}}function _$($,Z){if(Z>=$.length||$[Z]!=="<")return null;var J=$.length;if(Z+1>=J)return null;var X=$[Z+1];if(X==="!"){if(Z+4<=J&&$.slice(Z,Z+4)==="<!--"){var G=Z+4;if(G<J&&$[G]===">")return{kind:"comment",hasNewline:!1,endPos:G+1,text:$.slice(Z,G+1),raw:!0};if(G+1<J&&$[G]==="-"&&$[G+1]===">")return{kind:"comment",hasNewline:!1,endPos:G+2,text:$.slice(Z,G+2),raw:!0};while(G+2<J){if($.slice(G,G+3)==="-->")return{kind:"comment",hasNewline:!1,endPos:G+3,text:$.slice(Z,G+3),raw:!0};G++}return null}if(Z+9<=J&&$.slice(Z,Z+9)==="<![CDATA["){var G=Z+9;while(G+2<J){if($.slice(G,G+3)==="]]>")return{kind:"cdata",hasNewline:!1,endPos:G+3,text:$.slice(Z,G+3),raw:!0};G++}return null}if(Z+2<J&&Q9($.charCodeAt(Z+2))){var G=Z+2;while(G<J&&$[G]!==">")G++;if(G>=J)return null;return{kind:"declaration",hasNewline:!1,endPos:G+1,text:$.slice(Z,G+1),raw:!0}}return null}if(X==="?"){var G=Z+2;while(G+1<J){if($.slice(G,G+2)==="?>")return{kind:"pi",hasNewline:!1,endPos:G+2,text:$.slice(Z,G+2),raw:!0};G++}return null}return t6($,Z)}function p$($,Z){if(Z>=$.length)return!1;var J=$[Z];return J==="="||J==="-"||J==="_"||J==="*"||J==="#"||J===">"||J==="`"||J==="~"||J==="["||J>="0"&&J<="9"}function K$($,Z){if(Z>=$.length)return!1;var J=$[Z];return J==='"'||J==="'"||J==="("}function e6($,Z,J){var X=$.length;if(Z>=X||$[Z]!==J)return null;Z++;var G=Z,Y=!1;while(Z<X&&$[Z]!==J){var K=$.charCodeAt(Z);if(K===i){if(Y)return null;Y=!0,Z++}else if(K===Q0)if(Z+1<X&&$.charCodeAt(Z+1)===i){if(Y)return null;Y=!0,Z+=2}else Y=!1,Z++;else{if(Y=!1,K===m1&&Z+1<X)Z++;Z++}}if(Z>=X)return null;return{value:$.slice(G,Z),endPos:Z+1}}function $5($,Z){var J=$.length;if(Z>=J||$[Z]!=="(")return null;Z++;var X=Z,G=1,Y=!1;while(Z<J&&G>0){var K=$.charCodeAt(Z);if(K===i){if(Y)return null;Y=!0,Z++}else if(K===Q0)if(Z+1<J&&$.charCodeAt(Z+1)===i){if(Y)return null;Y=!0,Z+=2}else Y=!1,Z++;else{if(Y=!1,K===m1&&Z+1<J)Z++;else if(K===AZ)G++;else if(K===BZ)G--;Z++}}if(G!==0)return null;return{value:$.slice(X,Z-1),endPos:Z}}function Z5($,Z){var J=$.length,X=Z;while(X<J){var G=X===0||$[X-1]===`
`,Y=$.charCodeAt(X);if(Y===i&&X>Z){var K=X+1;if(K<J&&$.charCodeAt(K)===Q0)K++;if(K<J&&$.charCodeAt(K)===i){var V=K+1;while(V<J&&($[V]===" "||$[V]==="\t"))V++;var U=V-(X+1);if($.charCodeAt(X+1)===Q0)U--;if(V<J&&$.charCodeAt(V)!==i&&$.charCodeAt(V)!==Q0&&U<4)return X}}if(G&&a($,"[^",X)){var Q=X+2;while(Q<J&&$[Q]!=="]")Q++;if(Q<J&&$[Q]==="]"&&Q+1<J&&$[Q+1]===":")return X}X++}return J}function J5($,Z,J){let X=$.length,G=Z,Y=G<X&&$[G]==="<";if(Y)G++;let K=G,V=K;if(K>=X){if(!Y)return null;V=K}else if(J>0&&K<X&&$[K]===`
`)return null;else while(V<X){if(Y&&$[V]===">")break;if($[V]===`
`){let y=V+1;if(y>=X)break;if(y<X&&$[y]===`
`)break;let b=y;while(b<X&&($[b]===" "||$[b]==="\t"))b++;if(b<X&&K$($,b))break;if(b<X&&$[b]==="[")break;if(b<X){let B=$[b];if(p$($,b))break;if(B>="a"&&B<="z"){let L=b+1;while(L<X&&L<b+32&&($[L]>="a"&&$[L]<="z"||$[L]>="A"&&$[L]<="Z"||$[L]>="0"&&$[L]<="9"||$[L]==="+"||$[L]==="."||$[L]==="-"))L++;if(L<X&&$[L]===":");else break}}V=b;continue}if(!Y&&($[V]===" "||$[V]==="\t")){let y=V+1;while(y<X&&($[y]===" "||$[y]==="\t"))y++;if(y<X&&K$($,y))break;if(y<X&&$[y]===`
`){let b=y+1;if(b<X&&$[b]===`
`)break;let B=b;while(B<X&&($[B]===" "||$[B]==="\t"))B++;if(B<X&&K$($,B))break}}V++}if(Y&&(V>=X||$[V]!==">"))return null;let U=$.slice(K,V),Q=[],H=0;for(let y=0;y<=U.length;y++)if(y===U.length||U[y]===`
`){let b=U.slice(H,y);if(b=b.trim(),b.length>0||Q.length===0){if(Q.push(b),y<U.length)Q.push(`
`)}else if(y<U.length)Q.push(`
`);H=y+1}U=Q.join(""),U=U.trim(),G=Y?V+1:V;var W=!1;if(G<X&&$[G]===`
`){var _=G+1,D=_;while(D<X&&($[D]===" "||$[D]==="\t"))D++;if(D<X){let y=$[D];if(p$($,D))W=!0;if(!W&&y!=="="&&y!=="-"){var F=I($,D);if(F<X){var z=k($,F),j=z;while(j<X&&($[j]===" "||$[j]==="\t"))j++;if(j<X){var q=$[j];if(q==="="||q==="-")W=!0}}}}}if(!W&&G<X&&K$($,G))return null;let M=0;while(G<X&&!W){let y=$[G];if(y===`
`){if(M++,M>1)break;G++;var O=G;if(G=C0($,G),G<X&&U9($[G])&&$[G]!==`
`){G=O-1;break}if(G<X){let b=$[G];if(p$($,G)){W=!0,G=O-1;break}}}else if(y===" "||y==="\t")G++;else if(U9(y))break;else break}let A=void 0;if(G<X){let y=$[G];var E=y==="("?$5($,G):y==='"'||y==="'"?e6($,G,y):null;if(E===null&&(y==='"'||y==="'"||y==="("))return null;if(E){A=E.value,G=E.endPos;var w=G;while(w<X&&($[w]===" "||$[w]==="\t"))w++;if(w<X&&$[w]!==`
`&&$[w]!=="\r")return null;G=w}}if(G=C0($,G),G<X&&$[G]!==`
`){var x=G;while(x<X&&$[x]!==`
`){if($[x]!==" "&&$[x]!=="\t")return null;x++}}if(A===void 0&&G<X&&$[G]!==`
`){var T=G;while(T<X&&$[T]!==`
`){if($[T]!==" "&&$[T]!=="\t")return null;T++}}return{endPos:G<X&&$[G]===`
`?G+1:G,target:U,title:A}}function X5($,Z){let J=Z,X=Z5($,Z),G=X<$.length&&$[X]===`
`&&$[X+1]===`
`,Y=X,K=Z;var V=[];let U=K,Q=0,H=!1;while(U<Y){let F=I($,U);if(F>Y)F=Y;if(Q===0){let z=F;while(z>U&&($[z-1]===" "||$[z-1]==="\t"))z--;let j=$.slice(U,z);V.push(j),H=j.length===0}else{let z=0,j=U;while(j<F&&j<U+4&&$[j]===" ")z++,j++;let q=!1;for(let O=U;O<F;O++)if($[O]!==" "&&$[O]!=="\t"&&$[O]!=="\r"){q=!0;break}let M=!q;if(z>=4&&H)V.push($.slice(U,F));else if(z===4&&!H)V.push($.slice(U+4,F));else V.push($.slice(U,F));H=M}if(F<Y){let z=N($,F);if(z===Q0||z===i)V.push(`
`),U=k($,F);else U=Y}else U=Y;Q++}let W=V.join("");if(G)W=W.replace(/\n$/,"");var _=W.length;while(_>0){var D=W[_-1];if(D===`
`||D===" ")_--;else break}if(_<W.length)W=W.slice(0,_);return{endPos:X,target:W,title:void 0}}function w9($,Z,J,X,G){if($[Z]!=="[")return null;var Y=Z+1<$.length&&$[Z+1]==="^";if(G?!Y:Y)return null;var K=Z;while(K>0&&$[K-1]!==`
`)K--;if(e($,K,Z).spaceEquivalent>=4||J.inline)return null;var V=Z+(G?2:1),U=$.length,Q=I6($,V,U,"]");if(Q===-1)return null;var H=$.slice(V,Q);if(H.length>999)return null;var W=!1,_=!1,D=!1;for(var F=0;F<H.length;F++){var z=H[F];if(z==="\\"&&F+1<H.length){F++;continue}var j=N(z);if(j===C1||j===F9)_=!0;else if(j===i||j===Q0)D=!0;else if(j!==C&&j!==d)W=!0}if(!W||_)return null;var q=Q+1;if(D){var M=N($,V),O=N($,Q-1);if(M===i||M===Q0||O===i||O===Q0||q>=U||$[q]!==":")return null}else if(q>=U||$[q]!==":"){if(q=C0($,q),q<U&&N($,q)===i)q=C0($,q+1);if(q>=U||$[q]!==":")return null}q++;var A=0;while(q<U){var E=N($,q);if(E===i){if(++A>1)break;q=C0($,q+1)}else if(E===C||E===d)q++;else break}let w=G?X5($,q):J5($,q,A);if(!w)return null;let x=lZ(H),T=J.refs||{},y=G?`^${x}`:x;if(!T[y])T[y]={target:z$(w.target.trim()),title:w.title?z$(w.title):void 0},J.refs=T;return{type:G?v.footnote:v.ref,endPos:w.endPos}}function nZ($,Z,J){var X=[],G=J===null?0:J+1;while(G<Z.length){var Y=Z[G];if(!Y||Y.type!=="*"&&Y.type!=="_"&&Y.type!=="~"&&Y.type!=="="){G++;continue}if(!Y.canClose||!Y.active){G++;continue}var K=Y.type==="*"?0:Y.type==="_"?1:Y.type==="~"?2:3,V=K*6+Y.length%3*2+(Y.canOpen?1:0),U=X[V]!==void 0?X[V]:J===null?-1:J,Q=-1,H=Y.type,W=Y.inAnchor,_=Y.canOpen,D=Y.length,F=D%3;for(var z=G-1;z>U;z--){var j=Z[z];if(!j||!j.active||j.type!==H||!j.canOpen||j.inAnchor!==W)continue;var q=j.length;if(!_&&!j.canClose||F===0||(q+D)%3!==0){Q=z;break}}if(Q>=0){var M=Z[Q],q=M.length,O=q>=2&&D>=2,A=O?2:1;if(A>q||A>D){G++;continue}var E=M.nodeIndex,w=Y.nodeIndex,x=E+1,T=w,y=$.slice(x,T);if(y.length>0){var b=T-x;$.splice(x,b);for(var B=0;B<Z.length;B++)if(Z[B].nodeIndex>x)Z[B].nodeIndex-=b;if(w>x)w-=b}var L=M.type==="~"?"del":M.type==="="?"mark":O?"strong":"em",f={type:v.textFormatted,tag:L,children:y},S=$[E];if(!S||!S.text){M.active=Y.active=!1;continue}var P=S.text.length<=A;if(P){$.splice(E,1);for(var B=0;B<Z.length;B++)if(Z[B].nodeIndex>E)Z[B].nodeIndex--;if(w>E)w--}else S.text=S.text.slice(A);var g=$[w];if(!g||!g.text){M.active=Y.active=!1;continue}var p=g.text.length<=A;if(p){$.splice(w,1);for(var B=0;B<Z.length;B++)if(Z[B].nodeIndex>w)Z[B].nodeIndex--}else g.text=g.text.slice(A);var R=P?E<w?w-1:E:E+1;if(R<0||R>$.length)R=R<0?0:$.length;$.splice(R,0,f);for(var B=0;B<Z.length;B++)if(Z[B].nodeIndex>=R)Z[B].nodeIndex++;for(var B=Q+1;B<G;B++)Z[B].active=!1;if(P)M.active=!1;else if(M.length-=A,M.length===0)M.active=!1;if(p)Y.active=!1,G++;else if(Y.length-=A,Y.length===0)Y.active=!1,G++}else{if(X[V]=G-1,!Y.canOpen)Y.active=!1;G++}}var r=0;for(var z=0;z<Z.length;z++)if(Z[z].active)Z[r++]=Z[z];Z.length=r}function c9($,Z,J){var X=[],G=0,Y=-3,K=Y;if(Z.inline)return d1($,0,$.length,Z,J);if(G===0&&$.startsWith("---")){var V=a6($,G);if(V)X.push(V),G=V.endPos}while(G<$.length){while(G<$.length&&$[G]===`
`)G++;if(G>=$.length)break;K=Y;let W=$[G],_=d9($,G,Z,J);if(_){let q=_.type;if(q===v.codeBlock){var U=W==="`"||W==="~";if(!U&&(W===" "||W==="\t")){let M=I($,G),O=e($,G,M);U=O.spaceEquivalent<=3&&G+O.charCount<$.length&&($[G+O.charCount]==="`"||$[G+O.charCount]==="~")}}else if(q===v.breakThematic);else if(q===v.blockQuote);else if(q===v.heading);else if(q===v.orderedList||q===v.unorderedList);else if(q===v.table);else if(q===v.htmlComment);else if(q===v.htmlBlock);else if(q===v.ref);if(_.type===v.htmlComment){X.push(_);let M=G;G=_.endPos;let O=I($,M);if(G<O){let A=$.slice(G,O);if(A.trim().length>0)X.push({type:v.text,text:A});if(G=O,G<$.length&&$[G]===`
`)G++}continue}if(_.type===v.htmlBlock||_.type===v.htmlSelfClosing)if(_.type===v.htmlSelfClosing&&_.isClosingTag===!0&&!Z.inline&&!Z.inHTML);else{X.push(_),G=_.endPos;continue}else{X.push(_),G=_.endPos;continue}}let D=K!==Y?K:G;if(K===Y){if(H1(W)){let q=I($,G),M=e($,G,q),O=G+M.charCount;if(M.spaceEquivalent<=3&&O<$.length&&$[O]==="[")D=O;else D=-1}else if(W==="[")D=G;else D=-1;K=D}if(D>=0&&D+1<$.length&&$[D+1]==="^")D=-1;if(D>=0){let q=w9($,D,Z,J,!1);if(q){X.push(q),G=q.endPos;continue}let M=C6($,D,G===0);if(M.shouldSkip){G=M.newPos;continue}}let F=dZ($,G,Z,J);if(F){X.push(F),G=F.endPos;continue}let z=G;if(H1($[z])){let q=I($,G),M=e($,G,q);z=G+M.charCount}if(z<$.length&&$[z]==="["&&z+1<$.length&&$[z+1]==="^"){let q=w9($,z,Z,J,!0);if(q){G=q.endPos;continue}}let j=r$($,G,Z,J);if(j){X.push(j),G=j.endPos;continue}G++}let Q=Z.refs||{},H={};for(let W in Q)H[W]=Q[W];if(Z$(H))return[{type:v.refCollection,refs:H},...X];return X}function B$($,Z,J){var X=0,G=!0;let Y=$.length;while(X<Y){var K=0;while(X<Y&&N($,X)===i)K++,X++;if(X>=Y)break;if(K>0)G=!0;let O=N($,X);if(O===e0||O===e1){var V=ZZ($,X,{inline:!1},J);if(V){X=V.endPos,G=!0;continue}}var U=X,Q=0;while(U<Y&&Q<4){let A=N($,U);if(A===C)Q++,U++;else if(A===d)Q+=4-Q%4,U++;else break}if(Q<4&&U<Y&&N($,U)===C1&&G)if(U+1<Y&&N($,U+1)===j9){G=!1;var q=I($,X);X=q>=Y?Y:k($,q);continue}else{var H=w9($,U,{inline:!1,refs:Z},J,!1);if(H){X=H.endPos,G=!0;continue}var q=I($,X),W=$.indexOf(":",U+1);if(W===-1||W>=q){var _=e($,X,q);if(!B1($,X,q)&&O!==S9&&O!==k1&&O!==D1&&O!==i1&&_.spaceEquivalent<4)G=!1}X=q>=Y?Y:k($,q);continue}if(O===k1&&G){var D=X,F=[];while(D<Y){var q=I($,D),z=D;while(z<q){let E=N($,z);if(E===C||E===d)z++;else break}if(z>=q||N($,z)!==k1)break;var j=z+1;if(j<q&&(N($,j)===C||N($,j)===d))j++;F.push($.slice(j,q)),D=k($,q)}if(F.length){B$(F.join(`
`),Z,J),X=D,G=!0;continue}}var q=I($,X);if(q>=Y)X=Y;else{var M=B1($,X,q),_=e($,X,q);X=k($,q),G=O===S9||O===k1||O===D1||O===i1||M||_.spaceEquivalent>=4}}}function tZ($,Z){if($.charCodeAt(0)===65279)$=$.slice(1);$=u1($);let X={...{inline:!1,refs:{}}},G={...Z,slugify:Z?.slugify?(K)=>Z.slugify(K,j1):j1,sanitizer:Z?.sanitizer||o1,tagfilter:Z?.tagfilter!==!1};if(!X.inline)B$($,X.refs||{},G);return c9($,X,G)}var Y5=/^\n+/,XZ=P1.createContext(void 0);function K5($){let Z=!1;for(let X=0;X<$.length;X++){let G=$.charCodeAt(X);if(G>127||G===m1||G===e0){Z=!0;break}}if(!Z)return $;let J="";for(let X=0;X<$.length;X++){let G=$[X];if(G==="%"&&X+2<$.length&&/[0-9A-Fa-f]/.test($[X+1])&&/[0-9A-Fa-f]/.test($[X+2]))J+=$[X]+$[X+1]+$[X+2],X+=2;else if(G.charCodeAt(0)===m1)J+="%5C";else if(G.charCodeAt(0)===e0)J+="%60";else{let Y=G.charCodeAt(0);J+=Y>127?encodeURIComponent(G):G}}return J}function U5($,Z,J,X,G,Y,K,V){let U=V.styles||{};switch($.type){case v.blockQuote:{let Q=$;return X(h.View,{key:J.key,style:U.blockquote},Z(Q.children,J))}case v.breakLine:return`
`;case v.breakThematic:return X(h.View,{key:J.key,style:U.thematicBreak});case v.frontmatter:if(V.preserveFrontmatter){let Q=$;return X(h.Text,{key:J.key,style:U.codeBlock},Q.text)}return null;case v.codeBlock:{let Q=$;return X(h.View,{key:J.key,style:U.codeBlock},X(h.Text,{style:U.codeInline},Q.text))}case v.codeInline:{let Q=$;return X(h.Text,{key:J.key,style:U.codeInline},Q.text)}case v.footnoteReference:{let Q=$,H=G(Q.target,"a","href");if(!H)return null;return X(h.Text,{key:J.key,onPress:()=>{if(V.onLinkPress)V.onLinkPress(H,Q.text);else h.Linking.openURL(H).catch(()=>{})},style:U.link},X(h.Text,{style:{fontWeight:"bold"}},Q.text))}case v.gfmTask:{let Q=$;return X(h.Text,{key:J.key,style:U.gfmTask},Q.completed?"[x]":"[ ]")}case v.heading:{let Q=$,H=`heading${Q.level}`,W=U[H];return X(h.Text,{key:J.key,style:W},Z(Q.children,J))}case v.htmlBlock:{let Q=$;if(V.tagfilter&&J$(Q.tag)){let H="rawText"in Q&&typeof Q.rawText==="string"?Q.rawText:`<${Q.tag}>`;return X(h.Text,{key:J.key},H)}if(Q.rawText&&Q.verbatim){let _=function(q){if(q.type===v.htmlSelfClosing&&"isClosingTag"in q&&q.isClosingTag)return[];if(q.type===v.paragraph)return q.children?.flatMap(_)||[];if(q.type===v.text)return q.text?.trim()?[q]:[];if(q.type===v.htmlBlock&&q.children)return[{...q,children:q.children?.flatMap(_)}];return[q]},H=Q.tag.toLowerCase();if(V9(H)&&!/<[a-z][^>]{0,100}>/i.test(Q.rawText)){let q=Q.rawText.replace(new RegExp("\\s*</"+H+">\\s*$","i"),"");if(V.tagfilter)q=X$(q);return X(Q.tag,{key:J.key,...Q.attrs},q)}if(/<\/?pre\b/i.test(Q.rawText)){let q=V.tagfilter?X$(Q.rawText):Q.rawText;return X(h.Text,{key:J.key,style:U.codeBlock},q)}if(Q.children&&Q.children.length>0)return X(Q.tag,{key:J.key,...Q.attrs},Z(Q.children.flatMap(_),J));let D=Q.rawText.replace(/>\s+</g,"><").replace(/\n+/g," ").trim();if(new RegExp(`^<${Q.tag}(\\s[^>]*)?>(\\s*</${Q.tag}>)?$`,"i").test(D))return X(Q.tag,{key:J.key,...Q.attrs});let j=c9(D,{inline:!1,refs:K,inHTML:!1},{slugify:(q)=>Y(q,j1),sanitizer:(q,M,O)=>G(q,M,O),tagfilter:!0});return X(Q.tag,{key:J.key,...Q.attrs},Z(j.flatMap(_),J))}return X(Q.tag,{key:J.key,...Q.attrs},Q.children?Z(Q.children,J):"")}case v.htmlSelfClosing:{let Q=$;if(V.tagfilter&&J$(Q.tag)){let H="rawText"in Q&&typeof Q.rawText==="string"?Q.rawText:`<${Q.tag} />`;return X(h.Text,{key:J.key},H)}return X(Q.tag,{key:J.key,...Q.attrs})}case v.image:{let Q=$,H=G(Q.target,"img","src");if(!H)return null;return X("img",{key:J.key,source:{uri:H},accessibilityLabel:Q.alt||void 0,style:U.image})}case v.link:{let Q=$,H={textDecorationLine:"underline"},W=U.link?[H,U.link]:H,_={key:J.key,style:W};if(Q.target!=null){let D=K5(Q.target);if(_.onPress=()=>{V.onLinkPress?V.onLinkPress(D,Q.title):h.Linking.openURL(D).catch(()=>{})},V.onLinkLongPress)_.onLongPress=()=>V.onLinkLongPress(D,Q.title)}return X("a",_,Z(Q.children,J))}case v.table:{let Q=$;return X(h.View,{key:J.key,style:U.table},X(h.View,{style:U.tableHeader},X(h.View,{style:{flexDirection:"row"}},Q.header.map(function(W,_){return X(h.View,{key:_,style:[U.tableHeaderCell,Q.align[_]!=null?{alignItems:Q.align[_]==="center"?"center":Q.align[_]==="right"?"flex-end":"flex-start"}:{}]},Z(W,J))}))),X(h.View,{},Q.cells.map(function(W,_){return X(h.View,{key:_,style:{flexDirection:"row"}},W.map(function(F,z){return X(h.View,{key:z,style:[U.tableCell,Q.align[z]!=null?{alignItems:Q.align[z]==="center"?"center":Q.align[z]==="right"?"flex-end":"flex-start"}:{}]},Z(F,J))}))})))}case v.text:return $.text;case v.textFormatted:{let Q=$,W={em:{fontStyle:"italic"},strong:{fontWeight:"bold"},del:{textDecorationLine:"line-through"}}[Q.tag],_=U[Q.tag]||W;return X(h.Text,{key:J.key,style:_},Z(Q.children,J))}case v.orderedList:case v.unorderedList:{let Q=$,H=$.type===v.orderedList,W=H?U.listOrdered:U.listUnordered;return X(h.View,{key:J.key,style:W},Q.items.map((_,D)=>{let F=H&&"start"in Q&&Q.start!=null?Q.start+D:D+1,z=H?`${F}.`:"•",j=H?U.listItemNumber:U.listItemBullet;return X(h.View,{key:D,style:{flexDirection:"row"}},X(h.Text,{style:j},z+" "),X(h.View,{style:U.listItem},Z(_,J)))}))}case v.paragraph:return X("p",{key:J.key,style:U.paragraph},Z($.children,J));case v.ref:return null;default:return null}}var Q5=($,Z,J,X,G,Y)=>{let K=(Q,H,W)=>{let _=(F,z)=>{let j=Array.isArray(F)?F:[F];return H(j,z||W)},D=()=>U5(Q,_,W,Z,J,X,G,Y);return $?$(D,Q,H,W):D()},V=(Q)=>Q.map((H)=>("text"in H)?H.text:""),U=(Q,H={})=>{let W=Array.isArray(Q)?Q:[Q],_=(H.renderDepth||0)+1;if(_>2500)return V(W);H.renderDepth=_;let D=H.key,F=[],z=!1;for(let j=0;j<W.length;j++){H.key=j;let q=K(W[j],U,H),M=typeof q==="string";if(M&&z)F[F.length-1]+=q;else if(q!==null)if(Array.isArray(q))for(let O=0;O<q.length;O++)F.push(q[O]);else F.push(q);z=M}return H.key=D,H.renderDepth=_-1,F.length===1?F[0]:F};return U},JZ=($,Z,J)=>{if(!$||typeof Z!=="string")return J;let X=Z.split("."),G=$;for(let Y=0;Y<X.length;Y++)if(G=G?.[X[Y]],G===void 0)return J;return G||J},V5=($,Z)=>{if(!Z||typeof $!=="string")return $;let J=JZ(Z,$,void 0);if(!J)return $;if(typeof J==="function"||typeof J==="object"&&J!==null&&"render"in J)return J;return JZ(Z,`${$}.component`,$)},_5=($)=>{let Z=$.toLowerCase();if(Z==="img")return h.Image;if(Z==="div"||Z==="section"||Z==="article"||Z==="aside"||Z==="header"||Z==="footer"||Z==="main"||Z==="nav"||Z==="figure"||Z==="figcaption"||Z==="blockquote"||Z==="ul"||Z==="ol"||Z==="li"||Z==="table"||Z==="thead"||Z==="tbody"||Z==="tr"||Z==="th"||Z==="td")return h.View;if(V9(Z))return h.View;return h.Text};function eZ($,Z){let J={...Z||{}};J.overrides=J.overrides||{};let X=J.slugify||j1,G=J.sanitizer||o1,Y=J.createElement||P1.createElement;function K(z,j,...q){if(typeof z!=="string")return Y(z,j,...q);let M=JZ(J.overrides||{},`${z}.props`,{}),O=V5(z,J.overrides||{}),A={...j,...M,style:j.style||M.style||void 0};if(typeof O==="function"||typeof O==="object"&&O!==null)return Y(O,A,...q);let E=_5(O);return Y(E,A,...q)}let V={slugify:(z)=>X(z,j1),sanitizer:(z,j,q)=>G(z,j,q),tagfilter:J.tagfilter!==!1,disableAutoLink:J.disableAutoLink,disableParsingRawHTML:J.disableParsingRawHTML,enforceAtxHeadings:J.enforceAtxHeadings},U=$[0]&&$[0].type===v.refCollection?$[0].refs:{},Q=Q5(J.renderRule,K,(z,j,q)=>G(z,j,q),X,U,J),H=Q($,{inline:J.forceInline,refs:U}),W=Array.isArray(H)?H:[H],_=[];for(let z in U)if(z.charCodeAt(0)===j9)_.push({identifier:z,footnote:U[z].target});if(_.length)W.push(Y(h.View,{key:"footer"},_.map(function(j){let q=j.identifier.charCodeAt(0)===j9?j.identifier.slice(1):j.identifier,M=c9(j.footnote,{inline:!0,refs:U},V),O=Q(M,{inline:!0,refs:U}),A=typeof O==="string"?Y(h.Text,{},O):O;return Y(h.View,{key:j.identifier},Y(h.Text,{},q+": "),A)})));if(J.wrapper===null)return W;let D=J.wrapper||(J.forceInline?h.Text:h.View),F;if(W.length>1||J.forceWrapper)F=W;else if(W.length===1){let z=W[0];if(typeof z==="string")return Y(h.Text,{key:"outer",...J.wrapperProps},z);return z}else return null;return Y(D,{key:"outer",...J.wrapperProps},F)}function $6($="",Z={}){let J={...Z||{}};J.overrides=J.overrides||{};let X=J.slugify||j1,G=J.sanitizer||o1;function Y(U){let Q=J.forceInline||!J.forceBlock&&!S$.test(U),H={slugify:(D)=>X(D,j1),sanitizer:(D,F,z)=>G(D,F,z),tagfilter:J.tagfilter!==!1,disableAutoLink:J.disableAutoLink,disableParsingRawHTML:J.disableParsingRawHTML,enforceAtxHeadings:J.enforceAtxHeadings};if(!Q)B$(U,K,H);let W=U;if(!Q){let D=W.length;while(D>0&&(W[D-1]===`
`||W[D-1]==="\r"))D--;W=W.slice(0,D),W=`${W.replace(Y5,"")}

`}let _=c9(Q?U:W,{inline:Q,refs:K},H);return eZ(_,{...J,forceInline:Q})}let K={};return Y($)}var z5=({options:$,children:Z})=>{return P1.createElement(XZ.Provider,{value:$},Z)},Z6=({children:$,options:Z,...J})=>{let X=P1.useContext(XZ),G=P1.useMemo(()=>{var V=Object.assign({},X,Z);return V.styles=Object.assign({},X?.styles,Z?.styles),V.overrides=Object.assign({},X?.overrides,Z?.overrides),V.wrapperProps=Object.assign({},X?.wrapperProps,Z?.wrapperProps,J),V},[X,Z,J]),Y=$===null||$===void 0?"":$;return P1.useMemo(()=>$6(Y,G),[Y,G])},D5=Z6;

//# debugId=0D50DF94917ACE7264756E2164756E21
//# sourceMappingURL=native.js.map
