var G6=Object.defineProperty;var Y6=($,Z)=>{for(var X in Z)G6($,X,{get:Z[X],enumerable:!0,configurable:!0,set:(J)=>Z[X]=()=>J})};import{h as $Z,provide as X5,inject as G5,computed as sZ}from"vue";var C=32,l=9,V0=13,d=10,e0=96,$9=126,p1=91,T9=94,u1=62,S9=35,QZ=37,j1=45,r1=61,l1=92,E9=42,Z9=95,j9=60,x9=64,H9=93,F9=33,P9=38,I9=58,w$=70,B1=102,s1=104,f1=119,s9=116,B$=112,_Z=115,qZ=160,zZ=12;var f9=46,J9=47;var F5=34,DZ=43,jZ=124,HZ=123;var FZ=40,OZ=41,N$=120,b$=88,g1=48,C1=57,H1=65,d1=90,N1=97,o1=122,c0=128,WZ=32;var K6={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},O=K6;var x$={};Y6(x$,{startsWith:()=>c,slugify:()=>K1,skipWhitespace:()=>g0,shouldFilterTag:()=>$$,sanitizer:()=>Y9,parseFrontmatterBounds:()=>L$,normalizeInput:()=>i1,normalizeCRLF:()=>W6,isVoidElement:()=>K9,isUnicodeWhitespace:()=>V9,isUnicodePunctuation:()=>t9,isAlnumCode:()=>o9,isASCIIWhitespace:()=>C9,isASCIIPunctuation:()=>H6,inlineCharTypeTable:()=>g9,includes:()=>q6,htmlAttrsToJSXProps:()=>_6,hasKeys:()=>e9,getTag:()=>M6,getOverrideProps:()=>A6,get:()=>U9,findLineEnd:()=>I,extractPlainText:()=>wZ,endsWith:()=>n9,decodeEntityReferences:()=>M9,charClassTable:()=>W9,applyTagFilterToText:()=>Z$,VOID_ELEMENTS:()=>R$,SHOULD_RENDER_AS_BLOCK_R:()=>T$,SANITIZE_R:()=>O9,NAMED_CODES_TO_UNICODE:()=>Q6,HTML_TO_JSX_MAP:()=>vZ,HTML_CHAR_CODE_R:()=>AZ,ATTRIBUTES_TO_SANITIZE:()=>S$});import{NAMED_CODES_TO_UNICODE as V6,decodeEntity as U6}from"#entities";function L$($){if(!c($,"---"))return null;let Z=3;while(Z<$.length&&($[Z]===" "||$[Z]==="\t"))Z++;if(Z<$.length&&$[Z]==="\r")Z++;if(Z>=$.length||$[Z]!==`
`)return null;Z++;let X=!1;while(Z<$.length){let J=Z;while(Z<$.length&&$[Z]!==`
`&&$[Z]!=="\r")Z++;if(Z>=$.length)break;let G=Z;if($[Z]==="\r")Z++;if(Z<$.length&&$[Z]===`
`)Z++;if(c($,"---",J))return{endPos:Z,hasValidYaml:X};let Y=$.indexOf(":",J);if(Y!==-1&&Y<G)X=!0}return null}var Q6=V6,AZ=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,vZ={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"};function _6($){var Z={};for(var X in $){var J=X.toLowerCase(),G=vZ[J];Z[G||X]=$[X]}return Z}var T$=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/;function M9($){if($.indexOf("&")===-1)return $;return $.replace(AZ,(Z,X)=>{var J=U6(X);if(J)return J;if(X[0]==="#"){var G=X[1]==="x"||X[1]==="X"?parseInt(X.slice(2),16):parseInt(X.slice(1),10);if(G===0||G>=55296&&G<=57343||G>1114111)return"�";return G<=65535?String.fromCharCode(G):String.fromCharCode(55296+(G-65536>>10),56320+(G-65536&1023))}return Z})}var O9=/(javascript|vbscript|data(?!:image)):/i;function Y9($){if(O9.test($))return null;if($.indexOf("%")===-1)return $;try{let Z=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(O9.test(Z))return null}catch(Z){return null}return $}var a0={},$1,x0;$1=[192,193,194,195,196,197,224,225,226,227,228,229,230,198];for(x0=0;x0<$1.length;x0++)a0[$1[x0]]="a";a0[231]=a0[199]="c";a0[240]=a0[208]="d";$1=[200,201,202,203,233,232,234,235];for(x0=0;x0<$1.length;x0++)a0[$1[x0]]="e";$1=[207,239,206,238,205,237,204,236];for(x0=0;x0<$1.length;x0++)a0[$1[x0]]="i";a0[209]=a0[241]="n";$1=[248,216,339,338,213,245,212,244,211,243,210,242];for(x0=0;x0<$1.length;x0++)a0[$1[x0]]="o";$1=[220,252,219,251,218,250,217,249];for(x0=0;x0<$1.length;x0++)a0[$1[x0]]="u";a0[376]=a0[255]=a0[221]=a0[253]="y";function o9($){return $>=g1&&$<=C1||$>=H1&&$<=d1||$>=N1&&$<=o1}function K1($){var Z=[];for(var X=0;X<$.length;X++){var J=$.charCodeAt(X);if(o9(J))if(J>=H1&&J<=d1)Z.push(String.fromCharCode(J+WZ));else Z.push($[X]);else if(J===C||J===j1)Z.push("-");else{var G=a0[J];if(G)Z.push(G)}}return Z.join("")}function q6($,Z){return $.indexOf(Z)!==-1}function c($,Z,X){return $.startsWith(Z,X)}function n9($,Z,X){return $.startsWith(Z,(X===void 0?$.length:X)-Z.length)}var R$=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","animateTransform","set"]);function K9($){let Z=$.toLowerCase();if(R$.has(Z))return!0;let X=Z.indexOf(":");if(X!==-1)return Z=Z.slice(X+1),R$.has(Z);return!1}var S$=["src","href","data","formAction","srcDoc","action"],E$=1,G9=2,MZ=1,z6=2,D6=3,j6=4,W9=function(){let $=new Uint8Array(128),Z;$[l]=$[d]=$[zZ]=$[V0]=$[C]=E$;for(Z=F9;Z<=J9;Z++)$[Z]=G9;for(Z=I9;Z<=x9;Z++)$[Z]=G9;for(Z=p1;Z<=e0;Z++)$[Z]=G9;for(Z=HZ;Z<=$9;Z++)$[Z]=G9;return $}(),g9=function(){let $=new Uint8Array(128);return $[l1]=z6,$[p1]=j6,$[E9]=$[Z9]=$[$9]=$[r1]=D6,$[e0]=$[j9]=$[x9]=$[H9]=$[d]=$[C]=$[F9]=MZ,$[B1]=$[s1]=$[f1]=MZ,$}();function H6($){return $<c0&&(W9[$]&G9)!==0}function C9($){return $<c0&&(W9[$]&E$)!==0}var F6=/[\p{P}\p{S}]/u,O6=/\p{Zs}/u;function V9($){if(!$)return!0;let Z=$.charCodeAt(0);return Z<c0?(W9[Z]&E$)!==0:O6.test($)}function t9($){if(typeof $==="number")return $<c0&&(W9[$]&G9)!==0;if(!$)return!1;let Z=$.charCodeAt(0);return Z<c0?(W9[Z]&G9)!==0:F6.test($)}function I($,Z){let X=$.indexOf(`
`,Z);if(X===-1)return $.length;if(X>0&&$.charCodeAt(X-1)===V0)return X-1;return X}var X9=[];function i1($){var Z=$.indexOf("\r"),X=$.indexOf("\x00");if(Z===-1&&X===-1)return $;var J=$.length;X9.length=0;var G=0,Y=0;if(Z===-1)Y=X;else if(X===-1)Y=Z;else Y=Z<X?Z:X;for(;Y<J;Y++){var K=$.charCodeAt(Y);if(K===V0){if(G<Y)X9.push($.slice(G,Y));if(Y+1<J&&$.charCodeAt(Y+1)===d)Y++;X9.push(`
`),G=Y+1}else if(K===0){if(G<Y)X9.push($.slice(G,Y));X9.push("�"),G=Y+1}}if(G<J)X9.push($.slice(G));return X9.join("")}function W6($){return i1($)}function g0($,Z,X){let J=X??$.length;while(Z<J&&($[Z]===" "||$[Z]==="\t"))Z++;return Z}function e9($){if(!$)return!1;for(var Z in $)return!0;return!1}function U9($,Z,X){var J=$,G=Z.split("."),Y=0;while(Y<G.length){if(J=J?.[G[Y]],J===void 0)break;Y++}return J||X}function M6($,Z){if(!Z)return $;let X=U9(Z,$,void 0);if(typeof X==="string")return X;if(typeof X==="object"&&X.component)return X.component;return $}function A6($,Z){if(!Z)return{};let X=U9(Z,$,void 0);return typeof X==="object"&&X.props?X.props:{}}function wZ($,Z){var X="";for(var J=0,G=$.length;J<G;J++){var Y=$[J],K=Y.type;if(K===Z.text||K===Z.codeInline){var U=Y.text;if(U)X+=U}else if(K===Z.textFormatted||K===Z.link){if(Y.children)X+=wZ(Y.children,Z)}else if(K===Z.image){if(Y.alt)X+=Y.alt}}return X}function $$($){var Z=$.toLowerCase();return Z==="title"||Z==="textarea"||Z==="style"||Z==="xmp"||Z==="iframe"||Z==="noembed"||Z==="noframes"||Z==="script"||Z==="plaintext"}function Z$($){return $.replace(/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi,function(Z,X,J,G){return"&lt;"+X+J+G})}function v6($){console.warn($)}function v9($,Z,X,J){var G=b(X),Y=$.length,K=J??Y-Z,U=0;while(U<K&&Z+U<Y&&b($,Z+U)===G)U++;return U}function BZ($,Z,X,J,G){if(G===0?X>=J:Z<=J)return!1;let Y=G===0?$[X]:$[Z-1],K=G===0?Z>0?$[Z-1]:null:X<$.length?$[X]:null;var U=b(Y);if(U<c0?C9(U):V9(Y))return!1;var V=K?b(K):null,Q=K===null||K===`
`||K==="\r"||(V!==null?V<c0?C9(V):V9(K):!0),H=z$(U,Y);if(!H)return!0;if(Q)return!0;return K?z$(b(K),K):!1}function Q$($){var Z="",X=0;while(X<$.length)if($[X]==="\\"&&X+1<$.length){var J=$[X+1];Z+=t9(b(J))?J:"\\"+J,X+=2}else Z+=$[X++];return M9(Z)}function k($,Z){if(Z>=$.length)return Z;if($.charCodeAt(Z)===V0&&Z+1<$.length&&$.charCodeAt(Z+1)===d)return Z+2;if($.charCodeAt(Z)===d)return Z+1;return Z+1}function w6($,Z){if($>=c0)return 0;var X=g9[$];if(Z&&X===1&&($===B1||$===s1||$===f1))return 0;return X}function B6($,Z,X,J,G,Y){if(!X.length||X[X.length-1].type!==O.blockQuote)return null;let K=g0(J,0,J.length);if(K>=J.length||J[K]!==">")return null;let U=uZ($,Z,G,Y);if(!U)return null;let V=X[X.length-1],Q=U;if(Q.children)V.children.push(...Q.children);return Q.endPos}function _$($,Z,X,J){return{type:O.heading,level:$,children:Z,id:J(X)}}var h$=/\\(.)/g,N6=/\s+#+\s*$/,o$=/^(?:(\d{1,9})([.)])\s+(.*)$|(\d{1,9})([.)])\s*$|([-*+])\s+(.*)$|([-*+])\s*$)/,p$=/^(\d{1,9})([.)])(\s+|$)/,u$=/^([*+\-])(\s+|$)/,H$=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/i,gZ=/^<([a-z][^ >/]*) ?(?:[^>/]+[^/]|)>/i,b=function($,Z=0){return $.charCodeAt(Z)},q$=function($){return o9(b($))},l$=function($){return C9(b($))},F1=function($){return $===" "||$==="\t"},k9=function($){return $===" "||$==="\t"||$===`
`||$==="\r"},z$=function($,Z){return t9($<c0?$:Z)},b6=function($){var Z=b($);return q$($)||Z===j1||Z===Z9||Z===I9||Z===f9};function d$($,Z){var X=$.length;if(Z>=X)return null;var J=b($[Z]);if(!Q9(J))return null;var G=Z,Y=Z;while(Y<X){var K=b($[Y]);if(K>=N1&&K<=o1||K>=H1&&K<=d1||K>=g1&&K<=C1||K===j1)Y++;else{var U=b($[Y]);if(U===C||U===l||U===d||U===V0||U===u1||U===J9)break;else return null}}if(Y===G)return null;var V=$.slice(G,Y);for(var Q=0;Q<V.length;Q++){var K=b(V[Q]);if(!(K>=N1&&K<=o1||K>=H1&&K<=d1||K>=g1&&K<=C1||K===j1))return null}return{tagName:V,tagLower:V.toLowerCase(),nextPos:Y}}function t1($,Z){var X=U$($,Z);if(!X||X.kind!=="tag")return null;return{tagName:X.tagName||"",tagLower:X.tagNameLower||"",attrs:X.attrs||"",endPos:X.endPos,isClosing:X.isClosing||!1,isSelfClosing:X.isSelfClosing||!1,hasNewline:X.hasNewline,hasSpaceBeforeSlash:!1,whitespaceBeforeAttrs:X.whitespaceBeforeAttrs||""}}function y6($,Z,X){var J=1,G=Z;while(J>0&&G<$.length){var Y=$.indexOf("<",G);if(Y===-1)return null;var K=t1($,Y);if(!K){G=Y+1;continue}if(K.isClosing&&K.tagLower===X&&--J===0)return[Y,K.endPos];if(!K.isClosing&&!K.isSelfClosing&&K.tagLower===X)J++;G=K.endPos}return null}var R6=/^\{.*\}$/,F$=/\n\n/,O$=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m,L6=/<\/?(?:pre|script|style|textarea)\b/i,CZ=/^<[A-Z]/,T6=/\n$/,S6=new Set(["#",">","-","*","+","`","|","0","1","2","3","4","5","6","7","8","9"]);function E6($,Z,X,J){let G=Z;while(G<X){if($[G]==="\\"&&G+1<X){G+=2;continue}if($[G]===J)return G;G++}return-1}function NZ($,Z){var X=Z.indexOf(":");if(X>0){var J=Z.slice(X+1).trim(),G=J.length;if(G>=2){var Y=J[0];if((Y==='"'||Y==="'")&&J[G-1]===Y)J=J.slice(1,-1)}$.push([Z.slice(0,X).trim(),J])}}function x6($){var Z=[];if(!$)return Z;var X="",J=0,G="";for(var Y=0;Y<$.length;Y++){var K=$[Y];if(K==='"'||K==="'"){if(!G)G=K,J++;else if(K===G)G="",J--}else if(K==="("&&n9(X,"url"))J++;else if(K===")"&&J>0)J--;else if(K===";"&&J===0){NZ(Z,X),X="";continue}X+=K}return NZ(Z,X),Z}function P6(tag,key,value,sanitizeUrlFn,options){if(key==="style")return x6(value).reduce(function($,[Z,X]){let J=sanitizeUrlFn(X,tag,Z);if(J!=null)$[Z.replace(/(-[a-z])/g,(G)=>G[1].toUpperCase())]=J;return $},{});if(value.match(R6)){if(value=value.slice(1,value.length-1),value=value?value.replace(h$,"$1"):value,value.length>0){let $=value[0];if($==="["||$==="{")try{return JSON.parse(value)}catch(Z){return value}}if(value==="true")return!0;if(value==="false")return!1;if(options.evalUnserializableExpressions)try{return eval(`(${value})`)}catch($){return value}return value}if(S$.indexOf(key)!==-1)return sanitizeUrlFn(value?value.replace(h$,"$1"):value,tag,key);return value==="true"?!0:value==="false"?!1:value}function c1($,Z,X,J){let G={};if(!$||!$.trim())return G;let Y=[],K=0,U=$.length;while(K<U){while(K<U&&k9($[K]))K++;if(K>=U)break;let H=K;while(K<U&&b6($[K]))K++;if(K===H){K++;continue}let A=$.slice(H,K);while(K<U&&k9($[K]))K++;if(K>=U||$[K]!=="="){Y.push(A);continue}K++;while(K<U&&k9($[K]))K++;if(K>=U){Y.push(A+"=");break}let _=K,z=$[K];if(z==='"'||z==="'"){K++;while(K<U){if($[K]===z){if(K+1>=U){K++;break}let W=$[K+1];if(k9(W)||W==="/"){K++;break}}K++}}else if(z==="{"){let W=1;K++;while(K<U&&W>0){if($[K]==="{")W++;else if($[K]==="}"){if(W--,W===0){K++;break}}K++}}else while(K<U&&!k9($[K]))K++;Y.push(A+"="+$.slice(_,K))}if(!Y?.length)return G;let V=Z.toLowerCase();for(let H=0;H<Y.length;H++){let A=Y[H],_=A.indexOf("=");if(_!==-1){let z=A.slice(0,_).trim(),W=z.toLowerCase();if(W==="ref")continue;let q=A.slice(_+1).trim(),j=((D)=>{let F=D[0];if((F==='"'||F==="'")&&D.length>=2&&D[D.length-1]===F)return D.slice(1,-1);return D})(q);if(W==="href"&&V==="a"||W==="src"&&V==="img"){let D=J.sanitizer(j,V,W);if(D==null){v6(`Stripped unsafe ${W} on <${X}>`);continue}G[z]=D}else{let D=P6(V,W,j,J.sanitizer,J);G[z]=D}}else if(A!=="style")G[A]=!0}if($.indexOf("%")!==-1)try{if(O9.test(decodeURIComponent($)))for(var Q in G)delete G[Q]}catch(H){}else if(O9.test($))for(var Q in G)delete G[Q];return G}var u9=function($){return S6.has($)};function I6($,Z,X){let J=Z+1;while(J<$.length&&$[J]!=="]"){if($[J]==="\\"&&J+1<$.length){J+=2;continue}J++}if(J>=$.length)return{shouldSkip:!1,newPos:0};let G=Z+1,Y=J,K=G<Y&&($[G]===`
`||$[G]==="\r"),U=Y>G&&($[Y-1]===`
`||$[Y-1]==="\r"),V=J+1;if(V=g0($,V),V>=$.length||$[V]!==":")return{shouldSkip:!1,newPos:0};if((K||U)&&X){let Q=V+1;if(Q=g0($,Q),Q<$.length&&$[Q]===`
`)Q=g0($,Q+1);while(Q<$.length&&$[Q]!==`
`)Q++;if(Q<$.length)Q++;return{shouldSkip:!0,newPos:Q}}return f6($,V)}function f6($,Z){let X=Z+1;if(X=g0($,X),X<$.length&&$[X]===`
`)X=g0($,X+1);while(X<$.length&&$[X]!==`
`)X++;if(X>=$.length)return{shouldSkip:!1,newPos:0};X++;let J=g0($,X);if(J>=$.length||$[J]!=='"'&&$[J]!=="'")return{shouldSkip:!1,newPos:0};let G=$[J],Y=J+1;while(Y<$.length&&$[Y]!==G&&$[Y]!==`
`){if($[Y]==="\\"&&Y+1<$.length){Y+=2;continue}Y++}if(Y>=$.length||$[Y]!==G)return{shouldSkip:!1,newPos:0};let K=g0($,Y+1);if(K<$.length&&$[K]!==`
`&&$[K]!=="\r")return{shouldSkip:!0,newPos:X};return{shouldSkip:!1,newPos:0}}function kZ($){for(var Z=0;Z<$.length;Z++){var X=$[Z];if(X.type===O.link)return!0;if(X.type===O.textFormatted){var J=X;if(J.children&&kZ(J.children))return!0}}return!1}function i$($){var Z="";for(var X=0,J=$.length;X<J;X++){var G=$[X],Y=G.type;if(Y===O.text)Z+=G.text;else if(Y===O.image){var K=G;if(K.alt)Z+=K.alt}else if(Y===O.textFormatted){var U=G;if(U.children)Z+=i$(U.children)}else if(Y===O.link){var V=G;if(V.children)Z+=i$(V.children)}}return Z}var g6=new Set([" ","\t","\r",`
`,"\f","\v"]);function a1($,Z,X,J,G){var Y=[],K=[],U=[],V=Z,Q=Z,H=G.disableAutoLink||J.inAnchor,A=!1,_=!!J.inAnchor,z=!!G.disableParsingRawHTML,W=G.optimizeForStreaming,q=-1,j=-1,D=[],F=function(f0,Y1){if(W&&J.inHTML)return!1;if(!_&&(!Y1||!G.disableAutoLink)){var b0=I$($,V,J,G,"<");if(b0)return M(V),Y.push(b0),V=b0.endPos,Q=V,!0}if(z)return!1;var e1=M$($,V,J,G);if(e1){M(V);var a9=Y.length;if(Y.push(e1),D)D.push(a9);return V=e1.endPos,Q=V,!0}if(W&&j===-1){if(V+1<X){var Z0=b($,V+1);if(Z0>=H1&&Z0<=d1||Z0>=N1&&Z0<=o1||Z0===J9||Z0===F9)j=V}}if(!f0)return!1;var J0=t1($,V);if(!J0)return!1;var I1=V+(J0.isClosing?2:1);if(I1>=$.length||F1($[I1]))return!1;var v1=$.indexOf(">",V+1);if(v1!==-1){var X1=V+1,b9=v1-X1;if(b9>=7){var n=c($,"http://",X1);if(n||c($,"https://",X1)){for(var S0=X1;S0<v1;S0++)if(F1($[S0]))return!1}}}var y0=b($,I1);if(Q9(y0)&&I1+1<$.length&&$[I1+1]===":")return!1;if(J0.isClosing&&J0.attrs.trim().length)return!1;if(J0.attrs.length){var U0=!1,u="";for(var q0=0;q0<J0.attrs.length;q0++){var t0=J0.attrs[q0];if(U0&&t0===u)U0=!1;else if(!U0&&(t0==='"'||t0==="'"))U0=!0,u=t0;else if(t0==="*"||t0==="#"||t0==="!"){var E0=q0+1;while(E0<J0.attrs.length&&J0.attrs[E0]!=="="&&J0.attrs[E0]!==" "&&J0.attrs[E0]!=="\t")E0++;if(E0<J0.attrs.length&&J0.attrs[E0]==="=")return!1}}}var Y0=$.slice(V,J0.endPos),w1=J0.tagName.toLowerCase(),m=Y0,C0=m.indexOf(">");if(C0!==-1){m=m.slice(C0+1);var R0="</"+w1+">",O0=m.indexOf(R0);if(O0!==-1)m=m.slice(0,O0)}var v0=[];if(m.trim()&&G){var d0={...J,inline:!1,inHTML:!0},L0=m.trim();if(F$.test(L0)||O$.test(L0)||H$.test(L0))v0=i9(L0,d0,G);else if(L0)d0.inline=!0,v0=a1(L0,0,L0.length,d0,G)}var i0=J0.whitespaceBeforeAttrs+J0.attrs,D0=c1(i0,w1,J0.tagName,G),G1={type:O.htmlBlock,tag:J0.tagName,attrs:D0,children:v0,rawText:Y0,text:m,verbatim:!0,endPos:J0.endPos};return M(V),Y.push(G1),V=G1.endPos,Q=V,!0},M=function(f0){if(f0>Q){var Y1=$.slice(Q,f0);Y.push({type:O.text,text:A?M9(Y1):Y1}),Q=f0,A=!1}};while(V<X){var v=b($,V),S=w6(v,H);if(S===0){if(v===P9)A=!0;V++;while(V<X){if(v=b($,V),v>=c0)break;if(v===P9)A=!0;var N=g9[v];if(N!==0){if(H&&N===1&&(v===B1||v===s1||v===f1)){V++;continue}break}V++}continue}if(v===e0){var x=V,T=0;while(V+T<X){if(b($,V+T)!==e0)break;T++}if(T>0){var B=V+T,y=-1,w=B;while(w<X){while(w<X&&b($,w)!==e0)w++;if(w>=X)break;var R=0;while(w+R<X&&b($,w+R)===e0)R++;if(R>T)R=T;var f=w+R;if(R===T&&(w<=B||b($,w-1)!==e0)&&(f>=X||b($,f)!==e0)){y=w,w=f;break}w++}if(y!==-1){var E=$.slice(B,y),P=!1;for(var g=0;g<E.length;g++){var h=b(E,g);if(h===d||h===V0){P=!0;break}}var L=E;if(P)L=E.replace(/\r\n/g," ").replace(/\r/g," ").replace(/\n/g," ");if(L.length>0){var a=b(L,0),i=b(L,L.length-1);if(a===C&&i===C){for(var j0=1;j0<L.length-1;j0++)if(b(L,j0)!==C){L=L.slice(1,L.length-1);break}}}M(x),Y.push({type:O.codeInline,text:L}),V=w,Q=V;continue}if(W&&q===-1){q=x,M(x),X=x;break}V=B;continue}}if(!_&&!H&&(v===B1||v===s1||v===f1)){var w0=null,_0=V+1<X?b($,V+1):0,T0=V+2<X?b($,V+2):0,p=V+3<X?b($,V+3):0,U1=V+4<X?b($,V+4):0,G0=V+5<X?b($,V+5):0;if(v===s1&&_0===s9&&T0===s9&&p===B$)w0="h";else if(v===f1&&_0===f1&&T0===f1&&p===f9)w0="w";else if(v===B1&&_0===s9&&T0===B$&&p===I9&&U1===J9&&G0===J9)w0="f";if(w0){var P0=I$($,V,J,G,w0);if(P0){M(V),Y.push(P0),V=P0.endPos,Q=V;continue}}}if(!_&&!H&&v===x9){var M0=I$($,V,J,G,"@");if(M0&&"emailStart"in M0){var{emailStart:Q0,endPos:r0}=M0,I0=[];for(var f=K.length-1;f>=0;f--){var k0=K[f];if(k0.sourcePos>=Q0&&k0.sourcePos<r0){if(k0.nodeIndex>=0&&k0.nodeIndex<Y.length)Y.splice(k0.nodeIndex,1),I0.push(k0.nodeIndex);K.splice(f,1)}}if(Q0<Q){for(var w=Y.length-1;w>=0;w--)if(Y[w].type===O.text){Y.splice(w,1),I0.push(w);break}Q=Q0}if(I0.length){I0.sort(function(f0,Y1){return f0-Y1});var y1=0;for(var r=0;r<K.length;r++){var k0=K[r];while(y1<I0.length&&I0[y1]<k0.nodeIndex)y1++;k0.nodeIndex-=y1}}M(Q0),Y.push(M0),V=r0,Q=V;continue}}if(v===j9){if(F(!0,!1))continue}if(v===l1){if(V+1<X&&b($,V+1)===d){var K0=V+2;while(K0<X&&b($,K0)===C)K0++;if(K0>=X){V++;continue}M(V),Y.push({type:O.breakLine}),V+=2;while(V<X&&b($,V)===C)V++;Q=V;continue}var B0=V+1<X?$[V+1]:"";if(B0&&"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~".indexOf(B0)!==-1){M(V),Y.push({type:O.text,text:B0==="&"?"&​":B0}),V+=2,Q=V;continue}}if(v===p1){if(!_){if(V+1<X&&$[V+1]==="^"){var m0=V+2;while(m0<X&&$[m0]!=="]")m0++;if(m0<X){var H0=$.slice(V+2,m0);M(V),Y.push({type:O.footnoteReference,target:`#${G.slugify(H0)}`,text:H0}),V=m0+1,Q=V;continue}}if(J.inList&&V+2<X&&b($,V+2)===H9){var z0=b($,V+1);if(z0===C||z0===N$||z0===b$){M(V),Y.push({type:O.gfmTask,completed:z0===N$||z0===b$}),V+=3,Q=V;continue}}}var e=!1;if(V>Z&&$[V-1]==="!"){var l0=0;for(var X0=V-2;X0>=Z&&$[X0]==="\\";X0--)l0++;if((l0&1)===0){if(e=!0,Q<V-1)M(V-1);if(Y.length>0&&Y[Y.length-1].type===O.text){var $0=Y[Y.length-1];if($0.text.endsWith("!")){if($0.text=$0.text.slice(0,-1),!$0.text)Y.pop()}}}}if(!e)M(V);if(Q=V+1,!_||e)U.push({type:e?"image":"link",pos:e?V-1:V,resultIdx:Y.length,inAnchor:_});V++;continue}if(v===H9&&U.length>0){var s=U[U.length-1],s0=s.pos+(s.type==="image"?2:1),Z1=V;M(V);var Q1=V+1,O1=n$(Y,s),_1=s.type==="link"&&kZ(O1),R1=!1;if(!_1&&Q1<X&&$[Q1]==="("){var F0=h6($,Q1+1,!0);if(F0){bZ(Y,K,U,s,s0,Z1,G.sanitizer(Q$(F0.target),"a","href"),F0.title?Q$(F0.title):void 0),V=F0.endPos,Q=V;continue}}var o0=J.refs||{};e9(o0);var W1=null,k1=V;if(Q1<X&&$[Q1]==="["){var q1=Q1+1,w=q1;while(w<X&&$[w]!=="]")w++;if(w<X)W1=$.slice(q1,w),k1=w,R1=!0}if(!R1||W1==="")W1=$.slice(s0,Z1);var h0=hZ(W1);if(!_1&&o0&&o0[h0]){var z1=o0[h0];bZ(Y,K,U,s,s0,Z1,z1.target,z1.title),V=k1+1,Q=V;continue}var L1=s.resultIdx;if(U.pop(),Y.length=L1,W){if(Y.push(...O1),Q1<X&&$[Q1]==="(")return Y}else{if(s.type==="image")Y.push({type:O.text,text:"!"});Y.push({type:O.text,text:"["},...O1,{type:O.text,text:"]"})}for(var g=0;g<K.length;g++)if(K[g].nodeIndex>=L1)K[g].nodeIndex++;V++,Q=V;continue}if(v===E9||v===Z9||v===$9||v===r1){var M1=$[V],o=V,J1=v9($,V,M1);if((M1==="~"||M1==="=")&&J1!==2){V++;continue}var D1=o+J1,n0=BZ($,o,D1,X,0),_9=BZ($,o,D1,Z,1),T1=n0,S1=_9;if(M1==="_"&&n0&&_9){if(o>0){var q9=$[o-1],N9=b(q9);T1=z$(N9,q9)}if(D1<X){var z9=$[D1],A1=b(z9);S1=z$(A1,z9)}}M(o),K.push({nodeIndex:Y.length,type:M1,length:J1,canOpen:T1,canClose:S1,active:!0,sourcePos:o,inAnchor:_}),Y.push({type:O.text,text:$.slice(o,o+J1)}),V=o+J1,Q=V;continue}if(v===d){var X0=V-1,m1=0;while(X0>=Q&&b($,X0)===C)m1++,X0--;if(m1>=2){var K0=V+1;while(K0<X&&b($,K0)===C)K0++;if(K0>=X){M(X0+1),V=X,Q=X;continue}M(X0+1),Y.push({type:O.breakLine}),V++;while(V<X&&b($,V)===C)V++;Q=V;continue}var E1=V>Q?b($,V-1):0,z0=V+1<X?b($,V+1):0,x1=V>Q&&E1===C&&z0===C?V-1:V;if(M(x1),Y.push({type:O.text,text:`
`}),Q=V+1,V>Z&&E1===C&&Q<X&&b($,Q)===C)Q++;V=Q;continue}if(v===P9)A=!0;V++;while(V<X){var v=b($,V);if(v>=c0)break;if(v===P9)A=!0;var N=g9[v];if(N===0){V++;continue}if(N===1&&(v===B1||v===s1||v===f1)&&H){V++;continue}break}}if(M(V),K.length)rZ(Y,K,null);if(W){var A0=Y.length;for(var N0=D.length-1;N0>=0;N0--){var p0=D[N0];if(p0<Y.length&&Y[p0].type===O.htmlBlock){var P1=Y[p0];if(!K9(P1.tag)&&(!P1.children||P1.children.length===0)){if(Y.splice(p0,1),p0<A0)A0--;for(var g=0;g<K.length;g++)if(K[g].nodeIndex>p0)K[g].nodeIndex--;for(var g=N0+1;g<D.length;g++)if(D[g]>p0)D[g]--}}}if(q!==-1&&q<A0){for(var u0=Y.length-1;u0>=0;u0--)if(Y[u0].type===O.text){A0=u0;break}}if(j!==-1&&j<A0){for(var u0=Y.length-1;u0>=0;u0--)if(Y[u0].type===O.text){A0=u0;break}}for(var w=K.length-1;w>=0;w--)if(K[w].active&&K[w].nodeIndex<A0){if(Y.splice(K[w].nodeIndex,1),K[w].nodeIndex<A0)A0--;for(var f=0;f<w;f++)if(K[f].nodeIndex>K[w].nodeIndex)K[f].nodeIndex--}if(A0<Y.length)Y.length=A0;return Y}if(U.length){U.sort(function(f0,Y1){return f0.resultIdx-Y1.resultIdx});for(var w=0;w<U.length;w++)Y.splice(U[w].resultIdx+w,0,{type:O.text,text:U[w].type==="image"?"![":"["})}return Y}function C6($,Z,X,J,G){var Y=!1;for(var K=0;K<Z.length;K++)if(Z[K].sourcePos>=J&&Z[K].sourcePos<G){Y=!0;break}if(!Y)return;var U=n$($,X),V=[];for(var K=0;K<Z.length;K++){var Q=Z[K];if(Q.sourcePos>=J&&Q.sourcePos<G)V.push({nodeIndex:Q.nodeIndex-X.resultIdx,type:Q.type,length:Q.length,canOpen:Q.canOpen,canClose:Q.canClose,active:Q.active,sourcePos:Q.sourcePos,inAnchor:Q.inAnchor})}rZ(U,V,null),$.length=X.resultIdx;for(var H=0;H<U.length;H++)$.push(U[H]);var A=[];for(var K=0;K<Z.length;K++)if(Z[K].sourcePos<J||Z[K].sourcePos>=G)A.push(Z[K]);Z.length=0;for(var H=0;H<A.length;H++)Z.push(A[H])}function k6($,Z,X,J){if($.type==="link")return{type:O.link,target:X,title:J,children:Z};return{type:O.image,target:X||"",alt:i$(Z),title:J}}function n$($,Z){return $.slice(Z.resultIdx)}function bZ($,Z,X,J,G,Y,K,U){C6($,Z,J,G,Y);var V=n$($,J);X.pop(),$.length=J.resultIdx,$.push(k6(J,V,K,U))}function m6($,Z,X){let J=g0($,Z),G=J<$.length&&$[J]==="<";if(G)J++;let Y=J;if(G&&J<$.length&&$[J]===">")return{target:"",endPos:J+1,hadSpace:!1};let K,U;var V=!1;if(G){U=J;while(U<$.length&&$[U]!==">"){let A=$[U];if(A===`
`||A==="\r"||A==="<")return null;if(A==="\\"){U+=2;continue}U++}if(U>=$.length||$[U]!==">")return null;U++;let Q=Y;while(Q<U-1&&F1($[Q]))Q++;let H=U-1;while(H>Q&&F1($[H-1]))H--;K=$.slice(Q,H),J=U}else{let Q=0;U=J;while(U<$.length){let H=$[U];if(H===" "||H==="\t"||H===`
`){V=!0;break}if(!X&&H===")")break;if(X&&H==="("){if(U>0&&$[U-1]==="\\"){U++;continue}Q++,U++;continue}if(X&&H===")"){if(U>0&&$[U-1]==="\\"){U++;continue}if(Q===0)break;Q--,U++;continue}U++}K=$.slice(Y,U),J=U}return{target:K,endPos:J,hadSpace:V}}function yZ($,Z,X,J){let G=Z,Y=0;while(G<$.length){let U=$[G];if(F1(U))G++;else if(U===`
`){if(Y>=1)break;Y++,G++}else if(V9(U))break;else break}if(X&&!J){if(G>=$.length||$[G]!=='"'&&$[G]!=="'"&&$[G]!=="(")return{title:void 0,endPos:G}}let K=void 0;if(G<$.length){let U=$[G];if(U==='"'||U==="'"){G++;let V=G;while(G<$.length&&$[G]!==U){if($[G]==="\\")G++;G++}if(G<$.length)K=$.slice(V,G),G++}else if(U==="("){G++;let V=G,Q=1;while(G<$.length&&Q>0){if($[G]==="\\"&&G+1<$.length)G++;else if($[G]==="(")Q++;else if($[G]===")")Q--;G++}if(Q===0)K=$.slice(V,G-1)}}return G=g0($,G),{title:K,endPos:G}}function h6($,Z,X){let J=m6($,Z,X);if(!J)return null;let G=Z;G=g0($,G);let Y=G<$.length&&$[G]==="<";if(Y&&J.target===""&&J.endPos===G+2){let U=yZ($,J.endPos,!1,Y);if(U.endPos>=$.length||$[U.endPos]!==")")return null;return{target:"",title:U.title,endPos:U.endPos+1}}let K=yZ($,J.endPos,J.hadSpace,Y);if(K.endPos>=$.length||$[K.endPos]!==")")return null;return{target:J.target,title:K.title,endPos:K.endPos+1}}var p6;((J)=>{J[J.URI=0]="URI";J[J.EMAIL=1]="EMAIL";J[J.ANGLE=2]="ANGLE"})(p6||={});function Q9($){return $>=H1&&$<=d1||$>=N1&&$<=o1}function mZ($){let Z=$.indexOf(":");if(Z<2||Z>32)return!1;let X=b($);if(!Q9(X))return!1;for(let J=1;J<Z;J++){let G=$[J],Y=b(G);if(!q$(G)&&G!=="+"&&G!=="."&&G!=="-")return!1}return!0}function RZ($,Z,X){if(Z===0)return!0;return(X?` 	
\r*_~(`:` 	
*_~(`).indexOf($[Z-1])!==-1}function J$($,Z,X,J,G){let Y=J($,"a","href");if(!Y)return null;return{type:O.link,target:Y,children:[{type:O.text,text:Z}],endPos:X,...G!==void 0?{emailStart:G}:{}}}function P$($,Z,X,J,G){if(X.inAnchor||G!==2&&J.disableAutoLink)return null;if(G===2){if($[Z]!=="<")return null;let q=Z+1;while(q<$.length&&$[q]!==">"){let T=b($,q);if(T===C||T===l||T===d||T===V0||T<C)return null;q++}if(q>=$.length||$[q]!==">")return null;let j=$.slice(Z+1,q);if(!j.length)return null;let D=j.indexOf("\\")!==-1,F=mZ(j),M=c(j,"http://")||c(j,"https://"),v=!1;if(!F&&!M&&j.length>=7){let T=j[0];if(T==="m"||T==="M"){let B=j.toLowerCase();if(c(B,"mailto:")){v=!0;let y=B.indexOf(":"),w=j.slice(y+1);return J$("mailto:"+w,j,q+1,J.sanitizer)}}}let S=!D&&j.indexOf("@")!==-1&&j.indexOf("//")===-1&&!F;if(!M&&!v&&!S&&!F)return null;let N=j,x=j;if(!v&&!F&&!M&&S)N="mailto:"+j;return J$(N,x,q+1,J.sanitizer)}if(G===1){let q=Z;while(q>0&&(q$($[q-1])||".+-_".indexOf($[q-1])!==-1))q--;if(q>=Z||!RZ($,q,!0))return null;let j=Z+1,D=!1;while(j<$.length){let v=$[j];if(v===".")D=!0,j++;else if(q$(v)||v==="-"||v==="_")j++;else break}if(!D||j<=Z+1)return null;while(j>Z+1&&$[j-1]===".")j--;if(j>Z+1&&($[j-1]==="-"||$[j-1]==="_"))return null;if(j-(Z+1)<1e4){if($.indexOf(".",Z+1)>=j||$.indexOf(".",Z+1)===-1)return null}else if($.slice(Z+1,j).indexOf(".")===-1)return null;let M=$.slice(q,j);return J$("mailto:"+M,M,j,J.sanitizer,q)}let Y=c($,"http://",Z)||c($,"https://",Z),K=!Y&&c($,"ftp://",Z),U=!Y&&!K&&c($,"www.",Z);if(!(Y||K||U)||!RZ($,Z,!1))return null;var V=Z+(Y?b($,Z+4)===_Z?8:7:K?6:4),Q=V;while(V<$.length){let q=b($,V);if(q===C||q===l||q===d||q===j9||q===u1)break;V++}if(V<=Q)return null;let H=V;while(H>Q){let q=$[H-1];if(H>Q+1&&$[H-2]==="\\")break;if(q==="?"||q==="!"||q==="."||q===","||q===":"||q==="*"||q==="_"||q==="~")H--;else if(q===";"){let j=H-2;while(j>=Q&&$[j]!=="&"&&$[j]!==" ")j--;if(j>=Q&&$[j]==="&"){let D=$.slice(j+1,H-1);if(D.length>=2&&D.length<=10&&/^[a-zA-Z0-9]+$/.test(D)&&(D==="lt"||D==="gt"||D.length>=3&&(c(D,"amp")||c(D,"apos")||c(D,"quot")||c(D,"nbsp")||/^[a-z]{3,10}$/.test(D))))break;H=j;break}H--}else if(q===")"){let j=0,D=0;for(let F=Q;F<H;F++){if($[F]==="(")j++;if($[F]===")")D++}if(D>j)H--;else break}else break}if(V=H,V<=Q)return null;var A=Q,_=-1,z=-1;while(A<V){let q=b($,A);if(q>=H1&&q<=d1||q>=N1&&q<=o1||q>=g1&&q<=C1||q===j1||q===Z9||q===f9){if(q===f9)z=_,_=A;A++;continue}break}if(A===Q||_===-1)return null;if(z===-1)z=Q-1;for(let q=z+1;q<_;q++)if($[q]==="_")return null;for(let q=_+1;q<A;q++)if($[q]==="_")return null;let W=$.slice(Z,V);return J$(U?"http://"+W:W,W,V,J.sanitizer)}function I$($,Z,X,J,G){if(G==="<")return P$($,Z,X,J,2);if(G==="h"||G==="f"||G==="w")return P$($,Z,X,J,0);if(G==="@")return P$($,Z,X,J,1);return null}function hZ($){var Z=$.trim(),X=Z.replace(/[\s\t\n\r]+/g," ");if(X.indexOf("ẞ")!==-1)return X.replace(/\u1E9E/g,"ss").toLowerCase();return X.toLowerCase()}function u6($,Z,X){if(Z+3>=$.length||$[Z]!=="[")return null;let J=$[Z+1];if(J!==" "&&J!=="x"&&J!=="X")return null;if($[Z+2]!=="]")return null;return{type:O.gfmTask,completed:J.toLowerCase()==="x",endPos:Z+3}}function t$($,Z,X,J){let{inline:G,inList:Y,inBlockQuote:K}=Z;if(J.inline!==void 0)Z.inline=J.inline;if(J.list!==void 0)Z.inList=J.list;if(J.inBlockQuote!==void 0)Z.inBlockQuote=J.inBlockQuote;let U=i9($,Z,X);return Z.inline=G,Z.inList=Y,Z.inBlockQuote=K,U}function l9($,Z,X,J,G){return W$(J,!0,()=>a1($,Z,X,J,G))}function d9($,Z,X,J){var G=$[Z];if(G===void 0)return null;var Y=Z,K=null,U=G,V=null,Q=b(G),H=Q===C||Q===l;if(H){if(V=I($,Z),K=t($,Z,V),Y=Z+K.charCount,Y>=$.length)return Y$($,Z,X);U=$[Y]}var A=K?K.spaceEquivalent:0;if(A>=4){if(H)return Y$($,Z,X);return null}var _=b(U);if(_===u1){var z=uZ($,Z,X,J);if(z)return z}else if(_===Z9)return D$($,Z,X,J);else if(_===j1||_===E9||_===DZ){var W=D$($,Z,X,J);if(W)return W;var q=s$($,Z,X,J);if(q)return q}else if(_>=g1&&_<=C1){var q=s$($,Z,X,J);if(q)return q}else if(_===S9)return l6($,Y,X,J);else if(_===p1)return B9($,Y,X,J,Y+1<$.length&&b($,Y+1)===T9);else if(_===j9&&!J.disableParsingRawHTML)return M$($,Y,X,J);else if(_===e0||_===$9){if(!V)V=I($,Z);if(!K)K=t($,Z,V);if(K.spaceEquivalent<=3)return e$($,Y,X,J)}else if(_===jZ)return aZ($,Z,X,J);if(H)return Y$($,Z,X);return null}function i9($,Z,X){let J=[],G=0;while(G<$.length){while(G<$.length&&$[G]===`
`)G++;if(G>=$.length)break;var Y=$[G];if(Z.inList&&J.length>0){var K=J[J.length-1];if(K?.type===O.paragraph){var U=K,V=b(Y);if(V===j1||V===r1||V===C||V===l){var Q=I($,G),H=$.slice(G,Q),A=t($,G,Q);if(A.spaceEquivalent<4){var _=H.slice(A.charCount).trim();if(cZ(J,_,X)){G=Q+(Q<$.length&&$[Q]===`
`?1:0);continue}}}}}var z=d9($,G,Z,X);if(z){J.push(z),G=z.endPos;continue}var W=pZ($,G,Z,X);if(W){J.push(W),G=W.endPos;continue}var q=$.slice(G).trim();if(q){if(Z.inBlockQuote&&J.length>0){let M=function(v){if(v.type===O.blockQuote){var S=v;if(S.children&&S.children.length>0){var N=S.children[S.children.length-1];if(N.type===O.paragraph)return N}}else if(v.type===O.orderedList||v.type===O.unorderedList){var x=v;if(x.items&&x.items.length>0){var T=x.items[x.items.length-1];if(T&&T.length>0){var B=T[T.length-1],y=M(B);if(y)return y}}}return null};for(var j=J.length-1;j>=0;j--){var U=M(J[j]);if(U){var F=c$($,G,Z,X);if(F){var D=F;if(U.children&&D.children)U.children.push({type:O.text,text:`
`},...D.children);G=F.endPos;continue}}}}var F=c$($,G,Z,X);if(F){J.push(F),G=F.endPos;continue}}G++}return J}function l6($,Z,X,J){if(X.inline)return null;let G=I($,Z),Y=t($,Z,G,3);if(Y.spaceEquivalent>3&&!X.inList)return null;var K=Z+Y.charCount;if(K>=$.length||$[K]!=="#")return null;let U=v9($,K,"#",6);if(K+=U,K>=$.length)return null;let V=$[K];if(V===`
`||V==="\r"){let z=I($,K);return{..._$(U,[],"",J.slugify),endPos:z+(z<$.length?1:0)}}if(V!==" "&&V!=="\t")return null;let Q=K,H=I($,Q);var A=$.slice(Q,H).replace(N6,"").trim();let _=l9(A,0,A.length,X,J);return{..._$(U,_,A,J.slugify),endPos:H+(H<$.length?1:0)}}function pZ($,Z,X,J){if(X.inline||X.inBlockQuote||X.inList)return null;let G=I($,Z);if(G>=$.length)return null;let Y=k($,G),K=-1,U=null;for(var V=0;Y<$.length&&V<10;V++){let y=I($,Y);if(y>=$.length)break;var Q=Y;while(Q<y&&(b($,Q)===C||b($,Q)===l||b($,Q)===V0))Q++;if(Q>=y)break;var H=0,A=Y;while(A<y&&H<3&&b($,A)===C)H++,A++;if(A<y){let w=b($,A);if(w===r1||w===j1){let R=$[A];var _=0,z=!1,W=A;while(W<y){let f=b($,W);if(f===w){if(z){_=0;break}_++}else if(f===C||f===l)z=!0;else{_=0;break}W++}if(_>=1){K=y,U=R;break}}}Y=k($,y)}if(!U)return null;let q=b($,Z);if(q===S9||q===u1||$[Z]==="|")return null;let j=Z;var D=Z,F=!1;while(D<Y){let y=I($,D);if(y>=Y)break;var M=D;while(M<y&&(b($,M)===C||b($,M)===l||b($,M)===V0))M++;if(M<y)F=!0,j=y;D=k($,y)}if(!F)return null;let v=$.slice(Z,j);var S=0,N=v.length;while(S<N&&(v.charCodeAt(S)===C||v.charCodeAt(S)===l||v.charCodeAt(S)===V0||v.charCodeAt(S)===d))S++;while(N>S&&(v.charCodeAt(N-1)===C||v.charCodeAt(N-1)===l||v.charCodeAt(N-1)===V0||v.charCodeAt(N-1)===d))N--;let x=v.slice(S,N);if(!x)return null;let T=U==="="?1:2,B=l9(x,0,x.length,X,J);return{..._$(T,B,x,J.slugify),endPos:K+(K<$.length?1:0)}}function c$($,Z,X,J){if(X.inline)return null;if(J.optimizeForStreaming&&$[Z]==="|"){var G=Math.min(500,$.length-Z),Y=$.substr(Z,G),K=0,U=!1;for(var V=0;V<Y.length;V++){if(Y[V]==="|")K++;if(Y[V]==="-"||Y[V]===":")U=!0}if(K>=3&&U){var Q=I($,Z);while(Q<$.length){var H=k($,Q);if(H>=$.length)break;var A=I($,H),_=$.slice(H,A);if(_.indexOf("|")===-1&&_.indexOf("-")===-1)break;if(Q=A,A>=$.length)break}return{type:O.paragraph,children:[],endPos:k($,Q)}}}let z=Z,W=$.length;while(z<W){let r=I($,z),K0=!0;for(let $0=z;$0<r;$0++){let s=b($,$0);if(s!==C&&s!==l&&s!==V0){K0=!1;break}}if(K0){z=r;break}if(r>=W){z=W;break}let B0=k($,r);if(B0>=W){z=W;break}let m0=I($,B0),H0=!0,z0="";for(let $0=B0;$0<m0;$0++){let s=b($,$0);if(s!==C&&s!==l&&s!==V0){if(H0=!1,z0==="")z0=$[$0];break}}if(H0){z=r;break}let e=!1,l0=t($,B0,m0),X0=l0.spaceEquivalent===4&&l0.charCount===4;if(z0==="<"&&!X0&&!J.disableParsingRawHTML){let s=B0,s0=0;while(s<m0&&s0<3){let Z1=b($,s);if(Z1===C||Z1===l)s0++,s++;else break}if(s<m0&&$[s]==="<"){var q=M$($,s,{...X,inline:!1},J);if(q)e=!("canInterruptParagraph"in q)||q.canInterruptParagraph}}if(X0)e=!1;else if(!e&&z0&&u9(z0))if(z0==="["){let $0=B0;if($0+1>=W||$[$0+1]!=="^")e=!1;else e=!0}else if(z0==="*"||z0==="+")if(D$($,B0,X,J))e=!0;else{let s=B0+1<W?$[B0+1]:"";if(s&&F1(s))e=!0;else e=!1}else{let $0=d9($,B0,X,J);if($0)if($0.type===O.codeBlock)if(t($,B0,m0).spaceEquivalent>=4)e=!1;else e=!0;else if($0.type===O.unorderedList||$0.type===O.orderedList)if($0.type===O.orderedList)e=$0.start===1;else e=!0;else if(z0==="-")if(z>Z)e=!0;else e=!0;else if($0.type===O.ref)e=!1;else e=!0}if(e){z=r;break}z=k($,r)}if(z<=Z)return null;var j=Z,D=z;while(j<D){let r=b($,j);if(r===C||r===l)j++;else break}let F=I($,j);var M=D>F,v;if(!M)v=$.slice(j,D);else{var S=[],N=j,x=0;while(N<D){var T=I($,N);if(T>D)T=D;if(x===0)S.push($.slice(N,T));else{var B=0;while(B<4&&N+B<T)if(b($,N+B)===C)B++;else break;var y=B===4?N+4:N;S.push($.slice(y,T))}if(T<D){let r=b($,T);if(r===V0||r===d)S.push(`
`),N=k($,T);else N=D}else N=D;x++}v=S.join("")}var w=v.length;while(w>0){var R=v.charCodeAt(w-1);if(R===C||R===l)w--;else break}if(w<v.length)v=v.slice(0,w);let f=!1;for(let r=0;r<v.length;r++){let K0=v.charCodeAt(r);if(K0!==C&&K0!==l&&K0!==d&&K0!==V0){f=!0;break}}if(!f)return null;var E=v,P=z,g=-1,h=z-1;while(h>=j){if(b($,h)===d){g=h;break}h--}if(g>=0){var L=!1;for(var a=j;a<g;a++){let r=b($,a);if(r!==C&&r!==l&&r!==d&&r!==V0){L=!0;break}}if(!L){var i=g+1;while(i<$.length){let r=b($,i);if(r===C||r===l)i++;else break}var j0=i-(g+1);if(j0<4&&i<$.length&&$[i]==="["){var w0={...X,inline:!1},_0=B9($,i,w0,J,!1);if(_0){var T0=0,h=j;while(h<=g){let K0=$.indexOf(`
`,h);if(K0===-1||K0>g)break;T0++,h=K0+1}var p=0,U1=0;h=0;while(h<v.length){let K0=v.indexOf(`
`,h);if(K0===-1)break;if(U1++,U1===T0){p=K0+1;break}h=K0+1}if(p>0)E=v.slice(0,p-1);P=_0.endPos,X.refs=w0.refs}}}}let G0=l9(E,0,E.length,X,J);var P0={type:O.paragraph,children:G0,endPos:P};if(G0.length>0){var M0=[];for(var Q0=G0.length-1;Q0>=0;Q0--){var r0=G0[Q0];if(r0.type===O.htmlSelfClosing&&r0.isClosingTag===!0)M0.push(Q0);else if(r0.type===O.text){var I0=r0;if(I0.text&&I0.text.trim().length>0)break}else break}if(M0.length>=3){var k0=M0[M0.length-1],y1=G0.slice(k0+1);G0.splice(k0+1),P0.removedClosingTags=y1}}return P0}function d6($,Z){if(Z!==0)return null;let X=L$($);if(!X?.hasValidYaml)return null;let J=X.endPos-1;if(J>0&&$[J-1]==="\r")J--;let G=i1($.slice(0,J));return{type:O.frontmatter,text:G,endPos:X.endPos}}function D$($,Z,X,J){let G=I($,Z),Y=t($,Z,G,3);if(Y.spaceEquivalent>3)return null;var K=Z+Y.charCount;if(K>=G)return null;let U=$[K];if(U!=="-"&&U!=="*"&&U!=="_")return null;var V=0,Q=K;while(Q<G){var H=$[Q];if(H===U)V++;else if(H!==" "&&H!=="\t")return null;Q++}if(V<3)return null;return{type:O.breakThematic,endPos:k($,G)}}function t($,Z,X,J){let G=0,Y=0,K=Z;while(K<X){var U=b($,K);if(U!==C&&U!==l)break;if(J!==void 0&&G>=J)break;if(U===l)G+=4-G%4;else G+=1;Y++,K++}return{spaceEquivalent:G,charCount:Y}}function LZ($,Z,X,J){let G=0,Y=0,K=J;for(let A=Z;A<X&&Y<4;A++){var U=b($,A);if(U===l){let _=4-K%4;if(Y+=_,G++,K+=_,Y>=4)break}else if(U===C){if(Y++,G++,K++,Y>=4)break}else break}let V=$.slice(Z+G,X);var Q=0;for(var H=Z;H<X;H++){if($[H]==="\t")Q++;if(Q>=2)break}if(Q>=2&&c(V,"\t")&&J>0)V="  "+V.slice(1);return V}function Y$($,Z,X){let J=I($,Z),G=t($,Z,J);if(G.spaceEquivalent<4)return null;let Y=G.spaceEquivalent,K=I($,Z+G.charCount),U=Z,V=0;var Q=U-1;while(Q>=0&&$[Q]!==`
`&&$[Q]!=="\r")Q--;Q++;while(Q<U){if($[Q]==="\t")V=V+4-V%4;else V++;Q++}let H=LZ($,U,K,V),A=k($,K);if(A>=$.length){if(!H.trim())return null;return{type:O.codeBlock,text:H,endPos:A}}var _=[];_.push(H);let z=A;while(z<$.length){let q=I($,z);if(b1($,z,q)){let j=q+1;if(j<$.length){let D=I($,j),F=t($,j,D),M=$[j+F.charCount];if(M&&M!==`
`&&(F.spaceEquivalent<4||M===">"&&F.spaceEquivalent<Y))break}_.push(`
`)}else{if(t($,z,q).spaceEquivalent<4)break;let D=LZ($,z,q,0);_.push(`
`),_.push(D)}z=k($,q)}let W=_.join("");if(W=W.replace(T6,""),!W.trim())return null;return{type:O.codeBlock,text:W,endPos:z}}function e$($,Z,X,J){let G=$[Z];if(G!=="`"&&G!=="~")return null;let Y=v9($,Z,G);if(Y<3)return null;let K=Z;while(K>0&&b($,K-1)!==d)K--;let U=t($,K,Z),V=U.spaceEquivalent,Q=V;if(V===4&&U.charCount===4)V=0,Q=4;if(V>=4)return null;let H=g0($,Z+Y),A=I($,H),_=$.slice(H,A).trim();if(G==="`"&&_.indexOf("`")!==-1)return null;_=_.replace(h$,"$1");let z=_.indexOf(" "),W=z>0?_.slice(0,z):_,q=z>0?_.slice(z+1).trim():"",j=q&&/=\s*["']/.test(q)?c1(q,"code","code",J):void 0,D=k($,A),F=D,M=!1;while(F<$.length){let x=I($,F),T=F,B=0;while(T<x){let y=b($,T);if(y===C){if(B++,T++,B>=4)break}else if(y===l){if(B+=4-B%4,T++,B>=4)break}else break}if(B<4){let y=v9($,T,G,x-T);if(y>=Y){let w=T+y;while(w<x){let R=b($,w);if(R===C||R===l)w++;else break}if(w===x){M=!0;break}if(y>=3&&w<x){let R=T+y;if(!(R<x&&(b($,R)===C||b($,R)===l))){let E=!0;if(G==="`"){if($.slice(R,x).indexOf("`")!==-1)E=!1}if(E)break}}}}else if(Q===4&&V===0&&B===4){let y=v9($,T,G,x-T);if(y>=Y&&b1($,T+y,x)){M=!0;break}}F=k($,x)}let v=F>D&&$[F-1]===`
`?F-1:F;if(v>D&&$[v-1]==="\r")v--;let S=i1($.slice(D,v));if(Q)S=a$(S,Q);let N=M&&F<$.length?k($,I($,F)):F;return{type:O.codeBlock,text:S,lang:W,attrs:j,endPos:N}}function i6($,Z,X){for(var J=0;J<$.length;J++)if(!l$($[J])){let Y=t$($,Z,X,{inline:!1,inBlockQuote:!0});for(var G=0;G<Y.length;G++){let K=Y[G];if("endPos"in K)delete K.endPos}return Y}return[]}function uZ($,Z,X,J){if(X.inline)return null;let G=Z;while(G<$.length&&($[G]===" "||$[G]==="\t"))G++;if(G>=$.length||$[G]!==">")return null;let Y=Z;var K=[],U=void 0,V=!1,Q=-1,H=!1,A=null,_=null,z=0,W=!1;while(Y<$.length){let N=I($,Y),x=Y;while(x<N&&($[x]===" "||$[x]==="\t"))x++;if(x<N&&$[x]===">"){let T=x+1;if(T<N&&$[T]===" ")T++;let y=t($,T,N).spaceEquivalent>=4,w=!1,R=null,f=0;if(T<N){let P=$[T];if(P==="`"||P==="~"){let g=0,h=T;while(h<N&&$[h]===P&&g<20)g++,h++;if(g>=3)w=!0,R=P,f=g}}if(H&&A==="fenced"&&R===_&&f>=z)H=!1,A=null,_=null,z=0;else if(y||w)H=!0,A=y?"indented":"fenced",_=R,z=f;var q=!y&&!w;if(q){for(var j=T;j<N;j++)if(!l$($[j])){q=!1;break}}if(W=q,Q===-1&&!q)Q=K.length;if(!q)V=!0;let E=x+1;if(E<N&&$[E]==="\t"){K.push("  ");let P=4;for(let g=E+1;g<N;g++){let h=$[g];var D=b(h);if(D===l){let L=4-P%4;if(L===1)K.push(" ");else if(L===2)K.push("  ");else if(L===3)K.push("   ");else K.push(" ".repeat(L));P+=L}else K.push(h),P++}if(N<$.length)K.push(`
`)}else{let P=E;if(P<N&&$[P]===" ")P++;if(K.push($.slice(P,N)),N<$.length)K.push(`
`)}}else{var F=!0;for(var j=Y;j<N;j++)if(!l$($[j])){F=!1;break}if(F||H)break;if(t($,Y,N).spaceEquivalent===0){let B=d9($,Y,X,J);if(B&&B.type!==O.ref&&B.type!==O.codeBlock)break;if(W)break}if(K.push($.slice(Y,N)),N<$.length)K.push(`
`)}Y=k($,N)}if(Y===Z)return null;if(K.length>0&&K[K.length-1]===`
`)K.pop();let M=K.join("");if(M.length>=4&&M.charCodeAt(0)===p1&&M.charCodeAt(1)===F9){let N=M.indexOf(`]
`,2);if(N>2)U=M.slice(2,N),M=M.slice(N+2)}let v=i6(M,X,J),S={type:O.blockQuote,children:v,endPos:Y};if(U)S.alert=U;return S}function a$($,Z){return $.split(`
`).map(function(X){if(X.length===0)return X;let J=Z,G=0,Y=0,K=0;while(Y<X.length&&G<J)if(X[Y]===" ")G++,K++,Y++;else if(X[Y]==="\t"){let U=4-K%4;if(G+U<=J)G+=U,K+=U,Y++;else{let V=J-G,Q=Math.max(0,U-V);return" ".repeat(Q)+X.slice(Y+1)}}else break;return X.slice(Y)}).join(`
`)}function K$($,Z,X,J,G=!0){let Y=(G?`
`:"")+$,K=l9(Y,0,Y.length,X,J);if(Z.length>0&&Z[Z.length-1].type===O.paragraph)Z[Z.length-1].children.push(...K);else Z.push(...K)}function m9($){return $.some(function(Z){return Z.type===O.codeBlock||Z.type===O.paragraph||Z.type===O.blockQuote||Z.type===O.orderedList||Z.type===O.unorderedList||Z.type===O.heading})}function f$($){return!!$.match(o$)}function lZ($){if($.length===0)return $;var Z=$[$.length-1];if((Z.type===O.orderedList||Z.type===O.unorderedList)&&Z.items?.length>0)return lZ(Z.items.slice(-1)[0]);return $}function r$($,Z,X,J,G,Y,K){if(!c(G,"["))return null;var U={inline:!1,list:!1,refs:Y.refs||{}},V=B9($,Z+J.charCount,U,K,!1);return V?V.endPos:null}function TZ($,Z,X,J){if($.length!==1||!X)return!1;if($[0].length!==0)return!1;if(Z)return!0;if(!Z&&J.trim()==="")return!0;return!1}function SZ($,Z){var X=$.index||0;return Z?X+$[1].length+$[2].length+1:X+$[1].length+1}function j$($,Z,X,J,G){var Y=0,K=J+G,U=Z;while(U<X&&Y<4){var V=b($,U);if(V===C)Y++,K++;else if(V===l){var Q=4-K%4;if(Y+Q>4)break;Y+=Q,K+=Q}else break;U++}return{contentStartColumn:K,contentStartPos:U}}function g$($){var Z=$.match(o$);if(!Z)return null;if(Z[1])return{match:[$,Z[1],Z[2],Z[3]],ordered:!0,listItemRegex:p$};if(Z[4])return{match:[$,Z[4],Z[5],""],ordered:!0,listItemRegex:p$};if(Z[6])return{match:[$,Z[6],Z[7]],ordered:!1,listItemRegex:u$};if(Z[8])return{match:[$,Z[8],""],ordered:!1,listItemRegex:u$};return null}function n1($,Z,X,J,G,Y,K){if(Z.spaceEquivalent!==Y)return!1;var U=$.match(K);if(U)return X?U[2]===G:U[1]===J;var V=$.match(o$);if(!V)return!1;if(X)return V[4]&&V[5]===G;else return V[8]===J}function dZ($,Z,X,J){var G=Z,Y=X,K=Z[0];while(Y<$.length){var U=I($,Y),V=$.slice(Y,U),Q=c(V," ".repeat(J))?V.slice(J):V;if(c(Q.trim(),K)&&v9(Q.trim(),0,K)>=3)return{content:G,endPos:k($,U)};G+=`
`+Q,Y=k($,U)}return{content:G,endPos:Y}}function X$($,Z,X,J,G,Y,K,U,V,Q,H,A,_){var z=Q?void 0:V[1],W=Q?V[2]:void 0,q=Q?p$:u$,j=H;if(!H){var D=k($,Y),F=D;while(F<$.length){var M=I($,F),v=$.slice(F,M),S=t($,F,M),N=S.spaceEquivalent;if(b1($,F,M)){var x=k($,M);if(x<$.length){var T=I($,x),B=t($,x,T),y=B.spaceEquivalent,f=SZ(V,Q),E=G+U+f,P=j$($,E,Y,K,f),g=P.contentStartColumn;if(y+1>g){j=!0;break}}break}else if(N<=K){var w=v.slice(S.charCount),R=w.match(q);if(R&&(Q?R[2]===W:R[1]===z))break}F=k($,M)}}var f=SZ(V,Q),E=G+U+f,P=j$($,E,Y,K,f),g=P.contentStartColumn,h=J,L=k($,Y);if(c(J,"```")||c(J,"~~~")){var a=Q?V[1].length+V[2].length+1:V[1].length+1,i=dZ($,J,L,a);h=i.content,L=i.endPos}return Z.push(iZ(h,j,A,_)),X.push(g),{newCurrentPos:L,itemHasBlankLine:j}}function EZ($,Z,X,J,G,Y){if(G>J||Y.disableParsingRawHTML)return!1;let K=Z+X;if(K>=$.length||$[K]!=="<")return!1;return c6($,K)}function c6($,Z){if(Z>=$.length||$[Z]!=="<")return!1;let X=$.length,J=Z+1;if(J<X&&$[J]==="/")J++;if(J>=X)return!1;let G=b($,J);if(!Q9(G))return!1;J++;while(J<X){let K=$[J],U=b($,J);if(K===">"||K===" "||K==="\t"||K===`
`||K==="\r"||K==="/")break;if(K==="-"||K==="_"||Q9(U)||U>=48&&U<=57)J++;else return!1}let Y=0;while(J<X){let K=$[J],U=b($,J);if(Y===1){if(K==='"')Y=0;J++}else if(Y===2){if(K==="'")Y=0;J++}else if(K==='"')Y=1,J++;else if(K==="'")Y=2,J++;else if(K===">")return!0;else if(K==="/"&&J+1<X&&$[J+1]===">")return!0;else if(U===10||U===13)return!1;else J++}return!1}function xZ($,Z,X,J,G,Y,K,U,V,Q,H,A){let _=J,z=!1;while(_<$.length){let W=I($,_),q=t($,_,W),j=q.spaceEquivalent;if(b1($,_,W)){z=!0,_=k($,W);continue}let D=$.slice(_+q.charCount,W);if(j<=G&&n1(D,q,Y,K,U,G,V))break;if(j>=X){if(A&&z){let M=r$($,_,W,q,D,Q,H);if(M){_=M,z=!1;continue}}let F=V$($,_,W,q,X-1,X,Z,z,Q,H,void 0,G);if(F.processed){_=F.newPos,z=F.wasBlank;continue}}else break}return _}function PZ($,Z,X,J){let G=t$($,X,J,{inline:!1,list:!0});if(G.length>0)return!Z&&G.length===1&&G[0].type===O.paragraph?G[0].children:G;let Y=W$(X,!0,()=>a1($,0,$.length,X,J));return Z&&Y.length>0?[{type:O.paragraph,children:Y}]:Y}function iZ($,Z,X,J){let G=u6($,0,X);if(!(G&&(G.endPos>=$.length||$[G.endPos]===" ")))return PZ($,Z,X,J);let K=G.endPos<$.length?G.endPos+1:G.endPos,U=$.slice(K),V=PZ(U,Z,X,J),Q=[G];if(G.endPos<$.length)Q.push({type:O.text,text:" "});return Q.push(...V),Q}function IZ($,Z){if(!$[0])return!1;let X=$[0].indexOf(Z);if(X===-1)return!1;let J=X+Z.length;if(J>=$[0].length)return!1;let G=$[0][J];return G?b(G)===qZ:!1}function cZ($,Z,X){if($.length===0)return!1;let J=$[$.length-1],G=Z.trim();if(!c(G,"=")&&!c(G,"-")||G.length<1||!/^[=-]+[ \t]*$/.test(G))return!1;let Y=[],K="";if(J.type===O.paragraph){let Q=J;Y=Q.children,K=Q.children.map((H)=>H.type===O.text?H.text:"").join("").trim()}else if(J.type===O.text){let Q=[],H=$.length-1;while(H>=0&&$[H].type===O.text)Q.unshift($[H]),H--;if(Q.length>0)Y=Q,K=Q.map((A)=>A.text).join("").trim()}if(!K)return!1;let V=G[0]==="="?1:2;if(J.type===O.paragraph)$.pop();else if(J.type===O.text)while($.length>0&&$[$.length-1].type===O.text)$.pop();return $.push(_$(V,Y,K,X.slugify)),!0}function V$($,Z,X,J,G,Y,K,U,V,Q,H,A){let _=J.spaceEquivalent,z=$.slice(Z+J.charCount,X);if(_>=G+4){let D=Y$($,Z,V);if(D){let F=D,M=a$(F.text||"",Y);return K.push({...F,text:M}),{processed:!0,newPos:F.endPos,wasBlank:!1}}}let W=_-(Y-1);if(_+1>=Y&&W<=3){let D=Z+J.charCount;if(D<X){let F=$[D];if(F==="`"||F==="~"){let M=e$($,D,V,Q);if(M){let v=M,S=a$(v.text||"",Y-1);return K.push({...v,text:S,endPos:v.endPos}),{processed:!0,newPos:v.endPos,wasBlank:!1}}}if(F==="|"){let M=aZ($,D,V,Q);if(M){let v=M;return K.push(v),{processed:!0,newPos:v.endPos,wasBlank:!1}}}}}if(z.length>0&&(z[0]==="-"||z[0]==="*"||z[0]==="+"||z[0]>="0"&&z[0]<="9")){if(/^([-*+]|\d{1,9}[.)])\s+/.test(z)){let F=l9(z,0,z.length,V,Q);return K.push({type:O.text,text:`
`},...F),{processed:!0,newPos:k($,X),wasBlank:!1}}}let q=B6($,Z,K,z,V,Q);if(q!==null)return{processed:!0,newPos:q,wasBlank:!1};let j=t$(z,V,Q,{inline:!1,list:!0});if(j.length>0){if(H&&j[0].type===O.paragraph){let D=j[0];if(K.push({type:O.text,text:`
`},...D.children),j.length>1)K.push(...j.slice(1))}else if(!U&&j[0].type===O.paragraph&&K.length>0){let D=K[K.length-1],F=j[0];if(D.type===O.paragraph)D.children.push({type:O.text,text:`
`},...F.children);else if(D.type===O.heading)K.push(...F.children);else if(!m9(K))K.push({type:O.text,text:" "},...F.children);else K.push(...j);if(j.length>1)K.push(...j.slice(1))}else K.push(...j);return{processed:!0,newPos:k($,X),wasBlank:!1}}if(U){let D=W$(V,!0,()=>a1(z,0,z.length,V,Q));K.push({type:O.paragraph,children:D})}else K$(z,K,V,Q);return{processed:!0,newPos:k($,X),wasBlank:!1}}function s$($,Z,X,J){if(X.inline)return null;var G=X.inList;if(X.inList=!0,Z>0){var Y=b($,Z-1);if(Y!==d&&Y!==V0)return X.inList=G,null}var K=I($,Z),U=t($,Z,K);if(U.spaceEquivalent>3&&!X.inList)return X.inList=G,null;var V=$.slice(Z,K),Q=U.charCount,H=V.slice(Q),A=g$(H);if(!A)return X.inList=G,null;var{match:_,ordered:z,listItemRegex:W}=A,q=U.spaceEquivalent,j=z?parseInt(_[1],10):void 0,D=z?_[2]:void 0,F=z?void 0:_[1],M=z?_[3]==="":_[2]==="";function v(n,S0){if(n===0)return!0;var y0=b($,n-1);if(y0!==d)return!1;if(!S0)return!0;var U0=n-2;while(U0>=0){var u=b($,U0);if(u!==C&&u!==l)break;U0--}return U0<0||b($,U0)===d}if(M&&!v(Z,!0))return X.inList=G,null;if(z&&j!==1&&!v(Z,!1))return null;if(!z&&IZ(_,F))return null;var S=_.index||0,N=z?S+_[1].length+_[2].length+1:M?S+_[1].length:S+_[1].length+1,x=Z+Q+N,T=j$($,x,K,q,N),B=T.contentStartColumn,y=q+S+_[1].length,w=z?y+_[2].length+1:M?y:y+1,R=[],f=[];function E(n,S0,y0){return y0?n>=S0:n>S0}function P(){return R[R.length-1]}function g(){return f[f.length-1]??B}function h(n,S0){let y0=lZ(S0),U0=X.inList;X.inList=!0;let u=s$($,n,X,J);if(X.inList=U0,u)return y0.push(u),u;return null}var L=k($,K),a=L,i=!1;while(a<$.length){var j0=I($,a),w0=$.slice(a,j0);if(w0.trim()===""){var _0=k($,j0);while(_0<$.length){var T0=b($,_0);if(T0===d);else if(!g6.has($[_0]))break;_0++}var p=I($,_0),U1=$.slice(_0,p),G0=t($,_0,p),P0=U1.slice(G0.charCount);if(n1(P0,G0,z,F,D,q,W))i=!0;else{var M0=r$($,_0,p,G0,P0,X,J);if(M0){var Q0=M0;while(Q0<$.length&&b($,Q0)===d)Q0++;if(Q0<$.length){var r0=I($,Q0),I0=$.slice(Q0,r0),k0=t($,Q0,r0),y1=I0.slice(k0.charCount);if(n1(y1,k0,z,F,D,q,W))i=!0}}}break}var r=t($,a,j0),K0=w0.slice(r.charCount),B0=g$(K0);if(!B0)break;var m0=B0.match;if(z){if(m0[2]!==D)break}else if(m0[1]!==F)break;a=k($,j0)}var H0=z?_[3]:_[2];H0=H0.trimStart();var z0=Z+Q+(_.index||0),e=z?z0+_[1].length+_[2].length:z0+_[1].length,l0=e;while(l0<$.length){var T0=b($,l0);if(T0!==C&&T0!==l)break;l0++}var X0=0,$0=e;while($0<K){var T0=b($,$0);if(T0===l)X0+=4-X0%4;else if(T0===C)X0++;else break;$0++}var s=!1;if(e<$.length&&b($,e)===l){var s0=1,Z1=e+1;while(Z1<$.length&&b($,Z1)===l)s0++,Z1++;if(s0>=2)H0="      "+H0,s=!0}if(!z)M=M&&X0===0;if(X0>=4&&!s)H0=" ".repeat(X0-1)+H0.trimStart();var Q1=H0.trim()==="";let O1=i;if(!i&&L<$.length){var _1=L;while(_1<$.length){var R1=I($,_1),F0=$.slice(_1,R1);if(b1($,_1,R1)){var o0=k($,R1);while(o0<$.length){var W1=I($,o0);if(b1($,o0,W1))o0=k($,W1);else break}if(o0<$.length){var k1=t($,o0,$.length),q1=k1.spaceEquivalent;if(q1>=q){var h0=$.slice(o0,I($,o0)),z1=h0.slice(k1.charCount).match(W),L1=z1&&(z?z1[2]===D:z1[1]===F),M1=null;for(var o=L;o<_1;o=I($,o)+1){var J1=I($,o),D1=t($,o,J1),n0=$.slice(o,J1).slice(D1.charCount).match(W),_9=n0&&D1.spaceEquivalent>q&&D1.spaceEquivalent>=B&&(z?n0[2]===D:n0[1]===F);if(_9){var T1=D1.spaceEquivalent+1,S1=z?T1+n0[1].length+n0[2].length+1:T1+n0[1].length+1,q9=o+D1.charCount+n0[0].length,N9=j$($,q9,J1,T1,S1-T1);M1=N9.contentStartColumn;break}}var z9=X0>=5?w:B;if(!L1&&q1>=z9&&(M1===null||q1+1<M1))O1=!0}}break}var A1=t($,_1,R1),m1=A1.spaceEquivalent,E1=F0.slice(A1.charCount),x1=E1.match(W),A0=x1&&(z?x1[2]===D:x1[1]===F);if(A0){if(m1<=q)break}_1=k($,R1)}}var N0=H0;if(c(H0,"```")||c(H0,"~~~")){var p0=z?_[1].length+_[2].length+1:_[1].length+1,P1=dZ($,H0,L,p0);N0=P1.content,L=P1.endPos}var u0=!M&&H0.trim()===""&&X0>0&&X0<5;if(!O1){var f0=N0.length>0?N0[0]:"",Y1=f0===">",Z=L;while(Z<$.length){var K=I($,Z),V=$.slice(Z,K);if(V.trim()==="")break;var U=t($,Z,K);if(U.spaceEquivalent<w)break;var H=V.slice(U.charCount);if(U.spaceEquivalent<=q&&n1(H,U,z,F,D,q,W))break;if(f$(H)&&U.spaceEquivalent>q)break;var b0=H.length>0?H[0]:"",e1=b0===">"&&Y1;if(b0===">"&&!e1||b0==="#"||c(H,"```")||c(H,"~~~"))break;N0+=`
`+H,L=Z=k($,K)}}if(R.push(iZ(N0,O1,X,J)),f.push(B),O1&&(X0>=5||u0)){let n=P();L=xZ($,n,w,L,q,z,F,D,W,X,J,!0)}else if(!O1){let n=w-1;while(L<$.length){let S0=I($,L),y0=$.slice(L,S0),U0=t($,L,S0),u=U0.spaceEquivalent,q0=y0.slice(U0.charCount);if(y0.trim()===""||u<=q&&n1(q0,U0,z,F,D,q,W)||f$(q0)&&u>q||u<n)break;let t0=P(),E0=V$($,L,S0,U0,n,B,t0,!1,X,J,!0,q);if(E0.processed)L=E0.newPos;else break}}var Z0=!1;while(L<$.length){let n=I($,L),S0=$.slice(L,n),y0=t($,L,n),U0=y0.charCount,u=y0.spaceEquivalent;if(S0.trim()==="")i=!0,Z0=!0,L=k($,n);else if(u<q){let q0=S0.slice(U0);if(q0.startsWith("<")&&EZ($,L,U0,q,u,J))break;let t0=q0.trim();if(t0.length>0&&R.length>0&&!u9(t0[0])&&!n1(q0,y0,z,F,D,q,W)){let E0=P();if(E0.length>0){let Y0=E0[E0.length-1];if(!Z0&&(Y0.type===O.paragraph||Y0.type===O.text)){K$(q0,E0,X,J),Z0=!1,L=k($,n);continue}}}break}else{let q0=S0.slice(U0);if(R.length>0){let m=f[R.length-1]||B;if(u+1>=m&&!n1(q0,y0,z,F,D,q,W)){let C0=P();if(C0.length>0&&cZ(C0,q0,J)){L=k($,n);continue}}}if(D$($,L,X,J))break;if(Z0){let m=r$($,L,n,y0,q0,X,J);if(m){L=m,Z0=!1;continue}}if(u<=q){if(q0.startsWith("<")&&EZ($,L,U0,q,u,J))break;if(!n1(q0,y0,z,F,D,q,W)){if(u===q&&!Z0){let m=q0.trim();if(m.length>0&&!u9(m[0])){let C0=d9($,L,X,J);if(C0&&C0.type!==O.paragraph)break;let R0=P();if(R0.length>0&&!m9(R0)){K$(q0,R0,X,J,!0),Z0=!1,L=k($,n);continue}}}break}}if(TZ(R,M,Z0,H0))break;let E0=g$(q0),Y0=E0?E0.match:null,w1=Y0&&(z?Y0[2]===D:Y0[1]===F);if(w1&&u>3&&Z0)break;if(w1&&u<=q+3){if(u>=4&&Z0)break;if(u===q){let m=z?Y0[3]:Y0[2];if(m=m.trimStart(),L=X$($,R,f,m,L,n,u,U0,Y0,z,i,X,J).newCurrentPos,Z0=!1,m.trim()===""){let R0=R[R.length-1],O0=g();L=xZ($,R0,O0,L,q,z,F,D,W,X,J)}continue}if(u>q){if(Z0){let O0=z?Y0[3]:Y0[2];O0=O0.trimStart(),L=X$($,R,f,O0,L,n,u,U0,Y0,z,i,X,J).newCurrentPos,Z0=!1;continue}let m=P(),C0=u+1,R0=E(C0,g(),m9(m));if(R0){let O0=h(L,m);if(O0){L=O0.endPos,Z0=!1;continue}}if(!R0&&w1){let O0=z?Y0[3]:Y0[2];if(O0=O0.trimStart(),!i){let d0=k($,n);while(d0<$.length){let L0=I($,d0),i0=$.slice(d0,L0),D0=t($,d0,L0),G1=D0.spaceEquivalent;if(i0.trim()===""){let y9=k($,L0);if(y9<$.length){let h1=t($,y9,$.length).spaceEquivalent,v$=u+(z?Y0[1].length+Y0[2].length+1:Y0[1].length+1);if(h1+1>v$)break}break}else if(G1<=q){let W0=i0.slice(D0.charCount).match(W);if(W0&&(z?W0[2]===D:W0[1]===F)&&G1<=q)break}d0=k($,L0)}}L=X$($,R,f,O0,L,n,u,U0,Y0,z,i,X,J).newCurrentPos,Z0=!1;continue}else if(!R0&&!w1)break;{let O0=P(),v0=O0.length===0;if(v0&&TZ(R,M,Z0,H0))break;let d0=O0.some((D0)=>D0.type===O.codeBlock||D0.type===O.paragraph||D0.type===O.blockQuote||D0.type===O.orderedList||D0.type===O.unorderedList||D0.type===O.heading),L0=v0&&R.length===1?w:B;if(d0?u>=L0:u>L0){let D0=V$($,L,n,y0,L0,B,P(),Z0,X,J,void 0,q);if(D0.processed){Z0=D0.wasBlank,L=D0.newPos;continue}}else break}}else if(u===q){if(!z&&Y0&&IZ(Y0,Y0[1]))break;let m=z?Y0[3]:Y0[2];m=m.trimStart(),L=X$($,R,f,m,L,n,q,U0,Y0,z,i,X,J).newCurrentPos,Z0=!1}}else if(u>q){let m=P();if(f$(q0)){let v0=u+1;if(E(v0,g(),m9(m))){let i0=h(L,m);if(i0){L=i0.endPos,Z0=!1;continue}}if(u-q>3){let i0=m.length>0?m[m.length-1]:null;if(i0&&(i0.type===O.paragraph||i0.type===O.text)){K$(q0,m,X,J),Z0=!1,L=k($,n);continue}}else break}else{let v0=h(L,m);if(v0){L=v0.endPos,Z0=!1;continue}}let R0=B;if(m9(m)?u>=R0-1:u>R0-1){let v0=V$($,L,n,y0,R0-1,B,P(),Z0,X,J,void 0,q);if(v0.processed){Z0=v0.wasBlank,L=v0.newPos;continue}}else break}else break}}if(i&&R.length>1&&R[0].length>0&&R[0][0].type!==O.paragraph){for(var J0=1;J0<R.length;J0++)if(R[J0].length>0&&R[J0][0].type===O.paragraph){var I1=!1;for(var v1=0;v1<R[0].length;v1++){var X1=R[0][v1].type;if(X1===O.codeBlock||X1===O.heading||X1===O.blockQuote||X1===O.orderedList||X1===O.unorderedList||X1===O.htmlBlock||X1===O.breakThematic){I1=!0;break}}if(!I1)R[0]=[{type:O.paragraph,children:R[0]}];break}}let b9=z?{type:O.orderedList,items:R,ordered:!0,start:j}:{type:O.unorderedList,items:R,ordered:!1};return X.inList=G,{...b9,endPos:L}}function aZ($,Z,X,J){if(X.inline)return null;let G=[],Y=Z;while(Y<$.length){let W=I($,Y);if(b1($,Y,W))break;let q=$.slice(Y,W).trim();if(!(q.indexOf("|")!==-1||G.length>=3&&q&&!u9(q[0])))break;G.push(q),Y=k($,W)}if(G.length<2)return null;let K=(W)=>W[0]==="|"&&W[W.length-1]==="|"?W.slice(1,-1):W,U=(W)=>{let q=[],j="",D=!1;for(let F=0;F<W.length;F++){let M=W[F];if(M==="\\"&&F+1<W.length&&W[F+1]==="|")j+="|",F++;else if(M==="`")D=!D,j+=M;else if(M==="|"&&!D)q.push(j.trim()),j="";else j+=M}return q.push(j.trim()),q},V=U(K(G[0]));if(!V.length)return null;let Q=U(K(G[1]));if(Q.length!==V.length||Q.some((W)=>!/^:?-+:?$/.test(W)))return null;let H=Q.map((W)=>{let q=W[0]===":",j=W[W.length-1]===":";return q&&j?"center":q?"left":j?"right":null});if(J.optimizeForStreaming&&G.length===2)return null;let A=(W)=>W$(X,!0,()=>W.map((q)=>a1(q,0,q.length,X,J))),_=A(V),z=G.slice(2).map((W)=>{let q=W.indexOf("|")!==-1?U(K(W)):[W.trim()],j=V.length;while(q.length<j)q.push("");return q.length=j,A(q)});return{type:O.table,header:_,cells:z,align:H,endPos:Y}}var a6=["div","p","section","article","aside","nav","header","footer","main","h1","h2","h3","h4","h5","h6","blockquote","ul","ol","li","dl","dt","dd","table","thead","tbody","tfoot","tr","td","th","form","fieldset","hr","pre","details","summary","figure","figcaption"],r6=new Set(["pre","script","style","textarea"]);function h9($){return a6.indexOf($.toLowerCase())!==-1}function w9($){return r6.has($)}function b1($,Z,X){for(var J=Z;J<X;J++){let G=b($,J);if(G!==C&&G!==l&&G!==V0)return!1}return!0}function W$($,Z,X){let J=$.inline;$.inline=Z;try{return X()}finally{$.inline=J}}function C$($,Z,X){var J=Z;while(J<X){var G=I($,J);if(b1($,J,G))return J;J=k($,G)}return X}function k$($,Z,X){return{type:O.htmlComment,text:i1($),endPos:Z,...X}}function A9($,Z,X,J,G,Y,K,U,V){var Q=i1(Z),H=Q;if(U&&(U.forceBlock||U.optimizeForStreaming)&&Z&&!Y){var A=new RegExp("^<"+$.toLowerCase()+"(\\s[^>]*)?>$","i");if(A.test(Z.trim()))H=""}var _=H,z=$.toLowerCase(),W=new RegExp("^<"+z+"[\\s>]","i");if(W.test(_)){var q=_.indexOf(">");if(q!==-1){_=_.slice(q+1);var j="</"+z+">",D=_.indexOf(j);if(D!==-1)_=_.slice(0,D)}}else{var F="</"+z+">",M=_.indexOf(F);if(M!==-1)_=_.slice(0,M)}var v=[];if(_&&U&&!U.optimizeForStreaming){var S=V||{inline:!1,inHTML:!0,inAnchor:!1},N=_.trim(),x=F$.test(N),T=O$.test(N),B=H$.test(N);if(x||T||B){var y={...S,inline:!1,inHTML:!0,inAnchor:S.inAnchor||z==="a"};v=i9(N,y,U)}else if(N){var w={...S,inline:!0,inHTML:!0,inAnchor:S.inAnchor||z==="a"};v=a1(N,0,N.length,w,U)}}return{type:O.htmlBlock,tag:$,attrs:J||{},rawAttrs:G,children:v,rawText:H,text:_,verbatim:!0,isClosingTag:Y,canInterruptParagraph:K,endPos:X}}function p9($){let Z=O$.test($),X=F$.test($),J=L6.test($);return Z||X&&!J}function fZ($,Z,X,J,G,Y,K,U,V,Q){if(!U.inHTML&&!U.inline&&!n9(G,`
`)){let G0=Y,P0=K.length;while(G0<P0){let M0=I(K,G0);if(b1(K,G0,M0))break;let Q0=K.slice(G0,M0).trim();if(Q0.length>0&&u9(Q0[0])){let r0=M$(K,G0,U,Q);if(r0){G0=r0.endPos;continue}let I0=t1(K,G0);if(I0){G0=I0.endPos;continue}return null}G0=k(K,M0)}}let H=Z,A=w9(H);var _=!A&&!K9(Z),z=void 0;if(G){var W=G.indexOf(">");if(W!==-1){var q=G.slice(0,W+1);if(q.indexOf(`
`)!==-1)z=q;var j=W;for(var D=1;D<W;D++){var F=q[D];if(F===" "||F==="\t"||F===`
`||F===">"){j=D;break}}X=q.slice(j,W)}}var M=X.replace(/^[\s\n\r\t]+/,""),v=c1(M,Z,$,Q),S={...v},N=!1,x=!1;if(_&&J.length>0){var T="</"+H,B=J.indexOf(T);if(B>=0){var y=B+T.length;while(y<J.length&&(J[y]===" "||J[y]==="\t"))y++;if(y<J.length&&J[y]===">"){var w=J.slice(0,B);if(p9(w))J=w,x=!0;else N=!0}}if(!x){var R=J.length-1;if(J[R]===`
`){R--;while(R>=0&&(J[R]===" "||J[R]==="\t"||J[R]==="\r"))R--;if(R>=0&&J[R]===`
`)N=!0}}}var f=A||_&&N&&!p9(J),E=i1(J),P=E;if(f){if(E.length>0&&E[0]===`
`)E=E.slice(1),P=E;if(E.length>0&&E[E.length-1]===`
`)E=E.slice(0,-1),P=E;var T="</"+H+">",B=E.indexOf(T);if(B!==-1)E=E.slice(0,B)}let g=E.match(/^([ \t]*)/),h=g?g[1]:"",L=new RegExp(`^${h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`,"gm"),a=E.replace(L,""),i=F$.test(a),j0=O$.test(a),w0=H==="p",_0=H$.test(a),T0=w0?i:i||j0||U.inHTML&&_0,p=[];if(a)if(T0||_0){let G0={...U,inline:!1,inHTML:!0,inAnchor:U.inAnchor||H==="a"};p=i9(a,G0,Q)}else{let G0={...U,inline:!0,inHTML:Q.optimizeForStreaming?!0:U.inHTML,inAnchor:V||U.inAnchor||H==="a"};p=a1(a,0,a.length,G0,Q)}var U1=void 0;if(f)if(z!==void 0)U1=z+P;else U1=P;return{type:O.htmlBlock,tag:f?Z:$,attrs:S,rawAttrs:X,children:p,rawText:U1,text:a,verbatim:f,canInterruptParagraph:!0,endPos:Y}}function M$($,Z,X,J){if($[Z]!=="<")return null;if(J.optimizeForStreaming&&X.inHTML)return null;if(!X.inline);if(Z+1<$.length){if($[Z+1]==="?"){var G=U$($,Z);if(G&&G.kind==="pi")return k$(G.text||"",G.endPos,{raw:!0})}else if($[Z+1]==="!"){if(Z+3<$.length&&$.slice(Z,Z+4)==="<!--"){if(X.inline);var Y=U$($,Z);if(Y&&Y.kind==="comment"){var K=Y.text||"",U=!1;if(K==="<!-->")K="",U=!0;else if(K==="<!--->")K="-",U=!0;else if(K.startsWith("<!--")&&K.endsWith("-->"))K=K.slice(4,-3);if(X.inline);return k$(K,Y.endPos,{endsWithGreaterThan:U})}}var V=U$($,Z);if(V&&(V.kind==="declaration"||V.kind==="cdata"))return k$(V.text||"",V.endPos,{raw:!0})}}if(Z+1<$.length){let D9=$[Z+1];if(D9===" "||D9===`
`||D9==="\t"||D9==="\r")return null}var Q=$.indexOf(">",Z+1);if(Q!==-1){var H=$.slice(Z+1,Q),A=H.indexOf(" ")!==-1||H.indexOf("\t")!==-1;if(!A&&(c(H,"http://")||c(H,"https://")))return null;if(!A&&mZ(H))return null}var _=t1($,Z);if(!_&&!X.inline){var z=$.length,W=I($,Z),q=Z,j=0;while(q<W&&j<3&&($[q]===" "||$[q]==="\t"))j++,q++;if(q>=W||$[q]!=="<")return null;if(q+1<W){var D0=d$($,q+1);if(D0){var G1=D0.tagName,D=h9(G1);if(!D)return null;var F=D0.nextPos,M=!1,v=!1,S="",N=W,x=!1;while(N<z&&!x){var T=!1;while(F<N){var B=$[F];if(v){if(B===S)v=!1,S="";if(B===`
`||B==="\r")M=!0;F++,T=!0}else if(B==='"'||B==="'")v=!0,S=B,F++,T=!0;else if(B===`
`||B==="\r"){M=!0,F++,T=!0;var y=I($,F);if(y===F)break;N=y}else if(B===">"){F++,x=!0;break}else F++,T=!0}if(x)break;if(!T&&F>=N){var w=I($,N+1);if(w<=N)break;N=w}else if(F>=N&&N<z){var w=I($,N+1);if(w<=N)break;N=w}else break}if(!M&&x)return null;if(F>=W&&W<z)F=W;var R=D?"type6":"type7",f=F,E=C$($,k($,W),z),P=$.slice(f,E),g=Z+1<$.length&&$[Z+1]==="/";if(R==="type7"&&P.trim()===""){var h=$.slice(Z,E),L=I(h,0);if(L<h.length)L++;var a=h.slice(0,L);return A9(G1,a,E,{},void 0,g,!1,J,X)}var i=$.slice(Z,E);return A9(G1,i,E,{},void 0,g,R==="type6",J,X)}}return null}if(!_)return null;if(Q!==-1){var j0=$.slice(Z+1,Q);if((c(j0,"http://")||c(j0,"https://"))&&(j0.indexOf(" ")!==-1||j0.indexOf("\t")!==-1))return null}var P0=Z+(_.isClosing?2:1);if(P0<$.length){var w0=$[P0],_0=b(w0);if(_0>=97&&_0<=122||_0>=65&&_0<=90){if(P0+1<$.length&&$[P0+1]===":")return null}}if(_.isClosing){var T0=_.attrs.trim();if(T0.length>0)return null;if(!X.inline){var z=$.length,W=I($,Z),f=_.endPos,p=f;while(p<W&&($[p]===" "||$[p]==="\t"||$[p]==="\r"))p++;var U1=p>=W||$[p]==="<"&&function(){var YZ=t1($,p);return YZ&&h9(YZ.tagLower)}();if(U1){var E=C$($,k($,W),z),P=$.slice(f,E);if(P.length>0){if(P[0]==="\r"&&P[1]===`
`)P=P.slice(2);else if(P[0]===`
`||P[0]==="\r")P=P.slice(1)}let X6=_.tagLower||_.tagName.toLowerCase();return A9(_.tagName,P,E,c1(_.whitespaceBeforeAttrs+_.attrs,X6,_.tagName,J),_.whitespaceBeforeAttrs+_.attrs,!0,!1,J,X)}}var G0=$.slice(Z,_.endPos);return{type:O.htmlSelfClosing,tag:_.tagName,attrs:{},endPos:_.endPos,isClosingTag:!0,rawText:G0}}var P0=Z+(_.isClosing?2:1);if(P0<$.length){var M0=$[P0];if(M0===" "||M0==="\t"||M0===`
`||M0==="\r")return null}var Q0=_.tagLower,r0=K9(_.tagName);let I0=_.tagName.length>0&&_.tagName[0]>="A"&&_.tagName[0]<="Z";if(_.isSelfClosing||r0&&Q0!=="a"){if(_.hasNewline&&!I0)return null;if(!X.inHTML&&!X.inline&&!I0)return null;var k0=_.attrs.replace(/\/\s*$/,""),y1=c1(k0,Q0,_.tagName,J),G0=X.inline?$.slice(Z,_.endPos):void 0;let GZ={type:O.htmlSelfClosing,tag:_.tagName,attrs:y1,endPos:_.endPos};if(G0!==void 0)GZ.rawText=G0;return GZ}if(X.inline){var r=_.attrs.replace(/\/\s*$/,""),K0=_.whitespaceBeforeAttrs+r,B0=c1(r,Q0,_.tagName,J),m0={...B0},H0=_.endPos,z0=[];if(!K9(_.tagName)){var e=y6($,_.endPos,Q0);if(e!==null){var l0=$.slice(_.endPos,e[0]);if(l0)if(X.inHTML&&H$.test(l0)||p9(l0))z0=i9(l0,{...X,inline:!1,inHTML:!0,inAnchor:X.inAnchor||Q0==="a"},J);else z0=a1(l0,0,l0.length,{...X,inline:!0,inHTML:J.optimizeForStreaming?!0:X.inHTML,inAnchor:X.inAnchor||Q0==="a"},J);H0=e[1]}}return{type:O.htmlBlock,tag:_.tagName,attrs:m0,rawAttrs:K0,children:z0,verbatim:!1,endPos:H0}}if(!X.inline){var z=$.length,W=I($,Z),X0=_.tagLower,$0=w9(X0),s=!$0&&h9(_.tagName),s0=!1,Z1=Z;while(Z1<_.endPos){if($[Z1]===">"){s0=!0;break}Z1++}var p=_.endPos;while(p<W&&($[p]===" "||$[p]==="\t"))p++;var Q1=p>=W||$[p]===`
`||$[p]==="\r"||s&&p<W||!s0;if($0&&s0&&!_.isClosing){var{tagName:O1,endPos:_1,attrs:R1}=_,F0=_1;if($[F0]===`
`)F0++;var o0=F0,W1=F0,k1=1,q1=X0.length+1;while(k1>0){var h0=$.indexOf("<",F0);if(h0===-1){W1=z,F0=z;break}var z1=-1,L1=-1;if($[h0+1]==="/")L1=h0;else if(h0+q1+1<=z&&($[h0+1]===X0[0]||$[h0+1]===O1[0])){var M1=$.substring(h0+1,h0+q1);if(M1.toLowerCase()===X0&&($[h0+q1]===" "||$[h0+q1]===">"))z1=h0}if(z1===-1&&L1===-1){F0=h0+1;continue}if(z1!==-1&&(L1===-1||z1<L1))F0=z1+q1+1,k1++;else{var o=L1+2;while(o<z){var J1=$[o];if(J1!==" "&&J1!=="\t"&&J1!==`
`&&J1!=="\r")break;o++}if(o+X0.length>z)break;var D1=$.substring(o,o+X0.length);if(D1.toLowerCase()!==X0){F0=o;continue}o+=X0.length;while(o<z){var n0=$[o];if(n0!==" "&&n0!=="\t"&&n0!==`
`&&n0!=="\r")break;o++}if(o>=z||$[o]!==">"){F0=o;continue}var _9=o+1,T1=I($,_9);W1=T1,F0=T1+1,k1--}}var S1=0;while(F0+S1<z&&$[F0+S1]===`
`)S1++;var q9=$.slice(Z,F0+S1),N9=$.slice(o0,W1),z9=F0+S1;return fZ(_.tagName,_.tagName,R1,N9,q9,z9,$,X,!1,J)}if(Q1||!s0){var R=s?"type6":"type7",f=_.endPos,E=C$($,k($,W),z);if(R==="type6"&&!_.isClosing){let r9=I0?_.tagName:_.tagLower||_.tagName.toLowerCase();var A1="</"+r9,m1="<"+r9,E1=f,x1=1,A0=-1;while(E1<E&&x1>0){var N0=$.indexOf(m1,E1),p0=$.indexOf(A1,E1);while(N0!==-1&&N0<E){var P1=N0+m1.length;if(P1>=z){N0=-1;break}var u0=$[P1];if(u0===" "||u0==="\t"||u0===`
`||u0==="\r"||u0===">")break;N0=$.indexOf(m1,P1)}if(N0===-1||N0>=E)N0=E;if(p0===-1||p0>=E)p0=E;if(N0<p0)x1++,E1=N0+m1.length;else if(p0<E){if(x1--,x1===0){A0=p0;break}E1=p0+A1.length}else break}if(A0!==-1&&A0<E){var f0=A0+A1.length;while(f0<z&&($[f0]===" "||$[f0]==="\t"))f0++;if(f0<z&&$[f0]===">"){var Y1=f0+1,b0=Y1;while(b0<z&&$[b0]!==`
`)b0++;if(b0<z)b0++;while(b0<z&&($[b0]===" "||$[b0]==="\t"))b0++;if(b0<z&&$[b0]==="<"&&!c($.slice(b0),A1)){var e1=t1($,b0);if(e1)E=Y1}}}else if(A0=$.indexOf(A1,f),A0!==-1){var a9=$.slice(f,A0),Z0=I0||p9(a9);if(Z0){var J0=A0+A1.length;while(J0<z&&($[J0]===" "||$[J0]==="\t"))J0++;if(J0<z&&$[J0]===">"){var I1=I($,J0+1);E=I1}}}}var P=$.slice(f,E),v1=_.whitespaceBeforeAttrs+_.attrs,g=_.isClosing;let KZ=()=>{let r9=_.tagLower||_.tagName.toLowerCase(),L9=_.whitespaceBeforeAttrs+_.attrs;return{parsed:c1(L9,r9,_.tagName,J),raw:L9}};if(R==="type7"&&P.trim()===""){var X1=$.slice(Z,_.endPos),b9=X1.indexOf(`
`)!==-1;if(b9)return null;var n=_.endPos,L=I($,n);if(L<$.length)L++;var a=$.slice(Z,L);let UZ=KZ();return A9(_.tagName,a,E,UZ.parsed,UZ.raw,g,!1,J,X)}var S0=_.hasNewline,y0=!s0;if((S0||y0)&&R==="type7"){var U0=_.endPos,u=$.slice(Z,U0),q0=P,i=u+q0;let L9=KZ();return A9(_.tagName,i,E,L9.parsed,L9.raw,g,!1,J,X)}let VZ=_.tagLower||_.tagName.toLowerCase();var t0=c1(v1,VZ,_.tagName,J),E0={...t0};if(R==="type6"){var Y0=P,w1=P.indexOf("</"+VZ);if(w1>=0){var p=w1+2+_.tagName.length;while(p<P.length&&(P[p]===" "||P[p]==="\t"))p++;if(p<P.length&&P[p]===">")Y0=P.slice(0,w1)}if(p9(Y0))return fZ(_.tagName,_.tagName,v1,Y0,$.slice(Z,_.endPos),E,$,X,!1,J)}var m=P;if(m.length>0){if(m[0]==="\r"&&m[1]===`
`)m=m.slice(2);else if(m[0]===`
`||m[0]==="\r")m=m.slice(1)}var C0=m.split(`
`),R0=1/0;for(var O0=0;O0<C0.length;O0++){var v0=C0[O0];if(v0.trim().length===0)continue;var j=0;while(j<v0.length&&(v0[j]===" "||v0[j]==="\t"))j++;if(j<R0)R0=j}if(R0>0&&R0<1/0){var d0=[];for(var L0=0;L0<C0.length;L0++){var i0=C0[L0];if(i0.trim().length===0)d0.push(i0);else d0.push(i0.slice(R0))}m=d0.join(`
`)}return A9(_.tagName,m,E,E0,v1,g,R==="type6"?!0:!1,J,X)}}if(X.inline)return null;var D0=d$($,Z+1);if(!D0)return null;var G1=D0.tagName;if(!K9(G1))return null;let y9=D0.tagLower;var W0=D0.nextPos,h1=$.length;while(W0<h1&&F1($[W0]))W0++;var JZ=W0;while(W0<h1&&$[W0]!==">")W0++;if(W0>=h1)return null;let v$=$.slice(JZ,W0).trim(),R9=W0+1;while(R9<h1&&F1($[R9]))R9++;let $6="</"+y9+">",XZ=$.toLowerCase().indexOf($6,R9);if(XZ!==-1){if($.slice(R9,XZ).trim())return null}W0++;let Z6=W0;while(W0<h1&&F1($[W0]))W0++;if(W0<h1&&$[W0]===`
`)W0++;let J6=c1(v$,G1,G1,J);return{type:O.htmlSelfClosing,tag:G1,attrs:J6,endPos:Z6}}function s6($,Z){if($[Z]!=="<")return null;var X=$.length,J=!1,G=Z+1;if(Z+1<X&&$[Z+1]==="/")J=!0,G=Z+2;var Y=d$($,G);if(!Y)return null;var{tagName:K,tagLower:U,nextPos:V}=Y;if(V<X){var Q=$[V];if(Q===">"||Q==="/"){var H=Q===">"?V+1:V+2;if(Q==="/"&&(V+1>=X||$[V+1]!==">"))return null;var A=Q==="/",_=h9(K),z=!w9(U)&&!_;return{kind:"tag",tagNameLower:U,tagName:K,isClosing:J,isSelfClosing:A,hasNewline:!1,type6Candidate:_,type7Candidate:z,endPos:H,attrs:"",whitespaceBeforeAttrs:""}}}var W=V,q=!1;while(V<X){var j=$[V],D=b($,V);if(j===" "||j==="\t");else if(D===10||D===13)q=!0;else break;V++}var F=$.slice(W,V),M=V,v=!1,S="",N=0,x=!1,T=!1,B=0;while(M<X){var y=$[M],D=b($,M);if(B===1){if(y==='"'){if(M+1<X&&$[M+1]==='"')return null;B=0}M++}else if(B===2){if(y==="'")B=0;M++}else if(y==='"')B=1,M++;else if(y==="'")B=2,M++;else if(y==="{"||y==="}"&&N>0)N+=y==="{"?1:-1,M++;else if(y===">"&&N===0){if(M>V){var w=M-1;while(w>=V){var R=$[w];if(R!==" "&&R!=="\t")break;w--}if(w>=V&&$[w]==="/")x=!0,T=w<M-1}M++;break}else{if(y==="*"||y==="#"||y==="!"){var f=M+1;while(f<X){var E=$[f];if(E==="="||E===" "||E==="\t"||E===`
`||E==="\r"||E===">")break;f++}if(f<X&&$[f]==="=")return null}if(D===10||D===13)q=!0;M++}}if(M>X||$[M-1]!==">")return null;if(B===1||B===2)return null;if(N>0)return null;if(T)return null;var P=M-1;if(x)P--;var g=$.slice(V,P),h=x,L=-1,a=!1,i="",j0=!1;for(var w0=0;w0<g.length;w0++){var j=g[w0];if(a){if(j===i)a=!1,L=w0,i="",j0=!1}else if(j==='"'||j==="'")a=!0,i=j,j0=!1;else if(j==="=")j0=!0;else if(L!==-1&&w0===L+1){var D=j.charCodeAt(0);if(Q9(D))return null}else if(j0&&!a&&(j==="*"||j==="#"||j==="!"))return null;else if(F1(j))j0=!1}var _0=h9(K),T0=!w9(U)&&!_0;return{kind:"tag",tagNameLower:U,tagName:K,isClosing:J,isSelfClosing:h,hasNewline:q,type6Candidate:_0,type7Candidate:T0,endPos:M,attrs:g,whitespaceBeforeAttrs:F}}function U$($,Z){if(Z>=$.length||$[Z]!=="<")return null;var X=$.length;if(Z+1>=X)return null;var J=$[Z+1];if(J==="!"){if(Z+4<=X&&$.slice(Z,Z+4)==="<!--"){var G=Z+4;if(G<X&&$[G]===">")return{kind:"comment",hasNewline:!1,endPos:G+1,text:$.slice(Z,G+1),raw:!0};if(G+1<X&&$[G]==="-"&&$[G+1]===">")return{kind:"comment",hasNewline:!1,endPos:G+2,text:$.slice(Z,G+2),raw:!0};while(G+2<X){if($.slice(G,G+3)==="-->")return{kind:"comment",hasNewline:!1,endPos:G+3,text:$.slice(Z,G+3),raw:!0};G++}return null}if(Z+9<=X&&$.slice(Z,Z+9)==="<![CDATA["){var G=Z+9;while(G+2<X){if($.slice(G,G+3)==="]]>")return{kind:"cdata",hasNewline:!1,endPos:G+3,text:$.slice(Z,G+3),raw:!0};G++}return null}if(Z+2<X&&Q9($.charCodeAt(Z+2))){var G=Z+2;while(G<X&&$[G]!==">")G++;if(G>=X)return null;return{kind:"declaration",hasNewline:!1,endPos:G+1,text:$.slice(Z,G+1),raw:!0}}return null}if(J==="?"){var G=Z+2;while(G+1<X){if($.slice(G,G+2)==="?>")return{kind:"pi",hasNewline:!1,endPos:G+2,text:$.slice(Z,G+2),raw:!0};G++}return null}return s6($,Z)}function m$($,Z){if(Z>=$.length)return!1;var X=$[Z];return X==="="||X==="-"||X==="_"||X==="*"||X==="#"||X===">"||X==="`"||X==="~"||X==="["||X>="0"&&X<="9"}function G$($,Z){if(Z>=$.length)return!1;var X=$[Z];return X==='"'||X==="'"||X==="("}function o6($,Z,X){var J=$.length;if(Z>=J||$[Z]!==X)return null;Z++;var G=Z,Y=!1;while(Z<J&&$[Z]!==X){var K=$.charCodeAt(Z);if(K===d){if(Y)return null;Y=!0,Z++}else if(K===V0)if(Z+1<J&&$.charCodeAt(Z+1)===d){if(Y)return null;Y=!0,Z+=2}else Y=!1,Z++;else{if(Y=!1,K===l1&&Z+1<J)Z++;Z++}}if(Z>=J)return null;return{value:$.slice(G,Z),endPos:Z+1}}function n6($,Z){var X=$.length;if(Z>=X||$[Z]!=="(")return null;Z++;var J=Z,G=1,Y=!1;while(Z<X&&G>0){var K=$.charCodeAt(Z);if(K===d){if(Y)return null;Y=!0,Z++}else if(K===V0)if(Z+1<X&&$.charCodeAt(Z+1)===d){if(Y)return null;Y=!0,Z+=2}else Y=!1,Z++;else{if(Y=!1,K===l1&&Z+1<X)Z++;else if(K===FZ)G++;else if(K===OZ)G--;Z++}}if(G!==0)return null;return{value:$.slice(J,Z-1),endPos:Z}}function t6($,Z){var X=$.length,J=Z;while(J<X){var G=J===0||$[J-1]===`
`,Y=$.charCodeAt(J);if(Y===d&&J>Z){var K=J+1;if(K<X&&$.charCodeAt(K)===V0)K++;if(K<X&&$.charCodeAt(K)===d){var U=K+1;while(U<X&&($[U]===" "||$[U]==="\t"))U++;var V=U-(J+1);if($.charCodeAt(J+1)===V0)V--;if(U<X&&$.charCodeAt(U)!==d&&$.charCodeAt(U)!==V0&&V<4)return J}}if(G&&c($,"[^",J)){var Q=J+2;while(Q<X&&$[Q]!=="]")Q++;if(Q<X&&$[Q]==="]"&&Q+1<X&&$[Q+1]===":")return J}J++}return X}function e6($,Z,X){let J=$.length,G=Z,Y=G<J&&$[G]==="<";if(Y)G++;let K=G,U=K;if(K>=J){if(!Y)return null;U=K}else if(X>0&&K<J&&$[K]===`
`)return null;else while(U<J){if(Y&&$[U]===">")break;if($[U]===`
`){let B=U+1;if(B>=J)break;if(B<J&&$[B]===`
`)break;let y=B;while(y<J&&($[y]===" "||$[y]==="\t"))y++;if(y<J&&G$($,y))break;if(y<J&&$[y]==="[")break;if(y<J){let w=$[y];if(m$($,y))break;if(w>="a"&&w<="z"){let R=y+1;while(R<J&&R<y+32&&($[R]>="a"&&$[R]<="z"||$[R]>="A"&&$[R]<="Z"||$[R]>="0"&&$[R]<="9"||$[R]==="+"||$[R]==="."||$[R]==="-"))R++;if(R<J&&$[R]===":");else break}}U=y;continue}if(!Y&&($[U]===" "||$[U]==="\t")){let B=U+1;while(B<J&&($[B]===" "||$[B]==="\t"))B++;if(B<J&&G$($,B))break;if(B<J&&$[B]===`
`){let y=B+1;if(y<J&&$[y]===`
`)break;let w=y;while(w<J&&($[w]===" "||$[w]==="\t"))w++;if(w<J&&G$($,w))break}}U++}if(Y&&(U>=J||$[U]!==">"))return null;let V=$.slice(K,U),Q=[],H=0;for(let B=0;B<=V.length;B++)if(B===V.length||V[B]===`
`){let y=V.slice(H,B);if(y=y.trim(),y.length>0||Q.length===0){if(Q.push(y),B<V.length)Q.push(`
`)}else if(B<V.length)Q.push(`
`);H=B+1}V=Q.join(""),V=V.trim(),G=Y?U+1:U;var A=!1;if(G<J&&$[G]===`
`){var _=G+1,z=_;while(z<J&&($[z]===" "||$[z]==="\t"))z++;if(z<J){let B=$[z];if(m$($,z))A=!0;if(!A&&B!=="="&&B!=="-"){var W=I($,z);if(W<J){var q=k($,W),j=q;while(j<J&&($[j]===" "||$[j]==="\t"))j++;if(j<J){var D=$[j];if(D==="="||D==="-")A=!0}}}}}if(!A&&G<J&&G$($,G))return null;let F=0;while(G<J&&!A){let B=$[G];if(B===`
`){if(F++,F>1)break;G++;var M=G;if(G=g0($,G),G<J&&V9($[G])&&$[G]!==`
`){G=M-1;break}if(G<J){let y=$[G];if(m$($,G)){A=!0,G=M-1;break}}}else if(B===" "||B==="\t")G++;else if(V9(B))break;else break}let v=void 0;if(G<J){let B=$[G];var S=B==="("?n6($,G):B==='"'||B==="'"?o6($,G,B):null;if(S===null&&(B==='"'||B==="'"||B==="("))return null;if(S){v=S.value,G=S.endPos;var N=G;while(N<J&&($[N]===" "||$[N]==="\t"))N++;if(N<J&&$[N]!==`
`&&$[N]!=="\r")return null;G=N}}if(G=g0($,G),G<J&&$[G]!==`
`){var x=G;while(x<J&&$[x]!==`
`){if($[x]!==" "&&$[x]!=="\t")return null;x++}}if(v===void 0&&G<J&&$[G]!==`
`){var T=G;while(T<J&&$[T]!==`
`){if($[T]!==" "&&$[T]!=="\t")return null;T++}}return{endPos:G<J&&$[G]===`
`?G+1:G,target:V,title:v}}function $5($,Z){let X=Z,J=t6($,Z),G=J<$.length&&$[J]===`
`&&$[J+1]===`
`,Y=J,K=Z;var U=[];let V=K,Q=0,H=!1;while(V<Y){let W=I($,V);if(W>Y)W=Y;if(Q===0){let q=W;while(q>V&&($[q-1]===" "||$[q-1]==="\t"))q--;let j=$.slice(V,q);U.push(j),H=j.length===0}else{let q=0,j=V;while(j<W&&j<V+4&&$[j]===" ")q++,j++;let D=!1;for(let M=V;M<W;M++)if($[M]!==" "&&$[M]!=="\t"&&$[M]!=="\r"){D=!0;break}let F=!D;if(q>=4&&H)U.push($.slice(V,W));else if(q===4&&!H)U.push($.slice(V+4,W));else U.push($.slice(V,W));H=F}if(W<Y){let q=b($,W);if(q===V0||q===d)U.push(`
`),V=k($,W);else V=Y}else V=Y;Q++}let A=U.join("");if(G)A=A.replace(/\n$/,"");var _=A.length;while(_>0){var z=A[_-1];if(z===`
`||z===" ")_--;else break}if(_<A.length)A=A.slice(0,_);return{endPos:J,target:A,title:void 0}}function B9($,Z,X,J,G){if($[Z]!=="[")return null;var Y=Z+1<$.length&&$[Z+1]==="^";if(G?!Y:Y)return null;var K=Z;while(K>0&&$[K-1]!==`
`)K--;if(t($,K,Z).spaceEquivalent>=4||X.inline)return null;var U=Z+(G?2:1),V=$.length,Q=E6($,U,V,"]");if(Q===-1)return null;var H=$.slice(U,Q);if(H.length>999)return null;var A=!1,_=!1,z=!1;for(var W=0;W<H.length;W++){var q=H[W];if(q==="\\"&&W+1<H.length){W++;continue}var j=b(q);if(j===p1||j===H9)_=!0;else if(j===d||j===V0)z=!0;else if(j!==C&&j!==l)A=!0}if(!A||_)return null;var D=Q+1;if(z){var F=b($,U),M=b($,Q-1);if(F===d||F===V0||M===d||M===V0||D>=V||$[D]!==":")return null}else if(D>=V||$[D]!==":"){if(D=g0($,D),D<V&&b($,D)===d)D=g0($,D+1);if(D>=V||$[D]!==":")return null}D++;var v=0;while(D<V){var S=b($,D);if(S===d){if(++v>1)break;D=g0($,D+1)}else if(S===C||S===l)D++;else break}let N=G?$5($,D):e6($,D,v);if(!N)return null;let x=hZ(H),T=X.refs||{},B=G?`^${x}`:x;if(!T[B])T[B]={target:Q$(N.target.trim()),title:N.title?Q$(N.title):void 0},X.refs=T;return{type:G?O.footnote:O.ref,endPos:N.endPos}}function rZ($,Z,X){var J=[],G=X===null?0:X+1;while(G<Z.length){var Y=Z[G];if(!Y||Y.type!=="*"&&Y.type!=="_"&&Y.type!=="~"&&Y.type!=="="){G++;continue}if(!Y.canClose||!Y.active){G++;continue}var K=Y.type==="*"?0:Y.type==="_"?1:Y.type==="~"?2:3,U=K*6+Y.length%3*2+(Y.canOpen?1:0),V=J[U]!==void 0?J[U]:X===null?-1:X,Q=-1,H=Y.type,A=Y.inAnchor,_=Y.canOpen,z=Y.length,W=z%3;for(var q=G-1;q>V;q--){var j=Z[q];if(!j||!j.active||j.type!==H||!j.canOpen||j.inAnchor!==A)continue;var D=j.length;if(!_&&!j.canClose||W===0||(D+z)%3!==0){Q=q;break}}if(Q>=0){var F=Z[Q],D=F.length,M=D>=2&&z>=2,v=M?2:1;if(v>D||v>z){G++;continue}var S=F.nodeIndex,N=Y.nodeIndex,x=S+1,T=N,B=$.slice(x,T);if(B.length>0){var y=T-x;$.splice(x,y);for(var w=0;w<Z.length;w++)if(Z[w].nodeIndex>x)Z[w].nodeIndex-=y;if(N>x)N-=y}var R=F.type==="~"?"del":F.type==="="?"mark":M?"strong":"em",f={type:O.textFormatted,tag:R,children:B},E=$[S];if(!E||!E.text){F.active=Y.active=!1;continue}var P=E.text.length<=v;if(P){$.splice(S,1);for(var w=0;w<Z.length;w++)if(Z[w].nodeIndex>S)Z[w].nodeIndex--;if(N>S)N--}else E.text=E.text.slice(v);var g=$[N];if(!g||!g.text){F.active=Y.active=!1;continue}var h=g.text.length<=v;if(h){$.splice(N,1);for(var w=0;w<Z.length;w++)if(Z[w].nodeIndex>N)Z[w].nodeIndex--}else g.text=g.text.slice(v);var L=P?S<N?N-1:S:S+1;if(L<0||L>$.length)L=L<0?0:$.length;$.splice(L,0,f);for(var w=0;w<Z.length;w++)if(Z[w].nodeIndex>=L)Z[w].nodeIndex++;for(var w=Q+1;w<G;w++)Z[w].active=!1;if(P)F.active=!1;else if(F.length-=v,F.length===0)F.active=!1;if(h)Y.active=!1,G++;else if(Y.length-=v,Y.length===0)Y.active=!1,G++}else{if(J[U]=G-1,!Y.canOpen)Y.active=!1;G++}}var a=0;for(var q=0;q<Z.length;q++)if(Z[q].active)Z[a++]=Z[q];Z.length=a}function c9($,Z,X){var J=[],G=0,Y=-3,K=Y;if(Z.inline)return a1($,0,$.length,Z,X);if(G===0&&$.startsWith("---")){var U=d6($,G);if(U)J.push(U),G=U.endPos}while(G<$.length){while(G<$.length&&$[G]===`
`)G++;if(G>=$.length)break;K=Y;let A=$[G],_=d9($,G,Z,X);if(_){let D=_.type;if(D===O.codeBlock){var V=A==="`"||A==="~";if(!V&&(A===" "||A==="\t")){let F=I($,G),M=t($,G,F);V=M.spaceEquivalent<=3&&G+M.charCount<$.length&&($[G+M.charCount]==="`"||$[G+M.charCount]==="~")}}else if(D===O.breakThematic);else if(D===O.blockQuote);else if(D===O.heading);else if(D===O.orderedList||D===O.unorderedList);else if(D===O.table);else if(D===O.htmlComment);else if(D===O.htmlBlock);else if(D===O.ref);if(_.type===O.htmlComment){J.push(_);let F=G;G=_.endPos;let M=I($,F);if(G<M){let v=$.slice(G,M);if(v.trim().length>0)J.push({type:O.text,text:v});if(G=M,G<$.length&&$[G]===`
`)G++}continue}if(_.type===O.htmlBlock||_.type===O.htmlSelfClosing)if(_.type===O.htmlSelfClosing&&_.isClosingTag===!0&&!Z.inline&&!Z.inHTML);else{J.push(_),G=_.endPos;continue}else{J.push(_),G=_.endPos;continue}}let z=K!==Y?K:G;if(K===Y){if(F1(A)){let D=I($,G),F=t($,G,D),M=G+F.charCount;if(F.spaceEquivalent<=3&&M<$.length&&$[M]==="[")z=M;else z=-1}else if(A==="[")z=G;else z=-1;K=z}if(z>=0&&z+1<$.length&&$[z+1]==="^")z=-1;if(z>=0){let D=B9($,z,Z,X,!1);if(D){J.push(D),G=D.endPos;continue}let F=I6($,z,G===0);if(F.shouldSkip){G=F.newPos;continue}}let W=pZ($,G,Z,X);if(W){J.push(W),G=W.endPos;continue}let q=G;if(F1($[q])){let D=I($,G),F=t($,G,D);q=G+F.charCount}if(q<$.length&&$[q]==="["&&q+1<$.length&&$[q+1]==="^"){let D=B9($,q,Z,X,!0);if(D){G=D.endPos;continue}}let j=c$($,G,Z,X);if(j){J.push(j),G=j.endPos;continue}G++}let Q=Z.refs||{},H={};for(let A in Q)H[A]=Q[A];if(e9(H))return[{type:O.refCollection,refs:H},...J];return J}function A$($,Z,X){var J=0,G=!0;let Y=$.length;while(J<Y){var K=0;while(J<Y&&b($,J)===d)K++,J++;if(J>=Y)break;if(K>0)G=!0;let M=b($,J);if(M===e0||M===$9){var U=e$($,J,{inline:!1},X);if(U){J=U.endPos,G=!0;continue}}var V=J,Q=0;while(V<Y&&Q<4){let v=b($,V);if(v===C)Q++,V++;else if(v===l)Q+=4-Q%4,V++;else break}if(Q<4&&V<Y&&b($,V)===p1&&G)if(V+1<Y&&b($,V+1)===T9){G=!1;var D=I($,J);J=D>=Y?Y:k($,D);continue}else{var H=B9($,V,{inline:!1,refs:Z},X,!1);if(H){J=H.endPos,G=!0;continue}var D=I($,J),A=$.indexOf(":",V+1);if(A===-1||A>=D){var _=t($,J,D);if(!b1($,J,D)&&M!==S9&&M!==u1&&M!==j1&&M!==r1&&_.spaceEquivalent<4)G=!1}J=D>=Y?Y:k($,D);continue}if(M===u1&&G){var z=J,W=[];while(z<Y){var D=I($,z),q=z;while(q<D){let S=b($,q);if(S===C||S===l)q++;else break}if(q>=D||b($,q)!==u1)break;var j=q+1;if(j<D&&(b($,j)===C||b($,j)===l))j++;W.push($.slice(j,D)),z=k($,D)}if(W.length){A$(W.join(`
`),Z,X),J=z,G=!0;continue}}var D=I($,J);if(D>=Y)J=Y;else{var F=b1($,J,D),_=t($,J,D);J=k($,D),G=M===S9||M===u1||M===j1||M===r1||F||_.spaceEquivalent>=4}}}function Z5($,Z){if($.charCodeAt(0)===65279)$=$.slice(1);$=i1($);let J={...{inline:!1,refs:{}}},G={...Z,slugify:Z?.slugify?(K)=>Z.slugify(K,K1):K1,sanitizer:Z?.sanitizer||Y9,tagfilter:Z?.tagfilter!==!1};if(!J.inline)A$($,J.refs||{},G);return c9($,J,G)}var Y5=/^\n+/,nZ=Symbol("markdown-options");function tZ($){var Z={};for(var X in $){var J=X.toLowerCase();Z[J==="for"?"htmlFor":X]=$[X]}return Z}function K5($){let Z=!1;for(let J=0;J<$.length;J++){let G=$.charCodeAt(J);if(G>=c0||G===l1||G===e0){Z=!0;break}}if(!Z)return $;let X="";for(let J=0;J<$.length;J++){let G=$.charCodeAt(J),Y=J+1<$.length?$.charCodeAt(J+1):0,K=J+2<$.length?$.charCodeAt(J+2):0;if(G===QZ&&J+2<$.length&&(Y>=g1&&Y<=C1||Y>=H1&&Y<=w$||Y>=N1&&Y<=B1)&&(K>=g1&&K<=C1||K>=H1&&K<=w$||K>=N1&&K<=B1))X+=$[J]+$[J+1]+$[J+2],J+=2;else if(G===l1)X+="%5C";else if(G===e0)X+="%60";else X+=G>=c0?encodeURIComponent($[J]):$[J]}return X}function oZ($){if(!$)return"";let Z=[];for(let X in $){let J=$[X];if(J===!0)Z.push(` ${X}`);else if(J!==void 0&&J!==null&&J!==!1)Z.push(` ${X}="${String(J)}"`)}return Z.length?Z.join(""):""}var V1=($)=>Array.isArray($)?$:$!==null?[$]:[],V5={[O.blockQuote]:($,{h:Z,output:X,state:J,slug:G})=>{let Y={},K=$.children;if($.alert)Y.class="markdown-alert-"+G($.alert.toLowerCase(),K1),K=[{attrs:{},children:[{type:O.text,text:$.alert}],verbatim:!0,type:O.htmlBlock,tag:"header"},...K];return Z("blockquote",{key:J.key,...Y},...V1(X(K,J)))},[O.breakLine]:($,{h:Z,state:X})=>Z("br",{key:X.key}),[O.breakThematic]:($,{h:Z,state:X})=>Z("hr",{key:X.key}),[O.frontmatter]:($,{h:Z,state:X,options:J})=>J.preserveFrontmatter?Z("pre",{key:X.key},$.text):null,[O.codeBlock]:($,{h:Z,state:X})=>{let J=$.lang?M9($.lang):"",G={...tZ($.attrs||{}),class:J?`language-${J} lang-${J}`:""};return Z("pre",{key:X.key},Z("code",G,$.text))},[O.codeInline]:($,{h:Z,state:X})=>Z("code",{key:X.key},$.text),[O.footnoteReference]:($,{h:Z,state:X,sanitize:J})=>Z("a",{key:X.key,href:J($.target,"a","href")},Z("sup",{},$.text)),[O.gfmTask]:($,{h:Z,state:X})=>Z("input",{key:X.key,checked:$.completed,readOnly:!0,type:"checkbox"}),[O.heading]:($,{h:Z,output:X,state:J})=>Z(`h${$.level}`,{id:$.id,key:J.key},...V1(X($.children,J))),[O.htmlBlock]:($,Z)=>{let{h:X,state:J,options:G,output:Y,sanitize:K,slug:U,refs:V}=Z;if(G.tagfilter&&$$($.tag)){let Q="rawText"in $&&typeof $.rawText==="string"?$.rawText:`<${$.tag}${oZ($.attrs)}>`;return X("span",{key:J.key},Q)}if($.rawText&&$.verbatim){let Q=$.tag.toLowerCase(),H=w9(Q),A=/<[a-z][^>]{0,100}>/i.test($.rawText),_=/<\/?pre\b/i.test($.rawText);if(H&&!A){let F=$.rawText.replace(new RegExp("\\s*</"+Q+">\\s*$","i"),"");if(G.tagfilter)F=Z$(F);return X($.tag,{key:J.key,...$.attrs},F)}if(_){let F=G.tagfilter?Z$($.rawText):$.rawText;return X($.tag,{key:J.key,...$.attrs,innerHTML:F})}let z=(F)=>{if(F.type===O.htmlSelfClosing&&"isClosingTag"in F&&F.isClosingTag)return[];if(F.type===O.paragraph){let M=F.children;return M?M.flatMap(z):[]}if(F.type===O.text)return F.text?.trim()?[F]:[];if(F.type===O.htmlBlock&&F.children)return[{...F,children:F.children?.flatMap(z)}];return[F]};if($.children&&$.children.length>0)return X($.tag,{key:J.key,...$.attrs},...V1(Y($.children.flatMap(z),J)));let W={slugify:(F)=>U(F,K1),sanitizer:K,tagfilter:!0},q=$.rawText.replace(/>\s+</g,"><").replace(/\n+/g," ").trim();if(new RegExp(`^<${$.tag}(\\s[^>]*)?>(\\s*</${$.tag}>)?$`,"i").test(q))return X($.tag,{key:J.key,...$.attrs});let D=c9(q,{inline:!1,refs:V,inHTML:!1},W);return X($.tag,{key:J.key,...$.attrs},...V1(Y(D.flatMap(z),J)))}return X($.tag,{key:J.key,...$.attrs},...V1($.children?Y($.children,J):null))},[O.htmlSelfClosing]:($,{h:Z,state:X,options:J})=>{if(J.tagfilter&&$$($.tag)){let G="rawText"in $&&typeof $.rawText==="string"?$.rawText:`<${$.tag}${oZ($.attrs)} />`;return Z("span",{key:X.key},G)}return Z($.tag,{key:X.key,...$.attrs})},[O.image]:($,{h:Z,state:X,sanitize:J})=>Z("img",{key:X.key,alt:$.alt?.length>0?$.alt:void 0,title:$.title||void 0,src:J($.target,"img","src")}),[O.link]:($,{h:Z,output:X,state:J})=>{let G={key:J.key};if($.target!=null)G.href=K5($.target);if($.title)G.title=$.title;return Z("a",G,...V1(X($.children,J)))},[O.table]:($,{h:Z,output:X,state:J})=>{let G=$.header.map((K,U)=>Z("th",{key:U,style:$.align[U]==null?{}:{textAlign:$.align[U]}},...V1(X(K,J)))),Y=$.cells.map((K,U)=>Z("tr",{key:U},...K.map((V,Q)=>Z("td",{key:Q,style:$.align[Q]==null?{}:{textAlign:$.align[Q]}},...V1(X(V,J))))));return Z("table",{key:J.key},Z("thead",{},Z("tr",{},...G)),Z("tbody",{},...Y))},[O.text]:($)=>$.text,[O.textFormatted]:($,{h:Z,output:X,state:J})=>Z($.tag,{key:J.key},...V1(X($.children,J))),[O.orderedList]:($,{h:Z,output:X,state:J})=>{let G=$.items.map((K,U)=>Z("li",{key:U},...V1(X(K,J)))),Y={key:J.key,start:$.start};return Z("ol",Y,...G)},[O.unorderedList]:($,{h:Z,output:X,state:J})=>{let G=$.items.map((Y,K)=>Z("li",{key:K},...V1(X(Y,J))));return Z("ul",{key:J.key},...G)},[O.paragraph]:($,{h:Z,output:X,state:J})=>Z("p",{key:J.key},...V1(X($.children,J))),[O.ref]:()=>null};function U5($,Z,X,J,G,Y,K,U){let V=V5[$.type];return V?V($,{h:J,output:Z,state:X,sanitize:G,slug:Y,refs:K,options:U}):null}var Q5=($,Z,X,J,G,Y)=>{let K=(Q,H,A)=>{let _=()=>U5(Q,(z)=>H(Array.isArray(z)?z:[z]),A,Z,X,J,G,Y);return $?$(_,Q,H,A):_()},U=(Q)=>Q.map((H)=>("text"in H)?H.text:""),V=(Q,H={})=>{let A=(H.renderDepth||0)+1;if(A>2500)return U(Q);H.renderDepth=A;let _=H.key,z=[],W=!1;for(let q=0;q<Q.length;q++){H.key=q;let j=K(Q[q],V,H),D=typeof j==="string";if(D&&W)z[z.length-1]+=j;else if(j!==null)if(Array.isArray(j))for(let F=0;F<j.length;F++)z.push(j[F]);else z.push(j);W=D}return H.key=_,H.renderDepth=A-1,z};return V},_5=($,Z)=>{if(typeof $==="function")return $;if(!Z)return $;let X=$,J=U9(Z,X,void 0);if(!J)return $;if(typeof J==="function")return J;if(typeof J==="object"&&J!==null&&(("render"in J)||("setup"in J)))return J;let G=U9(Z,`${X}.component`,X);if(typeof G==="function")return G;if(typeof G==="object"&&G!==null&&(("render"in G)||("setup"in G)))return G;return G};function ZZ($){let Z=[];for(let X of $){let J=X.type;if(J===O.text)Z.push(X.text);else if(J===O.htmlSelfClosing&&X.rawText)Z.push(X.rawText);else if(J===O.textFormatted){let G=X,Y=G.tag==="em"?"_":G.tag==="strong"?"**":"";Z.push(Y+ZZ(G.children)+Y)}else if("children"in X&&X.children)Z.push(ZZ(X.children))}return Z.join("")}function q5($){let Z=!1;for(let J=0;J<$.length-1;J++)if($[J].type===O.htmlBlock&&$[J+1].type===O.paragraph&&"removedClosingTags"in $[J+1]&&$[J+1].removedClosingTags&&"text"in $[J]){let G=$[J].text;if(G&&(G.indexOf("<pre")!==-1||G.indexOf("</pre")!==-1)){Z=!0;break}}if(!Z)return $;let X=[];for(let J=0;J<$.length;J++){let G=$[J];if(G.type===O.htmlBlock&&"rawText"in G&&G.rawText&&/<\/?pre\b/i.test(G.rawText)&&J+1<$.length&&$[J+1].type===O.paragraph&&"removedClosingTags"in $[J+1]&&$[J+1].removedClosingTags){let Y=G,K=$[J+1],U=ZZ(K.children);if(K.removedClosingTags){let Q=`</${Y.tag}>`,H=[];for(let A of K.removedClosingTags)if(A.type===O.htmlSelfClosing&&A.rawText){if(A.rawText.indexOf(Q)===-1)H.push(A.rawText)}U+=H.join("")}let V=(Y.rawText||"")+`
`+U;X.push({...Y,rawText:V,text:V}),J++}else X.push(G)}return X}function z5($,Z){let X={...Z||{}};X.overrides=X.overrides||{};let J=X.slugify||K1,G=X.sanitizer||Y9,Y=(q)=>eZ(q,{...X,wrapper:null});function K(q,j,...D){let F=typeof q==="string"?q:"",M=X.overrides&&Object.keys(X.overrides).length>0,v=M?U9(X.overrides,`${F}.props`,{}):null,S=j?tZ(j):null;if(S)for(let w in S){let R=S[w];if(typeof R==="string"&&R.length>0&&R[0]==="<"&&(gZ.test(R)||CZ.test(R)||t1(R,0)))S[w]=Y(R.trim())}let N=M?_5(q,X.overrides):q,x=S?.class,T=v?.class,B=x&&T?`${x} ${T}`:x||T||void 0;if(!M&&!B&&!S?.innerHTML)return $Z(N,S||{},...D);let y=S?{...S}:{};if(v)for(let w in v)y[w]=v[w];if(B)y.class=B;if(S?.innerHTML&&v?.innerHTML===void 0)y.innerHTML=S.innerHTML;return $Z(N,y,...D)}let U=X.createElement||((q,j,...D)=>$Z(q,j||{},...D)),V=q5($),Q={slugify:(q)=>J(q,K1),sanitizer:G,tagfilter:X.tagfilter!==!1,disableAutoLink:X.disableAutoLink,disableParsingRawHTML:X.disableParsingRawHTML,enforceAtxHeadings:X.enforceAtxHeadings,forceBlock:X.forceBlock,forceInline:X.forceInline,preserveFrontmatter:X.preserveFrontmatter},H=V[0]&&V[0].type===O.refCollection?V[0].refs:{},A=Q5(X.renderRule,K,G,J,H,X),_=A(V,{inline:X.forceInline,refs:H}),z=[];for(let q in H)if(q.charCodeAt(0)===T9)z.push({identifier:q,footnote:H[q].target});if(z.length){let q=z.map((j)=>{let D=j.identifier.slice(1),F=c9(j.footnote,{inline:!0,refs:H},Q),M=A(F,{inline:!0,refs:H}),v=V1(M);return K("div",{id:J(D,K1)},D+": ",...v)});_.push(K("footer",{key:"footer"},...q))}if(X.wrapper===null)return _.length===0?null:_.length===1?_[0]:_;let W=X.wrapper||(X.forceInline?"span":"div");if(_.length>1||X.forceWrapper)return U(W,{...X.wrapperProps},..._);else if(_.length===1)return _[0];return null}function eZ($="",Z={}){let X={...Z||{}};X.overrides=X.overrides||{};let J=X.slugify||K1,G=X.sanitizer||Y9,Y=X.forceInline||!X.forceBlock&&!T$.test($),K={slugify:(H)=>J(H,K1),sanitizer:G,tagfilter:X.tagfilter!==!1,disableAutoLink:X.disableAutoLink,disableParsingRawHTML:X.disableParsingRawHTML,enforceAtxHeadings:X.enforceAtxHeadings,forceBlock:X.forceBlock,forceInline:Y,preserveFrontmatter:X.preserveFrontmatter},U={};if(!Y)A$($,U,K);let V=$;if(!Y){let H=V.length;while(H>0&&(V[H-1]===`
`||V[H-1]==="\r"))H--;V=V.slice(0,H),V=`${V.replace(Y5,"")}

`}let Q=c9(Y?$:V,{inline:Y,refs:U},K);return z5(Q,{...X,forceInline:Y})}var N5=($)=>{return X5(nZ,$.options),$.children},D5=($)=>{let Z=G5(nZ,void 0),X=sZ(()=>{var V=Object.assign({},Z,$.options);return V.overrides=Object.assign({},Z?.overrides,$.options?.overrides),V}),J=$.children===null||$.children===void 0?"":$.children,{options:G,children:Y,...K}=$;return sZ(()=>eZ(J,{...X.value,wrapperProps:{...X.value?.wrapperProps,...K}})).value},T5=D5;export{K1 as slugify,Y9 as sanitizer,Z5 as parser,tZ as htmlAttrsToVueProps,T5 as default,eZ as compiler,z5 as astToJSX,O as RuleType,N5 as MarkdownProvider,nZ as MarkdownOptionsKey,D5 as Markdown};

//# debugId=7017409B0C18AAE864756E2164756E21
//# sourceMappingURL=vue.js.map
